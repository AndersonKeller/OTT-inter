{"version":3,"sources":["webpack:///./pages/samples/payments/js-api-cvv.js","webpack:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?6cdb"],"names":["Page","POS","errorCode","layoutProps","onToken","result","json","JSON","parse","console","log","token","useEffect","script","document","createElement","src","async","onload","window","setPublicKey","setEnvironment","scriptLoaded","body","appendChild","color","CONFIG","appName","id","method","onSubmit","event","preventDefault","data","token_type","credit_card_cvv","getElementById","value","payment_method_token","tokenize","placeholder","type","required","style","lineHeight","getInitialProps","_","IS_PRODUCTION","__NEXT_P","push"],"mappings":"uNAOMA,EAAO,SAAC,GAA+B,IAEvCC,EAFUC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,YAczB,SAASC,EAAQC,GACf,IAAMC,EAAOC,KAAKC,MAAMH,GACxBI,QAAQC,IAAKJ,GACTA,EAAKK,MAkCX,OARAC,qBAAU,WACR,IAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IANW,mDAOlBH,EAAOI,OAAQ,EACfJ,EAAOK,OAAS,kBAnBlB,WAIE,KADAjB,EAAMkB,OAAOlB,KAEX,OAAOQ,QAAQC,IAAI,mBAErBT,EAAImB,aAL0B,wCAM9BnB,EAAIoB,eAPY,QAkBMC,IACtBR,SAASS,KAAKC,YAAYX,MAI1B,EAAC,IAAD,aAAQY,MAAM,QAAQvB,UAAWA,GAAeC,GAC9C,EAAC,IAAD,KACE,oCAA6BuB,IAAOC,UAFxC,WAKI,yCACA,UAAMC,GAAG,eAAeC,OAAO,OAAOC,SAtD5C,SAAkBC,GAChBA,EAAMC,iBACN,IAAMC,EAAO,CACXC,WAAY,gBACZC,gBAAiBrB,SAASsB,eAAe,mBAAmBC,MAC5DC,qBAAsBxB,SAASsB,eAAe,wBAAwBC,OAExEpC,EAAIsC,SAASN,EAAM7B,KAkDb,aACE,WACEwB,GAAG,kBACHY,YAAY,MACZC,KAAK,UAGT,aACE,WACEb,GAAG,uBACHY,YAAY,uBACZE,UAAQ,EACRD,KAAK,SAEP,OAAGE,MAAO,CAACC,WAAY,IAAI,sCAA2B,aAA3B,0CAI7B,YAAQH,KAAK,UAAb,UAMVzC,EAAK6C,gBAAkB,SAAAC,GACrB,GAAIC,IAAe,CAEjB,MAAO,CAAE7C,UADS,OAKPF,a,sBClGVmB,OAAO6B,SAAW7B,OAAO6B,UAAY,IAAIC,KAAK,CAC7C,+BACA,WACE,OAAO,EAAQ,a","file":"static/zmNvSS4XD0Lz-EAFId868/pages/samples/payments/js-api-cvv.js","sourcesContent":["\nimport Head from 'next/head'\nimport Layout from '../../../components/layout/Layout'\nimport { CONFIG } from '../../../config'\nimport { useEffect } from 'react'\nimport { IS_PRODUCTION } from '../../../constants/constants'\n\nconst Page = ({ errorCode, layoutProps }) => {\n\n  let POS\n\n  function onSubmit(event) {\n    event.preventDefault();\n    const data = {\n      token_type: \"card_cvv_code\",\n      credit_card_cvv: document.getElementById('credit_card_cvv').value,\n      payment_method_token: document.getElementById('payment_method_token').value,\n    }\n    POS.tokenize(data, onToken)\n  }\n\n  function onToken(result) {\n    const json = JSON.parse(result)\n    console.log (json);\n    if (json.token) {\n      // sample response:\n      /* {\n        created: 1575921556971\n        token: \"NTE0ZjMyMmYtMmE0Ny00MWYyLThlN2YtOGJmNWY5NjAzNjAyY3Z2X2RlbGltaXRlcnZhdWx0OnYxOnM5UUdDL00rNitVVXAxZWdNQVJuUVg1WGdUUzR0Z2YxWEJsZjJMQzE1dGY0ZTFTOXQwMTlHVGo4Ym9CUVJlekJINy93SkpMK2srUDdrWGkxUGpFdjRBdjkxS3lnd296TUxCT0JQY1lT\"\n        token_type: \"card_cvv_code\"\n        type: \"tokenized\"\n      } */\n    }\n  }\n\n  function scriptLoaded() {\n    const payUEnv = 'test'\n    const businessUnitPublicKey = '88985036-6530-4b5a-a7ec-c4e07ec07f6c'\n    POS = window.POS\n    if ( ! POS) {\n      return console.log('POS not defined')\n    }\n    POS.setPublicKey(businessUnitPublicKey)\n    POS.setEnvironment(payUEnv)\n  }\n\n  const latestJSApi = 'https://js.paymentsos.com/v2/latest/token.min.js'\n  const specifiedJSApi = 'https://js.paymentsos.com/v2/0.0.1/token.min.js'\n  const jsApi = latestJSApi || specifiedJSApi\n\n  useEffect(() => {\n    const script = document.createElement(\"script\")\n    script.src = jsApi\n    script.async = true\n    script.onload = () => scriptLoaded()\n    document.body.appendChild(script)\n  })\n\n  return (\n    <Layout color=\"white\" errorCode={errorCode} {...layoutProps}>\n      <Head>\n        <title>Payments Sample &lt; {CONFIG.appName}</title>\n      </Head>\n        Payments\n        <p>Reusing card's information</p>\n        <form id=\"payment-form\" method=\"post\" onSubmit={onSubmit}>\n\n          {/* mandatory data */}\n          <div>\n            <input\n              id=\"credit_card_cvv\"\n              placeholder=\"CVV\"\n              type=\"text\"\n            />\n          </div>\n          <div>\n            <input\n              id=\"payment_method_token\"\n              placeholder=\"Payment Method Token\"\n              required\n              type=\"text\"\n            />\n            <p style={{lineHeight: 1}}><small>Something similar to<br />\n              47e8dfbe-5cad-4c9f-29df-90b8bb54b6b1</small></p>\n          </div>\n\n          <button type=\"submit\">Pay</button>\n        </form>\n    </Layout>\n  )\n}\n\nPage.getInitialProps = _ => {\n  if (IS_PRODUCTION) {\n    const errorCode = 404\n    return { errorCode }\n  }\n}\n\nexport default Page\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/samples/payments/js-api-cvv\",\n      function () {\n        return require(\"private-next-pages/samples/payments/js-api-cvv.js\");\n      }\n    ]);\n  "],"sourceRoot":""}