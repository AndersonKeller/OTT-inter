{"version":3,"sources":["webpack:///./components/featured.js","webpack:///./pages/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js"],"names":["Featured","style","className","props","height","src","img","width","children","HomePage","api","contents","featuredMedia","featuredMediaError","layoutProps","media","user","useContext","UserContext","pageTitle","CONFIG","appName","useState","Layout","paddingTop","rel","sizes","href","TENANT","type","color","name","content","error","map","item","index","showBanner","is_paid","contentable_type","category","slug","key","idx","id","contentable_id","movie","getInitialProps","ctx","a","get","homePage","data","firstContent","Router","push","withApi","CoverImgContent","styled","div","Color","theme","colors","background","fade","string","posterUrl","Cover","description","logo","poster_url","url","fallback","png","webp","empezaYa","lang","video_file","alt","srcSet","MediaLink","passHref","movieId","HomeCarouselSection","categorySlug","setCategory","setError","loading","setLoading","useEffect","console","log","errorMessage","includes","fetchData","Loading","loadingState","BannerSection","banner","setBanner","_","link","target","banner_url","_toArray","arr","window","__NEXT_P"],"mappings":"wTA8CeA,EA9CE,SAAC,GAAkC,EAAhCC,MAAgC,IAAzBC,EAAyB,EAAzBA,UAAaC,EAAY,qCAClD,OACE,sCAAgB,YAAcD,IAA9B,IACE,SAAiCE,OAAO,MAAMC,IAAKF,EAAMG,IAAKC,MAAM,OAApE,6CACA,sDACGJ,EAAMK,UAHX,2tB,0KCiBEC,EAAW,SAAC,GAA6E,IAA3EC,EAA2E,EAA3EA,IAAKC,EAAsE,EAAtEA,SAAUC,EAA4D,EAA5DA,cAAeC,EAA6C,EAA7CA,mBAA2BC,GAAkB,EAAzBC,MAAyB,EAAlBD,aAEnEE,EAASC,qBAAWC,KAApBF,KACSG,EAAcC,IAAvBC,QAHqF,EAIzEC,mBAAS,GAJgE,UAM7F,OACE,EAACC,EAAA,EAAD,aAAQC,YAAY,GAAWV,EAA/B,CAA4CC,MAAOH,IACjD,EAAC,IAAD,KACE,uCAAQO,GADV,IAEE,UAAMM,IAAI,mBAAmBC,MAAM,UAAUC,KAAI,kBAAaC,IAAb,mCAAjD,6BACA,UAAMH,IAAI,OAAOI,KAAK,YAAYH,MAAM,QAAQC,KAAI,kBAAaC,IAAb,iCAApD,6BACA,UAAMH,IAAI,OAAOI,KAAK,YAAYH,MAAM,QAAQC,KAAI,kBAAaC,IAAb,iCAApD,6BACA,UAAMH,IAAI,WAAWE,KAAI,kBAAaC,IAAb,6BAAzB,6BACA,UAAMH,IAAI,YAAYE,KAAI,kBAAaC,IAAb,kCAAqDE,MAAM,UAArF,6BACA,UAAMC,KAAK,0BAA0BC,QAAQ,UAA7C,6BACA,UAAMD,KAAK,cAAcC,QAAQ,UAAjC,8BAEF,2CAGE,EAAC,EAAD,CAAOC,MAAOpB,EAAoBE,MAAOH,IAIzC,qDACGD,GAAYA,EAASuB,KAAI,SAACC,EAAMC,GAC/B,IAAMC,EAAcF,EAAKG,SAAWtB,IAASmB,EAAKG,UAAYtB,EAE9D,OAD8CmB,EAAtCI,kBAEN,IAAK,aACH,OAAO,EAAC,EAAD,CAAqB7B,IAAKA,EAAK8B,SAAUL,EAAKM,KAAMC,IAAKN,EAAOO,IAAKP,IAC9E,IAAK,UACH,OAAOC,GAAc,EAAC,EAAD,CAAeO,GAAIT,EAAKU,eAAgBH,IAAKN,IACpE,IAAK,SACH,OAAOC,GAAc,EAAC,EAAD,CAAeS,MAAOX,EAAKM,KAAMC,IAAKN,UA5BvE,0SAyDJ3B,EAASsC,gBAAT,uCAA2B,WAAMC,GAAN,6BAAAC,EAAA,6DACjBvC,EAAQsC,EAARtC,IADiB,SAEQA,EAAIwC,IAAI,cAFhB,uBAEXC,EAFW,EAEjBC,KAFiB,uBAKaD,EAASxC,UAAtC0C,EALgB,yBAM0B3C,EAAIwC,IAAI,SAAWG,EAAaZ,KAAO,mBANjE,kBAMfW,KAAQN,MAGZQ,IAAOC,KAAK,UATO,uEAcDJ,EAASxC,UAArBA,EAda,6BAehB,CAAEA,WAAUE,mBAAoB,EAAF,KAfd,0DAA3B,sDAmBe2C,sBAAQ/C,GAAR+C,IAETC,EAAkBC,IAAOC,IAAV,yEAAGD,CAAH,ygBAEY,SAAAvD,GAAK,OAAIyD,IAAMzD,EAAM0D,MAAMC,OAAOC,YAAYC,KAAK,GAAGC,YAAiB,SAAA9D,GAAK,OAAIA,EAAM0D,MAAMC,OAAOC,cACzH,SAAA5D,GAAK,OAAIA,EAAM+D,aAWS,SAAA/D,GAAK,OAAIyD,IAAMzD,EAAM0D,MAAMC,OAAOC,YAAYC,KAAK,GAAGC,YAAiB,SAAA9D,GAAK,OAAIA,EAAM0D,MAAMC,OAAOC,cACzH,SAAA5D,GAAK,OAAIA,EAAM+D,aActBC,EAAQ,SAAC,GAAqB,IAAnBlC,EAAmB,EAAnBA,MAAOlB,EAAY,EAAZA,MAEtB,GAAIkB,EACF,OACE,qDAJ8B,IAO1BjB,EAASC,qBAAWC,KAApBF,KAP0B,EAQQD,GAAS,GAA3CqD,EAR0B,EAQ1BA,YAAaC,EARa,EAQbA,KAAMC,EARO,EAQPA,WARO,EAa9BD,GAAQ,GAHVjE,EAVgC,EAUhCA,OAVgC,IAWhCmE,IAAgBC,GAXgB,aAWQ,GAXR,WAWNC,EAXM,EAWNA,IAAKC,EAXC,EAWDA,KAC/BnE,EAZgC,EAYhCA,MAEIoE,EAA2B,UAAhBvD,IAAOwD,KAAmB,uBAAmB,kBAC9D,OAEE,EAAC,IAAD,CAAMjD,KAAMZ,GAASA,EAAM8D,WAAf,iBAAsC9D,EAAM0B,KAA5C,UAA2D,KAGrE,+CAoGuB4B,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MApG3D,0BAIG+D,GACC,+CA+FmBD,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MA/FvD,mBACE,+CA8FiB8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MA9FrD,YAEE,EAACkD,EAAD,CAAiBS,UAAWI,GAE1B,SAAKQ,IAAI,GAAsBzE,IAAKiE,EAApC,sCA0FaD,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MA1FjD,eAYR,+CA8EqB8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MA9EzD,wBACE,+CA6EmB8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MA7EvD,gCACE,+CA4EiB8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MA5ErD,iBAGG8D,GACC,+CAwEaA,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MAxEjD,QACE,+CAuEW8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MAvE/C,yCACE,8CAsES8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MAtE7C,gBACE,mDAqEO8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,OApEzC,YAAQwE,OAAQL,EAAM7C,KAAK,aAA3B,sCAoEKwC,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,QAnEzC,YAAQwE,OAAQN,EAAK5C,KAAK,YAA1B,sCAmEKwC,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,QAlEzC,SAA2BH,OAAQA,EAAQC,IAAKmE,EAAUjE,MAAOA,EAAjE,sCAkEK8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MAlEzC,mBAQT6D,GACC,+CAyDaC,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MAzDjD,2BACE,+CAwDW8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MAxD/C,0CACE,6CAuDS8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MAvD7C,SAAqB6D,MAQ7B,+CA+CiBC,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MA/CrD,yCACIS,EAME,oBACA,+CAuCWqD,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MAvC/C,aACE,EAACyE,EAAA,EAAD,YAAe,CAAEjE,SAAjB,CAA0BkE,UAAQ,IAChC,EAAC,IAAD,eAGJ,+CAkCWZ,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MAlC/C,aACE,EAAC,IAAD,CAAa2E,QAASnE,EAAM6B,OAZhC,+CA6CayB,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,MA7CjD,aACE,EAAC,IAAD,CAAMoB,KAAK,UAAUsD,UAAQ,GAC3B,EAAC,IAAD,KAASN,QAzDvB,gCAoGuBN,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,IApG3D,ofAoGuB8D,EAAgB,IAATjE,EAAeG,EAAQ,IAAM,EApG3D,qmBAyIA4E,EAAsB,SAAC,GAAyC,IAAvCzE,EAAuC,EAAvCA,IAAe0E,EAAwB,EAAlC5C,SAAwBG,EAAU,EAAVA,IAAU,EAEpCrB,mBAAS,MAAlCkB,EAF6D,KAEnD6C,EAFmD,OAG1C/D,oBAAS,GAA5BW,EAH6D,KAGtDqD,EAHsD,OAItChE,oBAAS,GAAhCiE,EAJ6D,KAIpDC,EAJoD,KAK5DZ,EAASxD,IAATwD,KAsBR,OApBAa,qBAAU,WAAM,4CACd,gCAAAxC,EAAA,6DACEqC,GAAS,GACTE,GAAW,GAFb,kBAI2B9E,EAAIwC,IAAJ,mBAAoBkC,IAJ/C,gBAIYhC,EAJZ,EAIYA,KACRsC,QAAQC,IAAIvC,GACZiC,EAAYjC,GANhB,kDAQUwC,EAAe,CAAC,KAAM,SAASC,SAASjB,GAAQ,2CAClD,gCACJU,EAASM,GAVb,QAYEJ,GAAW,GAZb,2DADc,0DAgBdM,KACC,CAACV,IAIF,oBACE,2DACGG,EACC,iDACE,EAACQ,EAAA,EAAD,CAASC,aAAcT,KAEvB/C,EACF,EAAC,IAAD,CAAiBA,SAAUA,EAAUG,IAAKA,IACxCV,GACF,iDACGA,IAIP,qCAdF,0DAgCEgE,EAAgB,SAAC,GAAkB,IAAhBrD,EAAgB,EAAhBA,GAAIE,EAAY,EAAZA,MAAY,EACXxB,qBAArB4E,EADgC,KACxBC,EADwB,OAET7E,oBAAS,GAAhCiE,EAFgC,KAEvBC,EAFuB,OAGblE,qBAAnBW,EAHgC,KAGzBqD,EAHyB,KAqBvC,OAhBAG,qBAAU,SAAAW,GAAK,4CACb,8BAAAnD,EAAA,6DACEuC,GAAW,GADb,kBAG4B5C,EAAKlC,cAAMwC,IAAN,mBAAsBN,IAAQlC,cAAMwC,IAAN,iBAAoBJ,IAHnF,gBAGYM,EAHZ,EAGYA,KACR+C,EAAU/C,GAJd,gDAOIkC,GAAS,GAPb,QASEE,GAAW,GATb,0DADa,0DAabM,KACC,CAAClD,IAGF,qCACE,6CAGE,iDACE,EAACmD,EAAA,EAAD,CAASC,aAAcT,KAIxBW,GAAUtD,GACT,OAA4BjB,KAAMuE,EAAOG,KAAMC,OAAO,SAAtD,yCACE,EAAC,EAAD,CAAUhG,IAAK4F,EAAOK,cAIzBL,GAAUpD,GACT,EAACkC,EAAA,EAAD,CAAWjE,MAAOmF,EAAOpD,MAAOmC,UAAQ,GACtC,mCACE,EAAC,EAAD,CACE/E,UAAU,WACVI,IAAK4F,EAAOpD,MAAMwB,eAOzBrC,GACC,2DA5BN,wX,kCCpXJ,sFAIe,SAASuE,EAASC,GAC/B,OAAO,YAAeA,IAAQ,YAAgBA,IAAQ,YAA2BA,IAAQ,gB,sBCJtFC,OAAOC,SAAWD,OAAOC,UAAY,IAAIpD,KAAK,CAC7C,IACA,WACE,OAAO,EAAQ,a","file":"static/zmNvSS4XD0Lz-EAFId868/pages/index.js","sourcesContent":["const Featured = ({ style, className,...props }) => {\n  return (\n    <div className={\"featured \" + className}>\n      <img className=\"img-fluid w-100\" height=\"560\" src={props.img} width=\"1440\" />\n      <div className=\"featured-content\">\n        {props.children}\n      </div>\n      <style jsx>{`\n        img {\n          position: relative;\n          z-index: -1;\n        }\n        .featured {\n          margin-bottom: 30px;\n          overflow: hidden;\n          position: relative;\n        }\n        .featured img {\n          transition: opacity .2s;\n          will-change: opacity;\n        }\n        .gradient:hover img {\n          opacity: .75;\n        }\n        .featured-content {\n          left: 9%;\n          padding-left: 15px;\n          position: absolute;\n          top: 75%;\n        }\n        .featured-content :global(.btn) {\n          margin-right: 15px;\n        }\n        .gradient {\n          background: linear-gradient(rgba(31, 31, 31, 0) 65%, rgb(31, 31, 31)), linear-gradient(rgba(0, 0, 0, 0.5) 10%, transparent 30%);\n        }\n        @media (max-width: 576px) {\n          .featured-content {\n            padding-left: 0;\n            top: 70%;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\nexport default Featured\n","import Head from 'next/head'\nimport Link from 'next/link'\nimport React, { useContext, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport Button from '../components/button'\nimport CarouselSection from '../components/carousel-section'\nimport Featured from '../components/featured'\nimport Layout from '../components/layout/Layout'\nimport Loading from '../components/Loading/Loading'\nimport MediaLink from '../components/MediaLink/MediaLink'\nimport WishlistBtn from '../components/wishlist-btn'\nimport UserContext from '../contexts/UserContext'\nimport { CONFIG } from '../config'\nimport api from '../services/api'\nimport withApi from '~/components/withApi'\nimport Color from 'color'\nimport { TENANT } from \"~/constants/constants\";\nimport Router from \"next/router\";\n\nconst HomePage = ({ api, contents, featuredMedia, featuredMediaError, media, layoutProps }) => {\n\n  const { user } = useContext(UserContext)\n  const { appName: pageTitle } = CONFIG\n  let [idx, setIdx] = useState(0)\n\n  return (\n    <Layout paddingTop={false} {...layoutProps} media={featuredMedia}>\n      <Head>\n        <title>{pageTitle}</title>x\n        <link rel=\"apple-touch-icon\" sizes=\"180x180\" href={`/static/${TENANT}/favicon/faviconlau-180x180.png`} />\n        <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href={`/static/${TENANT}/favicon/faviconlau-32x32.png`} />\n        <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href={`/static/${TENANT}/favicon/faviconlau-16x16.png`} />\n        <link rel=\"manifest\" href={`/static/${TENANT}/favicon/site.webmanifest`} />\n        <link rel=\"mask-icon\" href={`/static/${TENANT}/favicon/safari-pinned-tab.svg`} color=\"#5bbad5\" />\n        <meta name=\"msapplication-TileColor\" content=\"#da532c\" />\n        <meta name=\"theme-color\" content=\"#ffffff\" />\n      </Head>\n      <div className=\"index\">\n\n        {/* cover */}\n        <Cover error={featuredMediaError} media={featuredMedia} />\n        {/* <Cover media={featuredMedia} /> */}\n\n        {/* contents */}\n        <div className=\"index__contents\">\n          {contents && contents.map((item, index) => {\n            const showBanner = (item.is_paid && user || !item.is_paid && !user)\n            const { contentable_type: contentableType } = item\n            switch (contentableType) {\n              case 'categories':\n                return <HomeCarouselSection api={api} category={item.slug} key={index} idx={index} />\n              case 'banners':\n                return showBanner && <BannerSection id={item.contentable_id} key={index} />\n              case 'movies':\n                return showBanner && <BannerSection movie={item.slug} key={index} />\n            }\n          })}\n        </div>\n\n      </div>\n      <style jsx>{`\n        .index {\n          margin-bottom: 75px;\n        }\n        .index__contents {\n          position: relative;\n          z-index: 2;\n          padding-bottom: 4em;\n        }\n\n        .home-carousel-section:first-child {\n          padding: 3.5em 0;\n        }\n        @media (min-width: 768px) {\n          .index {\n            margin-bottom: 30px;\n          }\n        }\n      ` }</style>\n    </Layout>\n  )\n}\n\nHomePage.getInitialProps = async ctx => {\n  const { api } = ctx\n  const { data: homePage } = await api.get('pages/home');\n\n  try {\n    const [firstContent, ...contents] = homePage.contents\n    const { data: { movie: featuredMedia } } = await api.get('movie/' + firstContent.slug + '?for=home-cover')\n\n    typeof window !== 'undefined'\n      ? Router.push('/login')\n      : ctx.res.writeHead(302, { Location: '/signup' }).end()\n\n    // return { contents, featuredMedia }\n  } catch (error) {\n    const [...contents] = homePage.contents;\n    return { contents, featuredMediaError: error };\n  }\n}\n\nexport default withApi(HomePage)\n\nconst CoverImgContent = styled.div`\n  background-image:\n    linear-gradient(to bottom, ${props => Color(props.theme.colors.background).fade(1).string()} 80%, ${props => props.theme.colors.background} 100%),\n    url('${props => props.posterUrl}');\n  background-position: 50% 0, 50% 0, 75% 0;\n  background-repeat: no-repeat, no-repeat, no-repeat;\n  background-size: cover, cover, cover;\n  &::before {\n    content: '';\n    display: block;\n    padding-bottom: 112.5%;\n  }\n  @media (min-width: 768px) {\n    background-image:\n      linear-gradient(to bottom, ${props => Color(props.theme.colors.background).fade(1).string()} 65%, ${props => props.theme.colors.background} 100%),\n      url('${props => props.posterUrl}');\n    background-position: 50% 0, 50% 0, 40% 50%;\n    &::before {\n      padding-bottom: 80%;\n    }\n  }\n  @media (min-width: 1200px) {\n    background-position: 50% 0, 50% 0, 75% 50%;\n    &::before {\n      padding-bottom: 48%;\n    }\n  }\n`\n\nconst Cover = ({ error, media }) => {\n\n  if (error) {\n    return (\n      <p>No se puede cargar contenido destacado</p>\n    )\n  }\n  const { user } = useContext(UserContext)\n  const { description, logo, poster_url } = media || {}\n  const {\n    height,\n    url: { default: fallback, png, webp } = {},\n    width,\n  } = logo || {}\n  const empezaYa = CONFIG.lang === 'es-CL' ? '¡Vívelo ahora!' : '¡Empieza Ya!'\n  return (\n\n    <Link href={media && media.video_file ? `/media/${media.slug}/watch` : '/'} >\n\n\n      <div className=\"cover container-fluid\">\n\n        {/* poster backaground banner image */}\n\n        {poster_url && (\n          <div className=\"cover__img row\">\n            <div className=\"col p-0\">\n\n              <CoverImgContent posterUrl={poster_url}>\n\n                <img alt=\"\" className=\"d-none\" src={poster_url} />\n\n\n              </CoverImgContent>\n\n\n            </div>\n          </div>\n        )\n        }\n\n\n        <div className=\"cover__contents row\">\n          <div className=\"col-12 col-md-4 offset-md-1\">\n            <div className=\"cover__infos\">\n\n              {/* logo overlay image */}\n              {logo && (\n                <div className=\"row\">\n                  <div className=\"col-8 offset-2 col-md-12 offset-md-0\">\n                    <h1 className=\"cover__logo\">\n                      <picture>\n                        <source srcSet={webp} type=\"media/webp\" />\n                        <source srcSet={png} type=\"media/png\" />\n                        <img className=\"img-fluid\" height={height} src={fallback} width={width} />\n                      </picture>\n                    </h1>\n                  </div>\n                </div>\n              )}\n\n              {/* content's description */}\n              {description && (\n                <div className=\"row cover__description\">\n                  <div className=\"col-10 offset-1 col-md-12 offset-md-0\">\n                    <p className=\"mb-0\">{description}</p>\n                  </div>\n                </div>\n              )}\n\n            </div>\n\n            {/* cta buttons */}\n            <div className=\"row justify-content-center gutter-15\">\n              {!user ? (\n                <div className=\"col-auto\">\n                  <Link href=\"/signup\" passHref>\n                    <Button>{empezaYa}</Button>\n                  </Link>\n                </div>\n              ) : <>\n                  <div className=\"col-auto\">\n                    <MediaLink {...{ media }} passHref>\n                      <Button>Mira</Button>\n                    </MediaLink>\n                  </div>\n                  <div className=\"col-auto\">\n                    <WishlistBtn movieId={media.id} />\n                  </div>\n                </>}\n            </div>\n          </div>\n\n        </div>\n        {/* styles */}\n        <style jsx>{`\n        .cover {\n          font-size: 12px;\n          line-height: 1.4;\n          margin-bottom: 15px;\n          overflow: hidden;\n          padding-bottom: 15px;\n          position: relative;\n          text-align: center;\n          z-index: 1;\n        }\n        .cover__img {\n          margin-bottom: -90px;\n        }\n        .cover__infos {\n          margin-bottom: 15px;\n        }\n        .cover__logo {\n          margin-top: 0;\n          margin-bottom: 15px;\n          position: relative;\n        }\n        .cover__logo::before {\n          content: '';\n          display: block;\n          padding-bottom: ${ logo ? height * 100 / width + '%' : 0};\n        }\n        .cover__logo img {\n          left: 0;\n          position: absolute;\n          top: 0;\n        }\n        @media (min-width: 768px) {\n          .cover {\n            font-size: 16px;\n            line-height: 1.5;\n            margin-bottom: -60px;\n            text-align: left;\n          }\n          .cover__img {\n            margin-bottom: 0;\n          }\n          .cover__contents {\n            align-items: center;\n            height: 100%;\n            padding-top: var(--padding-top);\n            padding-bottom: 60px;\n            position: absolute;\n            width: 100%;\n            top: 0;\n          }\n          .cover__infos {\n            margin-bottom: 15px;\n          }\n        }\n      ` }</style>\n\n      </div >\n    </Link >\n  )\n}\n\nconst HomeCarouselSection = ({ api, category: categorySlug, idx }) => {\n\n  const [category, setCategory] = useState(null)\n  const [error, setError] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const { lang } = CONFIG\n\n  useEffect(() => {\n    async function fetchData() {\n      setError(false)\n      setLoading(true)\n      try {\n        const { data } = await api.get(`category/${categorySlug}`)\n        console.log(data);\n        setCategory(data)\n      } catch (error) {\n        const errorMessage = ['es', 'es-CL'].includes(lang) ? 'Error al intentar cargar la categoría'\n          : 'Error trying to load category'\n        setError(errorMessage)\n      }\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [categorySlug])\n\n  // alert(key)\n  return (\n    <>\n      <div className=\"home-carousel-section\">\n        {loading ? (\n          <div className=\"text-center\">\n            <Loading loadingState={loading} />\n          </div>\n        ) : category ? (\n          <CarouselSection category={category} idx={idx} />\n        ) : error && (\n          <div className=\"text-center\">\n            {error}\n          </div>\n        )}\n      </div>\n      <br></br>\n      <style jsx>{`\n        .home-carousel-section {\n            //margin-bottom: 75px;\n            //margin-top: 75px;\n            //padding: 1.5em 0;\n            //overflow: hidden;\n        }\n        @media (min-width: 768px) {\n          .home-carousel-section {\n            //margin-bottom: 55px;\n          }\n        }\n      ` }</style>\n    </>\n  )\n}\n\nconst BannerSection = ({ id, movie }) => {\n  const [banner, setBanner] = useState()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState()\n\n  useEffect(_ => {\n    async function fetchData() {\n      setLoading(true)\n      try {\n        const { data } = await (id ? api().get(`/banners/${id}`) : api().get(`/movie/${movie}`))\n        setBanner(data)\n\n      } catch (error) {\n        setError(true)\n      }\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [id])\n\n  return (\n    <div>\n      <div className=\"section\">\n\n        {/* loading */}\n        <div className=\"text-center\">\n          <Loading loadingState={loading} />\n        </div>\n\n        {/* features */}\n        {banner && id &&\n          <a className=\"sponsor-link\" href={banner.link} target=\"_blank\">\n            <Featured img={banner.banner_url} />\n          </a>\n        }\n\n        {banner && movie &&\n          <MediaLink media={banner.movie} passHref>\n            <a>\n              <Featured\n                className=\"gradient\"\n                img={banner.movie.poster_url}\n              />\n            </a>\n          </MediaLink>\n        }\n\n        {/* error */}\n        {error && (\n          <div className=\"text-center\">Error</div>\n        )}\n\n      </div>\n      <style jsx>{`\n        .sponsor-link {\n          color: white !important;\n          text-decoration: none;\n        }\n        .sponsor-link:hover {\n          color: white !important;\n          text-decoration: none;\n        }\n        a:not([href]):not([tabindex]):hover {\n          color: white !important;\n          text-decoration: none;\n        }\n      ` }</style>\n    </div>\n  );\n}\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.js\");\n      }\n    ]);\n  "],"sourceRoot":""}