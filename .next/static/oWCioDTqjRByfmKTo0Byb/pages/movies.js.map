{"version":3,"sources":["webpack:///./pages/movies.js","webpack:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?bde5","webpack:///./components/MediaList/MediaList.js"],"names":["MoviesPage","layoutProps","useState","medias","setMedias","loading","setLoading","error","setError","useContext","SearchContext","search","setSearch","useEffect","_","a","api","get","data","fetchData","title","CONFIG","appName","type","placeholder","onChange","e","target","value","length","loadingState","window","__NEXT_P","push","wishlist","category","map","media","key","className"],"mappings":"qSAiHeA,UAnGI,SAAC,GAAoB,IAAlBC,EAAkB,EAAlBA,YAAkB,EAEVC,qBAArBC,EAF+B,KAEvBC,EAFuB,OAGRF,oBAAS,GAAhCG,EAH+B,KAGtBC,EAHsB,OAIZJ,oBAAS,GAA5BK,EAJ+B,KAIxBC,EAJwB,OAKRC,qBAAWC,KAAjCC,EAL8B,EAK9BA,OAAQC,EALsB,EAKtBA,UAOhBC,qBAAU,SAAAC,IACO,uCAAG,WAAMA,GAAN,iBAAAC,EAAA,sEAEdT,GAAW,GAFG,SAGiBU,cAAMC,IAAIN,EAAS,WAAH,OAAcA,GAAW,WAH1D,gBAGAR,EAHA,EAGNe,KACRd,EAAUD,GACVG,GAAW,GALG,kDAOdE,EAAS,KAPK,0DAAH,sDAUfW,KACC,CAACR,IAEJ,IAAMS,EAAQT,EAAS,qBAAH,OAAqBA,EAArB,KAAiC,cAErD,OACE,EAAC,IAAWV,EACV,EAAC,IAAD,KACE,uCAAQmB,EAAR,MAAqBC,IAAOC,UAE9B,qDACE,yCACE,2DACE,wCACE,gDACE,WAC2BC,KAAK,SAASC,YAAY,SACnDC,SAAU,SAAAC,GAAC,OAAId,EAAUc,EAAEC,OAAOC,QAAQA,MAAOjB,EAFnD,2CAKDJ,EACC,uCAAoBA,EAApB,wBACEI,IAAWN,GACb,uCAAoBF,EAAO0B,OAA3B,qBAAqDlB,EAArD,MAGJ,EAAC,IAAD,CAASmB,aAAczB,KACrBA,GACA,EAAC,IAAc,CAAEF,cAtB3B,24B,wBC1CC4B,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,UACA,WACE,OAAO,EAAQ,Y,4HCFR,gBAA2C,IAAxCC,EAAwC,EAAxCA,SAAwC,IAA9BC,gBAA8B,MAAnB,KAAmB,EAAbhC,EAAa,EAAbA,OAC3C,OACE,8DACIA,EAAOiC,KAAI,SAACC,EAAOC,GAAR,OACX,oBAAoC,CAACA,OAArC,6CACE,EAAC,IAAc,CAACH,WAAUI,UAAW,mBAAoBF,QAAOH,iBAHtE,gP","file":"static/oWCioDTqjRByfmKTo0Byb/pages/movies.js","sourcesContent":["// next imports\nimport Head from 'next/head'\n\n// react imports\nimport { useEffect, useState, useContext } from 'react'\n\n// app imports\nimport Layout from '../components/layout/Layout'\nimport { CONFIG } from '../config'\nimport api from '../services/api'\nimport Loading from '../components/Loading/Loading'\nimport MediaList from '../components/MediaList/MediaList'\nimport SearchContext from '../contexts/SearchContext'\n// movies page\nconst MoviesPage = ({ layoutProps }) => {\n\n  const [medias, setMedias] = useState();\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(false)\n  const { search, setSearch } = useContext(SearchContext)\n\n  const handleSearch = e => {\n    // Implementar Dwebounce to SearchField\n    // Instalar pacote Lodash _\n  }\n\n  useEffect(_ => {\n    const fetchData = async _ => {\n      try {\n        setLoading(true)\n        const { data: medias } = await api().get(search ? `/search/${search}` : '/movies')\n        setMedias(medias)\n        setLoading(false)\n      } catch (e) {\n        setError(500)\n      }\n    }\n    fetchData()\n  }, [search])\n\n  const title = search ? `Búsqueda para \"${search}\"` : 'Búsqueda'\n\n  return (\n    <Layout {...layoutProps}>\n      <Head>\n        <title>{title} &lt; {CONFIG.appName}</title>\n      </Head>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1\">\n            <header>\n              <h1 className=\"h2\">Videos\n                <input\n                  className=\"form-control\" type=\"search\" placeholder=\"Buscar\"\n                  onChange={e => setSearch(e.target.value)} value={search}\n                />\n              </h1>\n              {error ? (\n                <h1 className=\"h6\">{error} | Incapaz de buscar</h1>\n              ) : search && !loading && (\n                <h1 className=\"h4\">{medias.length} resultados para \"{search}\"</h1>\n              )}\n            </header>\n            <Loading loadingState={loading} />\n            {!loading && (\n              <MediaList {...{ medias }} />\n\n            )}\n\n          </div>\n        </div>\n      </div>\n      <style jsx>{`\n        header {\n          padding-top: 15px;\n        }\n        .h2 {\n          margin-bottom: 30px;\n        }\n        @media (min-width: 768px) {\n          header {\n            padding-top: 30px;\n          }\n        }\n        input[type=search] {\n          padding: 0px 10px;\n          margin-left: 30px;\n          width: 40vw;\n          font-size: 12px;\n          transition: ease-in-out 0.7s;\n          box-shadow: 0 0 0 0.1rem var(--primary);\n        }\n        .form-control {\n          background-color: transparent;\n          border: 0;\n          display: inline-block;\n          color: #fff;\n          font-family: inherit;\n          font-size: inherit;\n          font-weight: inherit;\n          outline: 0;\n          padding: 0;\n          vertical-align: middle;\n          width: 95px;\n        }\n        .form-control::placeholder {\n          color: var(--light-gray);\n        }\n      `}</style>\n    </Layout>\n  );\n}\n\nexport default MoviesPage\n\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/movies\",\n      function () {\n        return require(\"private-next-pages/movies.js\");\n      }\n    ]);\n  ","import MediaCard from '../MediaCard/MediaCard'\n\nexport default ({ wishlist, category = null, medias }) => {\n  return (\n    <div className=\"media-list row gutter-15\">\n      { medias.map((media, key) => (\n        <div className=\"col-4 col-md-2\" {...{key}}>\n          <MediaCard {...{category, className: 'media-list__card', media, wishlist}} />\n        </div>\n      )) }\n      <style jsx>{`\n        .media-list :global(.media-list__card) {\n          margin-bottom: 15px;\n        }\n        @media (min-width: 768px) {\n          .media-list {\n            margin-bottom: 45px;\n          }\n          .media-list :global(.media-list__card) {\n            margin-bottom: 30px;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n"],"sourceRoot":""}