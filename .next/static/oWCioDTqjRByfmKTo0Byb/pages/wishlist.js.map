{"version":3,"sources":["webpack:///./pages/wishlist.js","webpack:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?7d11","webpack:///./components/MediaList/MediaList.js"],"names":["WishlistPage","layoutProps","useState","medias","setMedias","loading","setLoading","error","setError","user","useContext","UserContext","useEffect","_","timeout","setTimeout","Router","push","clearTimeout","fetchData","a","api","get","data","CONFIG","appName","loadingState","length","href","wishlist","window","__NEXT_P","category","map","media","key","className"],"mappings":"sUA6GeA,UA5FM,SAAC,GAAkB,IAAjBC,EAAiB,EAAjBA,YAAiB,EAEVC,qBAArBC,EAF+B,KAEvBC,EAFuB,OAGRF,oBAAS,GAAhCG,EAH+B,KAGtBC,EAHsB,OAIZJ,qBAAnBK,EAJ+B,KAIxBC,EAJwB,KAK/BC,EAAQC,qBAAWC,KAAnBF,KAGPG,qBAAU,SAAAC,GACR,IAAMC,EAAUC,YAAW,SAAAF,GAClBJ,GACLO,IAAOC,KAAK,YAEb,KACH,OAAO,WACLC,aAAaJ,MAEd,CAACL,IAEJ,IAAMU,EAAS,uCAAG,WAAMN,GAAN,iBAAAO,EAAA,6DAChBd,GAAW,GADK,kBAGee,cAAMC,IAAI,aAHzB,gBAGDnB,EAHC,EAGPoB,KACPnB,EAAUD,GAJI,gDAMdK,EAAS,KANK,QAQhBF,GAAW,GARK,yDAAH,sDAaf,OAFAM,qBAAW,SAAAC,GAAOM,MAAe,IAG/B,EAAC,IAAWlB,EACV,EAAC,IAAD,KACE,oDAAsBuB,IAAOC,UAE/B,oDACE,wCACE,0DAGE,uCACE,mDAIF,EAAC,IAAD,CAASC,aAAcrB,KAGnBA,GAAWF,GAA4B,IAAlBA,EAAOwB,QAC9B,oCACE,yCACE,wEAEF,EAAC,IAAD,CAAQC,KAAK,WAAb,oBAKAvB,GAAWE,IAAWJ,GACxB,kCAAII,IAIFF,IAAaE,GAASJ,GAAUA,EAAOwB,QAAU,GACnD,EAAC,IAAc,CAACxB,SAAQ0B,UAAU,OAjC5C,+N,wBCjDCC,OAAOC,SAAWD,OAAOC,UAAY,IAAId,KAAK,CAC7C,YACA,WACE,OAAO,EAAQ,Y,4HCFR,gBAA2C,IAAxCY,EAAwC,EAAxCA,SAAwC,IAA9BG,gBAA8B,MAAnB,KAAmB,EAAb7B,EAAa,EAAbA,OAC3C,OACE,8DACIA,EAAO8B,KAAI,SAACC,EAAOC,GAAR,OACX,oBAAoC,CAACA,OAArC,6CACE,EAAC,IAAc,CAACH,WAAUI,UAAW,mBAAoBF,QAAOL,iBAHtE,gP","file":"static/oWCioDTqjRByfmKTo0Byb/pages/wishlist.js","sourcesContent":["// next imports\nimport Head from 'next/head'\n\n// react imports\nimport { useEffect, useState, useContext } from 'react'\n\n// app imports\nimport Layout from '../components/layout/Layout'\nimport { CONFIG } from '../config'\nimport api from '../services/api'\nimport Loading from '../components/Loading/Loading'\nimport MediaList from '../components/MediaList/MediaList'\nimport Button from '../components/button'\nimport UserContext from '../contexts/UserContext'\nimport Router from 'next/router'\n\n// wishlist page\nconst WishlistPage = ({layoutProps}) => {\n\n  const [medias, setMedias] = useState()\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState()\n  const {user} = useContext(UserContext)\n\n  /* temporarily handle user presence */\n  useEffect(_ => {\n    const timeout = setTimeout(_ => {\n      if ( ! user) {\n        Router.push('/login')\n      }\n    }, 1000)\n    return function cleanup() {\n      clearTimeout(timeout)\n    }\n  }, [user])\n\n  const fetchData = async _ => {\n    setLoading(true)\n    try {\n      const {data: medias} = await api().get('/wishlist')\n      setMedias(medias);\n    } catch (e) {\n      setError(500)\n    }\n    setLoading(false)\n  }\n\n  useEffect( _ => { fetchData() }, [])\n\n  return (\n    <Layout {...layoutProps}>\n      <Head>\n        <title>Mi lista &lt; {CONFIG.appName}</title>\n      </Head>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1\">\n\n            {/* heading */}\n            <header>\n              <h1 className=\"h2\">Mi lista</h1>\n            </header>\n\n            {/* loading */}\n            <Loading loadingState={loading} />\n\n            {/* empty msg */}\n            { ! loading && medias && medias.length === 0 && (\n              <div>\n                <div className=\"info\">\n                  <p>AÃºn no hay videos en tu lista.</p>\n                </div>\n                <Button href=\"/movies\">Agregar videos</Button>\n              </div>\n            ) }\n\n            {/* error msg */}\n            { ! loading && error && ! medias && (\n              <p>{error}</p>\n            ) }\n\n            {/* media list */}\n            { ! loading && ! error && medias && medias.length >= 1 && (\n              <MediaList {...{medias, wishlist: true}} />\n            ) }\n\n          </div>\n        </div>\n      </div>\n      <style jsx>{`\n        header {\n          padding-top: 15px;\n        }\n        .h2 {\n          margin-bottom: 30px;\n        }\n        .info {\n          margin-bottom: 30px;\n        }\n        @media (min-width: 768px) {\n          header {\n            padding-top: 30px;\n          }\n        }\n      `}</style>\n    </Layout>\n  );\n}\n\nexport default WishlistPage\n\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/wishlist\",\n      function () {\n        return require(\"private-next-pages/wishlist.js\");\n      }\n    ]);\n  ","import MediaCard from '../MediaCard/MediaCard'\n\nexport default ({ wishlist, category = null, medias }) => {\n  return (\n    <div className=\"media-list row gutter-15\">\n      { medias.map((media, key) => (\n        <div className=\"col-4 col-md-2\" {...{key}}>\n          <MediaCard {...{category, className: 'media-list__card', media, wishlist}} />\n        </div>\n      )) }\n      <style jsx>{`\n        .media-list :global(.media-list__card) {\n          margin-bottom: 15px;\n        }\n        @media (min-width: 768px) {\n          .media-list {\n            margin-bottom: 45px;\n          }\n          .media-list :global(.media-list__card) {\n            margin-bottom: 30px;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n"],"sourceRoot":""}