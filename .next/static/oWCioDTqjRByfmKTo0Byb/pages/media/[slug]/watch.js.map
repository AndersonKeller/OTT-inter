{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./pages/media/[slug]/watch.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?f3ad"],"names":["_classCallCheck","instance","Constructor","TypeError","_setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","_inherits","subClass","superClass","prototype","create","constructor","value","writable","configurable","Related","category","medias","style","map","media","key","RelatedVideo","watch","height","src","thumbnail2_url","width","title","WatchPage","props","player","image","Router","events","on","_","setState","appName","CONFIG","mediaTitle","this","pageTitle","errorCode","layoutProps","state","related","ctx","query","slug","categorySlug","api","get","response","data","movie","Component","_getPrototypeOf","getPrototypeOf","_possibleConstructorReturn","self","call","window","__NEXT_P","push"],"mappings":"8FAAe,SAASA,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAFxB,mC,kCCAe,SAASC,EAAgBC,EAAGC,GAMzC,OALAF,EAAkBG,OAAOC,gBAAkB,SAAyBH,EAAGC,GAErE,OADAD,EAAEI,UAAYH,EACPD,IAGcA,EAAGC,GCLb,SAASI,EAAUC,EAAUC,GAC1C,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIT,UAAU,sDAGtBQ,EAASE,UAAYN,OAAOO,OAAOF,GAAcA,EAAWC,UAAW,CACrEE,YAAa,CACXC,MAAOL,EACPM,UAAU,EACVC,cAAc,KAGdN,GAAY,EAAeD,EAAUC,G,y3BCF3C,SAASO,EAAT,GAAuC,IAApBC,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,OAC3B,OACE,EAAC,WAAD,KACE,SAAkCC,MAAO,CAAC,QAAW,OAAQ,SAAY,YAAzE,2CACGD,EAAOE,KAAI,SAACC,EAAOC,GAAR,OACV,EAACC,EAAiB,CAAEN,WAAUI,QAAOC,YAH3C,2GAkBJ,SAASC,EAAT,GAAkD,QAA1BN,gBAA0B,MAAf,KAAe,EAATI,EAAS,EAATA,MACvC,OACE,8CACE,EAAC,IAAD,YAAe,CAAEJ,WAAUI,SAA3B,CAAoCG,OAAK,IACvC,kCACE,qEACE,sDACE,SAEEC,OAAO,MACPC,IACEL,EAAMM,eACFN,EAAMM,eACN,6BAENC,MAAM,MARR,uCAWF,wDACE,kCACE,uCAASP,EAAMQ,YAlB3B,q8B,IAgFiBC,E,wCACnB,WAAYC,GAAO,iCACjB,cAAMA,GADW,mCAeX,CACNC,OACE,EAAC,IAAD,CACEC,MAAO,EAAKF,MAAMV,MAAMM,eACxBN,MAAO,EAAKU,MAAMV,UAjBtBa,IAAOC,OAAOC,GAAG,uBAAuB,SAAAC,GACtC,EAAKC,SAAS,CAAEN,OAAQ,OACxB,EAAKM,SAAS,CACZN,OACE,EAAC,IAAD,CACEC,MAAO,EAAKF,MAAMV,MAAMM,eACxBN,MAAO,EAAKU,MAAMV,aART,E,qDAsCV,IACDkB,EAAYC,IAAZD,QACOE,EAAeC,KAAKX,MAAMV,MAAjCQ,MACFc,EAAY,GAAH,OAAMF,EAAN,cAAsBF,GAEnC,OACE,EAAC,IAAD,aAAQK,UAAWF,KAAKX,MAAMa,WAAeF,KAAKX,MAAMc,aACtD,EAAC,IAAD,KACE,sCAAQF,IAEV,oDACE,2DACE,oDACGD,KAAKI,MAAMd,OAEZ,4DACI,EAAC,IAAqB,CAAEX,MAAOqB,KAAKX,MAAMV,UAI/CqB,KAAKX,MAAMgB,SACV,sEACE,EAAC/B,EACK,CACFC,SAAUyB,KAAKX,MAAMd,SACrBC,OAAQwB,KAAKX,MAAMgB,YAM7B,sDACE,6CACE,EAAC,IAAqB,CAAE1B,MAAOqB,KAAKX,MAAMV,UAI7CqB,KAAKX,MAAMgB,SACV,8CACE,EAAC/B,EACK,CACFC,SAAUyB,KAAKX,MAAMd,SACrBC,OAAQwB,KAAKX,MAAMgB,YAQ5BL,KAAKX,MAAMd,UACV,EAAC,IAAD,CAAqBA,SAAUyB,KAAKX,MAAMd,WA7C9C,6gB,gFApByB+B,G,8FACcA,EAAIC,MAArCC,E,EAAAA,KAAgBC,E,EAAVlC,S,kBAEWmC,YAAIJ,GAAKK,IAAT,iBACXH,EADW,qBACMC,I,cADvBG,E,SAG+BA,EAASC,KAAtCtC,E,EAAAA,SAAUuC,E,EAAAA,MAAOT,E,EAAAA,Q,kBAClB,CAAE9B,WAAUI,MAAOmC,EAAOT,Y,uCAEf,I,kBACX,CAAEH,UADS,M,qHAlCea,c,kCCjHxB,SAASC,EAAgBxD,GAItC,OAHAwD,EAAkBtD,OAAOC,eAAiBD,OAAOuD,eAAiB,SAAyBzD,GACzF,OAAOA,EAAEI,WAAaF,OAAOuD,eAAezD,KAEvBA,GAJzB,mC,kCCAA,8DAEe,SAAS0D,EAA2BC,EAAMC,GACvD,OAAIA,GAA2B,WAAlB,YAAQA,IAAsC,oBAATA,EAI3C,YAAsBD,GAHpBC,I,sBCHNC,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,sBACA,WACE,OAAO,EAAQ,a","file":"static/oWCioDTqjRByfmKTo0Byb/pages/media/[slug]/watch.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import Head from \"next/head\";\nimport Router from \"next/router\";\nimport React, { Component, Fragment } from \"react\";\nimport Layout from \"~/components/layout/Layout\";\nimport MediaDescription from \"~/components/media-description\";\nimport MediaLink from \"~/components/MediaLink/MediaLink\";\nimport MoreContentCarousel from \"~/components/more-content-carousel\";\nimport BlockedPlayer from \"~/components/Player/BlockedPlayer\";\nimport { CONFIG } from \"~/config\";\nimport api from \"~/services/api\";\n\nfunction Related({ category, medias }) {\n  return (\n    <Fragment>\n      <div className={\"related-videos\"} style={{\"display\": \"flex\", \"flexFlow\": \"row wrap\"}}>\n        {medias.map((media, key) => (\n          <RelatedVideo {...{ category, media, key }} />\n        ))}\n      </div>\n      <style jsx>{`\n        @media (max-width: 1024px) {\n      \n          .related-videos {\n            padding-top: 25px;\n          }\n        }\n      `}</style>\n    </Fragment>\n  );\n}\n\nfunction RelatedVideo({ category = null, media }) {\n  return (\n    <div className=\"more-card\">\n      <MediaLink {...{ category, media }} watch>\n        <a>\n          <div className=\"row align-items-center gutter-15\">\n            <div className=\"col-md-7 card-img\">\n              <img\n                className=\"img-fluid\"\n                height=\"123\"\n                src={\n                  media.thumbnail2_url\n                    ? media.thumbnail2_url\n                    : \"//placehold.jp/220x123.png\"\n                }\n                width=\"220\"\n              />\n            </div>\n            <div className=\"col-md-4 card-title\">\n              <p>\n                <strong>{media.title}</strong>\n              </p>\n            </div>\n          </div>\n        </a>\n      </MediaLink>\n      <style jsx>{`\n        .more-card {\n          font-size: 11px;\n          line-height: 1.5;\n          margin-bottom: 15px;\n        }\n        .more-card a {\n          display: block;\n          text-decoration: none;\n        }\n        .more-card a:focus,\n        .more-card a:hover {\n          color: var(--white);\n        }\n        .more-card p {\n          margin-bottom: 0;\n        }\n        @media (min-width: 768px) {\n          .more-card {\n            line-height: 1.75;\n            margin-bottom: 0;\n            padding-top: 15px;\n            padding-bottom: 15px;\n          }\n        }\n\n        @media (max-width: 1024px) {\n        \n        .related-videos {\n          padding-top: 25px;\n        }\n          .more-card {\n            width: 100%;\n            padding: 5px 10px;\n          }\n          \n          .more-card a .row {\n            display: flex;\n            flex-direction: column;\n          }\n          \n          .more-card > .card-img {\n          \n          }\n          .more-card  .card-title {\n            text-align: center;\n            font-size: 1rem;\n            padding-top: 20px;\n          }\n        }\n\n      `}</style>\n    </div>\n  );\n}\n\nexport default class WatchPage extends Component {\n  constructor(props) {\n    super(props);\n    Router.events.on(\"routeChangeComplete\", _ => {\n      this.setState({ player: null });\n      this.setState({\n        player: (\n          <BlockedPlayer\n            image={this.props.media.thumbnail2_url}\n            media={this.props.media}\n          />\n        )\n      });\n    });\n  }\n\n  state = {\n    player: (\n      <BlockedPlayer\n        image={this.props.media.thumbnail2_url}\n        media={this.props.media}\n      />\n    )\n  };\n\n  static async getInitialProps(ctx) {\n    const { slug, category: categorySlug } = ctx.query;\n    try {\n      const response = await api(ctx).get(\n        `/movie/${slug}/category/${categorySlug}`\n      );\n      const { category, movie, related } = response.data;\n      return { category, media: movie, related };\n    } catch (error) {\n      const errorCode = 404;\n      return { errorCode };\n    }\n  }\n\n  render() {\n    let { appName } = CONFIG;\n    let { title: mediaTitle } = this.props.media;\n    let pageTitle = `${mediaTitle} < ${appName}`;\n\n    return (\n      <Layout errorCode={this.props.errorCode} {...this.props.layoutProps}>\n        <Head>\n          <title>{pageTitle}</title>\n        </Head>\n        <div className=\"container-fluid\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-12 col-lg-9\">\n              {this.state.player}\n\n              <div className=\"play-description-mobile\">\n                  <MediaDescription {...{ media: this.props.media }} />\n              </div>\n\n            </div>\n            {this.props.related && (\n              <div className=\"col-12 col-lg-3 d-none d-md-block\">\n                <Related\n                  {...{\n                    category: this.props.category,\n                    medias: this.props.related\n                  }}\n                />\n              </div>\n            )}\n          </div>\n          <div className=\"row media-desktop\">\n            <div className=\"col-lg-8\">\n              <MediaDescription {...{ media: this.props.media }} />\n            </div>\n          </div>\n\n          {this.props.related && (\n            <div className=\"d-md-none\">\n              <Related\n                {...{\n                  category: this.props.category,\n                  medias: this.props.related\n                }}\n              />\n              {/* <Related {...{category, medias: related}} /> */}\n            </div>\n          )}\n        </div>\n\n        {this.props.category && (\n          <MoreContentCarousel category={this.props.category} />\n        )}\n\n        {/* <CommentSection /> */}\n\n        <style jsx>{`\n          .play-description-mobile {\n          display: none;\n          }\n          .media-desktop {\n          display: block;\n          }\n          .row:first-child {\n            margin-bottom: 15px;\n          }\n          .icons-row {\n            margin-bottom: 25px;\n          }\n          @media (min-width: 1200px) {\n            .container-fluid {\n              padding-right: 4%;\n              padding-left: 4%;\n            }\n            .row:first-child {\n              margin-bottom: 30px;\n            }\n          }\n          \n          @media (max-width: 1024px) {\n            .play-description-mobile {\n              display: block;\n              padding-top: 20px;\n            }\n            .media-desktop {\n            display: none;\n            }\n          }\n        `}</style>\n      </Layout>\n    );\n  }\n}\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/media/[slug]/watch\",\n      function () {\n        return require(\"private-next-pages/media/[slug]/watch.js\");\n      }\n    ]);\n  "],"sourceRoot":""}