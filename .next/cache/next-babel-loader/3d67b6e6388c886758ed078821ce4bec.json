{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport { useEffect, useState, useContext } from 'react';\nimport { Card, Table } from 'react-bootstrap';\nimport { ThemeContext } from 'styled-components';\nimport { PackageRadio } from '~/components/Packages';\nimport withAuth from '~/components/withAuth';\nimport Layout from '~/components/layout/Layout';\nimport { CONFIG } from '~/config';\n\nconst PaymentsPage = ({\n  api,\n  layoutProps,\n  packages,\n  user\n}) => {\n  const {\n    0: plan,\n    1: setPlan\n  } = useState({});\n  const {\n    0: subscription,\n    1: setSubscription\n  } = useState({});\n  const {\n    0: orders,\n    1: setOrders\n  } = useState([]);\n  useEffect(_ => {\n    (async _ => {\n      try {\n        const {\n          data: {\n            package_id\n          }\n        } = await api.get('subscription'),\n              data = _objectWithoutProperties((await api.get('subscription')).data, [\"package_id\"]);\n\n        console.log(data);\n        setSubscription(data);\n\n        if (package_id) {\n          setPlan(packages.items.find(item => item.id == package_id));\n        } else {\n          setPlan(packages.items.find(item => item.amount == 0));\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, []);\n  useEffect(_ => {\n    (async _ => {\n      try {\n        const {\n          data\n        } = await api.get('cash-orders');\n        setOrders(data);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, []);\n  const theme = useContext(ThemeContext);\n  const backgroundColor = theme.colors.backgroundContrast;\n  return __jsx(Layout, layoutProps, __jsx(Head, null, __jsx(\"title\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Pagos < \", CONFIG.appName, \" \")), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"payments-wrapper\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"container\"\n  }, __jsx(\"h3\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"title\"\n  }, \"Pagos\"), __jsx(Card, {\n    bg: \"dark\",\n    text: \"white\"\n  }, __jsx(Card.Body, null, __jsx(Card.Title, null, \"Tu plan\"), __jsx(Card.Text, null, \"Todo el contenido de \", CONFIG.appName, \" por \", plan.name, \".\"), __jsx(\"div\", {\n    style: {\n      fontSize: '13px',\n      lineHeight: '0.7rem',\n      padding: 0\n    },\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"col-5 col-md-2 text-center\"\n  }, __jsx(PackageRadio, {\n    readOnly: true,\n    package_id: plan.id,\n    plan: plan\n  }))), __jsx(Card.Footer, {\n    style: {\n      fontSize: '12px',\n      lineHeight: 1\n    }\n  }, \"Pr\\xF3xima factura: \", subscription.ends_at && subscription.ends_at.split(' ')[0])), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"mobile-table\"\n  }, orders.map(order => __jsx(\"div\", {\n    key: order.id,\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"mobile-row\"\n  }, __jsx(\"dl\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"dt\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Fecha\"), __jsx(\"dd\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(Link, {\n    href: \"receipt\"\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, order.paid_at && order.paid_at.split(' ')[0])))), __jsx(\"dl\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"dt\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Descripci\\xF3n\"), __jsx(\"dd\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, CONFIG.appName)), __jsx(\"dl\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"dt\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Periodo\"), __jsx(\"dd\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, order.paid_at && order.paid_at.split(' ')[0], \"-\")), __jsx(\"dl\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"dt\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Medio de Pago\"), __jsx(\"dd\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(Link, {\n    href: \"receipt\"\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, order.download_link)))), __jsx(\"dl\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"dt\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Total\"), __jsx(\"dd\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, order.value))))), __jsx(Table, {\n    className: \"desktop-table\",\n    hover: true,\n    variant: \"dark\",\n    size: \"sm\"\n  }, __jsx(\"thead\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"tr\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"#\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Fecha\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Descripci\\xF3n\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Periodo\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Medio de Pago\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Total\"))), __jsx(\"tbody\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, orders.map(order => __jsx(\"tr\", {\n    key: order.id,\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"td\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, order.id), __jsx(\"td\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(Link, {\n    href: \"receipt\"\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, order.paid_at && order.paid_at.split(' ')[0]))), __jsx(\"td\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, CONFIG.appName), __jsx(\"td\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, order.paid_at && order.paid_at.split(' ')[0], \"-\"), __jsx(\"td\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(Link, {\n    href: \"receipt\"\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, order.download_link))), __jsx(\"td\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, order.value))))))), __jsx(_JSXStyle, {\n    id: \"556766073\",\n    dynamic: [backgroundColor]\n  }, `.payments-wrapper .bg-dark{background-color:${backgroundColor} !important;}td>a{color:var(--gray);line-height:1.5;-webkit-text-decoration:underline;text-decoration:underline;}dd>a{color:var(--primary);}td>a:hover{color:var(--primary-hover);}dd>a:hover{-webkit-text-decoration:underline;text-decoration:underline;color:var(--primary-hover);}h3{margin-bottom:25px;}.table{margin-top:15px;}.table-dark{background:transparent;}.table-sm{font-size:16px;}.card-text{font-size:14px;}.table-dark.table-hover tbody tr:hover{background-color:var(--primary-alpha);}.mobile-table{font-size:16px;margin-top:40px;margin-bottom:20px;display:none;}.mobile-row{border-top:1px solid white;}dl:first-child{margin-top:15px;}dl{margin-bottom:0.5rem;}dt,dd{font-weight:300;display:inline;}dd{float:right;}@media only screen and (max-width:767px){.mobile-table{display:inherit;}.table{display:none;}}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9wYWdlcy91c2VyL3BheW1lbnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtKeUIsQUFHb0UsQUFNdkMsQUFLRyxBQUdNLEFBR0QsQUFJUCxBQUdILEFBR08sQUFHUixBQUdBLEFBR3VCLEFBR3ZCLEFBTVksQUFHWCxBQUdLLEFBR0wsQUFJTCxBQUlPLEFBR0gsWUFOakIsQ0FPRSxFQW5DRixBQUdBLEFBTWtCLENBZmxCLEFBd0JBLEFBTWlCLEFBUWYsRUF4RGdCLENBZWxCLEVBVkEsQUF3Q0EsRUF4QkEsSUFiQSxBQStCQSxJQUxxQixBQWVyQixHQWhENEIsSUE2QjVCLFlBS2UsT0F0Q2YsR0FjNkIsR0F5QjdCLHdCQXhCQSxPQVZBIiwiZmlsZSI6Ii9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9wYWdlcy91c2VyL3BheW1lbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJ1xuaW1wb3J0IExpbmsgICBmcm9tICduZXh0L2xpbmsnXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDYXJkLCBUYWJsZSB9IGZyb20gJ3JlYWN0LWJvb3RzdHJhcCdcbmltcG9ydCB7IFRoZW1lQ29udGV4dCB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuaW1wb3J0IHsgUGFja2FnZVJhZGlvIH0gZnJvbSAnfi9jb21wb25lbnRzL1BhY2thZ2VzJ1xuaW1wb3J0IHdpdGhBdXRoICAgICAgICAgZnJvbSAnfi9jb21wb25lbnRzL3dpdGhBdXRoJ1xuaW1wb3J0IExheW91dCAgICAgICAgICAgZnJvbSAnfi9jb21wb25lbnRzL2xheW91dC9MYXlvdXQnXG5pbXBvcnQgeyBDT05GSUcgfSAgICAgICBmcm9tICd+L2NvbmZpZydcblxuY29uc3QgUGF5bWVudHNQYWdlID0gKHsgYXBpLCBsYXlvdXRQcm9wcywgcGFja2FnZXMsIHVzZXIgfSkgPT4ge1xuXG4gIGNvbnN0IFsgcGxhbiwgc2V0UGxhbiBdID0gdXNlU3RhdGUoe30pXG4gIGNvbnN0IFsgc3Vic2NyaXB0aW9uLCBzZXRTdWJzY3JpcHRpb24gXSA9IHVzZVN0YXRlKHt9KVxuICBjb25zdCBbIG9yZGVycywgc2V0T3JkZXJzIF0gPSB1c2VTdGF0ZShbXSlcblxuICB1c2VFZmZlY3QoXyA9PiB7XG4gICAgKGFzeW5jIF8gPT4ge1xuICAgICAgdHJ5e1xuICAgICAgICBjb25zdCB7IGRhdGE6IHtwYWNrYWdlX2lkLCAuLi5kYXRhfSB9ID0gYXdhaXQgYXBpLmdldCgnc3Vic2NyaXB0aW9uJylcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcbiAgICAgICAgc2V0U3Vic2NyaXB0aW9uKGRhdGEpXG5cbiAgICAgICAgaWYocGFja2FnZV9pZCl7XG4gICAgICAgICAgc2V0UGxhbihwYWNrYWdlcy5pdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PSBwYWNrYWdlX2lkKSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgc2V0UGxhbihwYWNrYWdlcy5pdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5hbW91bnQgPT0gMCkpXG4gICAgICAgIH1cbiAgICAgIH1jYXRjaChlcnJvcil7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgfVxuICAgIH0pKClcbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KF8gPT4ge1xuICAgIChhc3luYyBfID0+IHtcbiAgICAgIHRyeXtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBhcGkuZ2V0KCdjYXNoLW9yZGVycycpXG4gICAgICAgIHNldE9yZGVycyhkYXRhKVxuICAgICAgfWNhdGNoKGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICB9XG4gICAgfSkoKVxuICB9LCBbXSlcblxuICBjb25zdCB0aGVtZSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KVxuICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS5jb2xvcnMuYmFja2dyb3VuZENvbnRyYXN0XG5cbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0IHsgLi4ubGF5b3V0UHJvcHMgfT5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+UGFnb3MgJmx0OyB7Q09ORklHLmFwcE5hbWV9IDwvdGl0bGU+XG4gICAgICA8L0hlYWQ+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBheW1lbnRzLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGl0bGVcIj5QYWdvczwvaDM+XG4gICAgICAgICAgPENhcmQgYmc9XCJkYXJrXCIgdGV4dD1cIndoaXRlXCI+XG4gICAgICAgICAgICA8Q2FyZC5Cb2R5PlxuICAgICAgICAgICAgICA8Q2FyZC5UaXRsZT5UdSBwbGFuPC9DYXJkLlRpdGxlPlxuICAgICAgICAgICAgICA8Q2FyZC5UZXh0PlRvZG8gZWwgY29udGVuaWRvIGRlIHtDT05GSUcuYXBwTmFtZX0gcG9yIHtwbGFuLm5hbWV9LjwvQ2FyZC5UZXh0PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC01IGNvbC1tZC0yIHRleHQtY2VudGVyXCIgc3R5bGU9e3tmb250U2l6ZTogJzEzcHgnLCBsaW5lSGVpZ2h0OiAnMC43cmVtJywgcGFkZGluZzogMH19PlxuICAgICAgICAgICAgICAgIDxQYWNrYWdlUmFkaW9cbiAgICAgICAgICAgICAgICAgIHJlYWRPbmx5XG4gICAgICAgICAgICAgICAgICBwYWNrYWdlX2lkPXtwbGFuLmlkfVxuICAgICAgICAgICAgICAgICAgcGxhbj17cGxhbn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQ2FyZC5Cb2R5PlxuICAgICAgICAgICAgPENhcmQuRm9vdGVyIHN0eWxlPXt7Zm9udFNpemU6ICcxMnB4JywgbGluZUhlaWdodDogMX19PlxuICAgICAgICAgICAgICBQcsOzeGltYSBmYWN0dXJhOiB7c3Vic2NyaXB0aW9uLmVuZHNfYXQgJiYgc3Vic2NyaXB0aW9uLmVuZHNfYXQuc3BsaXQoJyAnKVswXX1cbiAgICAgICAgICAgIDwvQ2FyZC5Gb290ZXI+XG4gICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9iaWxlLXRhYmxlXCI+XG4gICAgICAgICAgICB7b3JkZXJzLm1hcChvcmRlciA9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vYmlsZS1yb3dcIiBrZXk9e29yZGVyLmlkfT5cbiAgICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgICA8ZHQ+RmVjaGE8L2R0PlxuICAgICAgICAgICAgICAgICAgPGRkPjxMaW5rIGhyZWY9XCJyZWNlaXB0XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCI+e29yZGVyLnBhaWRfYXQgJiYgb3JkZXIucGFpZF9hdC5zcGxpdCgnICcpWzBdfTwvYT48L0xpbms+PC9kZD5cbiAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICAgIDxkdD5EZXNjcmlwY2nDs248L2R0PlxuICAgICAgICAgICAgICAgICAgPGRkPntDT05GSUcuYXBwTmFtZX08L2RkPlxuICAgICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgICAgPGRsPlxuICAgICAgICAgICAgICAgICAgPGR0PlBlcmlvZG88L2R0PlxuICAgICAgICAgICAgICAgICAgPGRkPntvcmRlci5wYWlkX2F0ICYmIG9yZGVyLnBhaWRfYXQuc3BsaXQoJyAnKVswXX0tPC9kZD5cbiAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICAgIDxkdD5NZWRpbyBkZSBQYWdvPC9kdD5cbiAgICAgICAgICAgICAgICAgIDxkZD48TGluayBocmVmPVwicmVjZWlwdFwiPjxhIHRhcmdldD1cIl9ibGFua1wiPntvcmRlci5kb3dubG9hZF9saW5rfTwvYT48L0xpbms+PC9kZD5cbiAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICAgIDxkdD5Ub3RhbDwvZHQ+XG4gICAgICAgICAgICAgICAgICA8ZGQ+e29yZGVyLnZhbHVlfTwvZGQ+XG4gICAgICAgICAgICAgICAgPC9kbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwibW9iaWxlLXJvd1wiPlxuICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgPGR0PkZlY2hhPC9kdD5cbiAgICAgICAgICAgICAgICA8ZGQ+PExpbmsgaHJlZj1cInJlY2VpcHRcIj48YSB0YXJnZXQ9XCJfYmxhbmtcIj4wOS8wMS8yMDIwPC9hPjwvTGluaz48L2RkPlxuICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgPGR0PkRlc2NyaXBjacOzbjwvZHQ+XG4gICAgICAgICAgICAgICAgPGRkPntDT05GSUcuYXBwTmFtZX08L2RkPlxuICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgPGR0PlBlcmlvZG88L2R0PlxuICAgICAgICAgICAgICAgIDxkZD4wOS8wMS8yMDIw4oCUMDgvMDIvMjAyMDwvZGQ+XG4gICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICA8ZHQ+TWVkaW8gZGUgUGFnbzwvZHQ+XG4gICAgICAgICAgICAgICAgPGRkPlZJU0Eg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKIgMTYyNzwvZGQ+XG4gICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICA8ZHQ+VG90YWw8L2R0PlxuICAgICAgICAgICAgICAgIDxkZD4kOTksMDA8L2RkPlxuICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgPC9kaXY+ICovfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxUYWJsZSBjbGFzc05hbWU9XCJkZXNrdG9wLXRhYmxlXCIgaG92ZXIgdmFyaWFudD1cImRhcmtcIiBzaXplPVwic21cIj5cbiAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0aD4jPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+RmVjaGE8L3RoPlxuICAgICAgICAgICAgICAgIDx0aD5EZXNjcmlwY2nDs248L3RoPlxuICAgICAgICAgICAgICAgIDx0aD5QZXJpb2RvPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+TWVkaW8gZGUgUGFnbzwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPlRvdGFsPC90aD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgIHtvcmRlcnMubWFwKG9yZGVyID0+XG4gICAgICAgICAgICAgICAgPHRyIGtleT17b3JkZXIuaWR9PlxuICAgICAgICAgICAgICAgICAgPHRkPntvcmRlci5pZH08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPjxMaW5rIGhyZWY9XCJyZWNlaXB0XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCI+e29yZGVyLnBhaWRfYXQgJiYgb3JkZXIucGFpZF9hdC5zcGxpdCgnICcpWzBdfTwvYT48L0xpbms+PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD57Q09ORklHLmFwcE5hbWV9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD57b3JkZXIucGFpZF9hdCAmJiBvcmRlci5wYWlkX2F0LnNwbGl0KCcgJylbMF19LTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+PExpbmsgaHJlZj1cInJlY2VpcHRcIj48YSB0YXJnZXQ9XCJfYmxhbmtcIj57b3JkZXIuZG93bmxvYWRfbGlua308L2E+PC9MaW5rPjwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+e29yZGVyLnZhbHVlfTwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgPC9UYWJsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxzdHlsZSBnbG9iYWwganN4PntgXG4gICAgICAgIC5wYXltZW50cy13cmFwcGVyIC5iZy1kYXJrIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2JhY2tncm91bmRDb2xvcn0gIWltcG9ydGFudDtcbiAgICAgICAgICAvKiBJdCdzIGFwcGVhcmluZyBhIGNvbXBpbGVyIGVycm9yIGhlcmUgb24gZGV2IGF0IFdpbmRvd3MsXG4gICAgICAgICAgYnV0IGFwcGFyZW50bHkgaXQgaGFzIGFscmVhZHkgYmVlbiByZXNvbHZlZCBpbiBuZXdlciB2ZXJzaW9ucyBvZiBuZXh0IGFuZCBzdHlsZWQtanN4OlxuICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS96ZWl0L25leHQuanMvaXNzdWVzLzkwNjUgKi9cbiAgICAgICAgfVxuICAgICAgICB0ZCA+IGEgIHtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tZ3JheSk7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgfVxuICAgICAgICBkZCA+IGEge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcbiAgICAgICAgfVxuICAgICAgICB0ZCA+IGE6aG92ZXIge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWhvdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBkZCA+IGE6aG92ZXIge1xuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWhvdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBoMyB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjVweDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlLWRhcmsge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIC50YWJsZS1zbSB7XG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIC5jYXJkLXRleHQge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUtZGFyay50YWJsZS1ob3ZlciB0Ym9keSB0cjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1hbHBoYSk7XG4gICAgICAgIH1cbiAgICAgICAgLm1vYmlsZS10YWJsZSB7XG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgIG1hcmdpbi10b3A6IDQwcHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG4gICAgICAgIC5tb2JpbGUtcm93IHtcbiAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgd2hpdGU7XG4gICAgICAgIH1cbiAgICAgICAgZGw6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICAgIH1cbiAgICAgICAgZGwge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICAgICAgfVxuICAgICAgICBkdCwgZGQge1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgICAgICB9XG4gICAgICAgIGRkIHtcbiAgICAgICAgICBmbG9hdDpyaWdodDtcbiAgICAgICAgfVxuICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2N3B4KSB7XG4gICAgICAgICAgLm1vYmlsZS10YWJsZSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmhlcml0O1xuICAgICAgICAgIH1cbiAgICAgICAgICAudGFibGUge1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBgfTwvc3R5bGU+XG4gIDwvTGF5b3V0PlxuKX1cblxuUGF5bWVudHNQYWdlLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jICh7IGFwaSwgdXNlciB9KSA9PiB7XG4gIGxldCBwYWNrYWdlc1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXBpLmdldCgncGFja2FnZXMnKVxuICAgIHBhY2thZ2VzID0geyBpdGVtczogZGF0YSB9XG4gIH0gY2F0Y2goZXJyb3IpIHtcbiAgICBwYWNrYWdlcyA9IHsgZXJyb3IgfVxuICB9XG4gIHJldHVybiB7IHBhY2thZ2VzLCB1c2VyIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aEF1dGgoUGF5bWVudHNQYWdlKTtcbiJdfQ== */\n/*@ sourceURL=/Users/rafael/Projects/somosgad/dale/pages/user/payments.js */`));\n};\n\nPaymentsPage.getInitialProps = async ({\n  api,\n  user\n}) => {\n  let packages;\n\n  try {\n    const {\n      data\n    } = await api.get('packages');\n    packages = {\n      items: data\n    };\n  } catch (error) {\n    packages = {\n      error\n    };\n  }\n\n  return {\n    packages,\n    user\n  };\n};\n\nexport default withAuth(PaymentsPage);","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/pages/user/payments.js"],"names":["Head","Link","useEffect","useState","useContext","Card","Table","ThemeContext","PackageRadio","withAuth","Layout","CONFIG","PaymentsPage","api","layoutProps","packages","user","plan","setPlan","subscription","setSubscription","orders","setOrders","_","data","package_id","get","console","log","items","find","item","id","amount","error","theme","backgroundColor","colors","backgroundContrast","appName","name","fontSize","lineHeight","padding","ends_at","split","map","order","paid_at","download_link","value","getInitialProps"],"mappings":"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","sourcesContent":["import Head from 'next/head'\nimport Link   from 'next/link'\nimport { useEffect, useState, useContext } from 'react'\nimport { Card, Table } from 'react-bootstrap'\nimport { ThemeContext } from 'styled-components'\nimport { PackageRadio } from '~/components/Packages'\nimport withAuth         from '~/components/withAuth'\nimport Layout           from '~/components/layout/Layout'\nimport { CONFIG }       from '~/config'\n\nconst PaymentsPage = ({ api, layoutProps, packages, user }) => {\n\n  const [ plan, setPlan ] = useState({})\n  const [ subscription, setSubscription ] = useState({})\n  const [ orders, setOrders ] = useState([])\n\n  useEffect(_ => {\n    (async _ => {\n      try{\n        const { data: {package_id, ...data} } = await api.get('subscription')\n        console.log(data)\n        setSubscription(data)\n\n        if(package_id){\n          setPlan(packages.items.find(item => item.id == package_id))\n        }else{\n          setPlan(packages.items.find(item => item.amount == 0))\n        }\n      }catch(error){\n        console.log(error)\n      }\n    })()\n  }, [])\n\n  useEffect(_ => {\n    (async _ => {\n      try{\n        const { data } = await api.get('cash-orders')\n        setOrders(data)\n      }catch(error){\n        console.log(error)\n      }\n    })()\n  }, [])\n\n  const theme = useContext(ThemeContext)\n  const backgroundColor = theme.colors.backgroundContrast\n\n  return (\n    <Layout { ...layoutProps }>\n      <Head>\n        <title>Pagos &lt; {CONFIG.appName} </title>\n      </Head>\n      <div className=\"payments-wrapper\">\n        <div className=\"container\">\n          <h3 className=\"title\">Pagos</h3>\n          <Card bg=\"dark\" text=\"white\">\n            <Card.Body>\n              <Card.Title>Tu plan</Card.Title>\n              <Card.Text>Todo el contenido de {CONFIG.appName} por {plan.name}.</Card.Text>\n              <div className=\"col-5 col-md-2 text-center\" style={{fontSize: '13px', lineHeight: '0.7rem', padding: 0}}>\n                <PackageRadio\n                  readOnly\n                  package_id={plan.id}\n                  plan={plan}\n                />\n              </div>\n            </Card.Body>\n            <Card.Footer style={{fontSize: '12px', lineHeight: 1}}>\n              Próxima factura: {subscription.ends_at && subscription.ends_at.split(' ')[0]}\n            </Card.Footer>\n          </Card>\n          <div className=\"mobile-table\">\n            {orders.map(order =>\n              <div className=\"mobile-row\" key={order.id}>\n                <dl>\n                  <dt>Fecha</dt>\n                  <dd><Link href=\"receipt\"><a target=\"_blank\">{order.paid_at && order.paid_at.split(' ')[0]}</a></Link></dd>\n                </dl>\n                <dl>\n                  <dt>Descripción</dt>\n                  <dd>{CONFIG.appName}</dd>\n                </dl>\n                <dl>\n                  <dt>Periodo</dt>\n                  <dd>{order.paid_at && order.paid_at.split(' ')[0]}-</dd>\n                </dl>\n                <dl>\n                  <dt>Medio de Pago</dt>\n                  <dd><Link href=\"receipt\"><a target=\"_blank\">{order.download_link}</a></Link></dd>\n                </dl>\n                <dl>\n                  <dt>Total</dt>\n                  <dd>{order.value}</dd>\n                </dl>\n              </div>\n            )}\n            {/* <div className=\"mobile-row\">\n              <dl>\n                <dt>Fecha</dt>\n                <dd><Link href=\"receipt\"><a target=\"_blank\">09/01/2020</a></Link></dd>\n              </dl>\n              <dl>\n                <dt>Descripción</dt>\n                <dd>{CONFIG.appName}</dd>\n              </dl>\n              <dl>\n                <dt>Periodo</dt>\n                <dd>09/01/2020—08/02/2020</dd>\n              </dl>\n              <dl>\n                <dt>Medio de Pago</dt>\n                <dd>VISA •••• •••• •••• 1627</dd>\n              </dl>\n              <dl>\n                <dt>Total</dt>\n                <dd>$99,00</dd>\n              </dl>\n            </div> */}\n          </div>\n          <Table className=\"desktop-table\" hover variant=\"dark\" size=\"sm\">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Fecha</th>\n                <th>Descripción</th>\n                <th>Periodo</th>\n                <th>Medio de Pago</th>\n                <th>Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              {orders.map(order =>\n                <tr key={order.id}>\n                  <td>{order.id}</td>\n                  <td><Link href=\"receipt\"><a target=\"_blank\">{order.paid_at && order.paid_at.split(' ')[0]}</a></Link></td>\n                  <td>{CONFIG.appName}</td>\n                  <td>{order.paid_at && order.paid_at.split(' ')[0]}-</td>\n                  <td><Link href=\"receipt\"><a target=\"_blank\">{order.download_link}</a></Link></td>\n                  <td>{order.value}</td>\n                </tr>\n              )}\n            </tbody>\n          </Table>\n        </div>\n      </div>\n      <style global jsx>{`\n        .payments-wrapper .bg-dark {\n          background-color: ${backgroundColor} !important;\n          /* It's appearing a compiler error here on dev at Windows,\n          but apparently it has already been resolved in newer versions of next and styled-jsx:\n          https://github.com/zeit/next.js/issues/9065 */\n        }\n        td > a  {\n          color: var(--gray);\n          line-height: 1.5;\n          text-decoration: underline;\n        }\n        dd > a {\n          color: var(--primary);\n        }\n        td > a:hover {\n          color: var(--primary-hover);\n        }\n        dd > a:hover {\n          text-decoration: underline;\n          color: var(--primary-hover);\n        }\n        h3 {\n          margin-bottom: 25px;\n        }\n        .table {\n          margin-top: 15px;\n        }\n        .table-dark {\n          background: transparent;\n        }\n        .table-sm {\n          font-size: 16px;\n        }\n        .card-text {\n          font-size: 14px;\n        }\n        .table-dark.table-hover tbody tr:hover {\n          background-color: var(--primary-alpha);\n        }\n        .mobile-table {\n          font-size: 16px;\n          margin-top: 40px;\n          margin-bottom: 20px;\n          display: none;\n        }\n        .mobile-row {\n          border-top: 1px solid white;\n        }\n        dl:first-child {\n          margin-top: 15px;\n        }\n        dl {\n          margin-bottom: 0.5rem;\n        }\n        dt, dd {\n          font-weight: 300;\n          display: inline;\n        }\n        dd {\n          float:right;\n        }\n        @media only screen and (max-width: 767px) {\n          .mobile-table {\n            display: inherit;\n          }\n          .table {\n            display: none;\n          }\n        }\n    `}</style>\n  </Layout>\n)}\n\nPaymentsPage.getInitialProps = async ({ api, user }) => {\n  let packages\n  try {\n    const { data } = await api.get('packages')\n    packages = { items: data }\n  } catch(error) {\n    packages = { error }\n  }\n  return { packages, user }\n}\n\nexport default withAuth(PaymentsPage);\n"]},"metadata":{},"sourceType":"module"}