{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// other imports\nimport Color from 'color';\nimport Head from 'next/head';\nimport { useEffect, useState } from 'react'; // app imports\n\nimport Layout from '../components/layout/Layout';\nimport Loading from '../components/Loading/Loading';\nimport { CONFIG } from '../config';\nimport api from '../services/api';\nimport CategoryLink from '../components/CategoryLink/CategoryLink';\nimport { BLACK, WHITE } from '../constants/colors';\n\nfunction CategoriesPage(_ref) {\n  var layoutProps = _ref.layoutProps;\n\n  var _useState = useState(),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(),\n      categories = _useState2[0],\n      setCategories = _useState2[1];\n\n  var _useState3 = useState(),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  useEffect(function (_) {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _yield$api$get, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setLoading(true);\n                _context.prev = 1;\n                _context.next = 4;\n                return api().get('/categories');\n\n              case 4:\n                _yield$api$get = _context.sent;\n                data = _yield$api$get.data;\n                setCategories(data);\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](1);\n                setError(true);\n\n              case 12:\n                setLoading(false);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 9]]);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, []);\n  return __jsx(Layout, layoutProps, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-3106214966\"\n  }, \"Categor\\xEDas < \", CONFIG.appName)), __jsx(\"div\", {\n    className: \"jsx-3106214966\" + \" \" + \"container-fluid\"\n  }, !loading && __jsx(\"div\", {\n    className: \"jsx-3106214966\" + \" \" + \"text-center\"\n  }, __jsx(Loading, {\n    className: \"tenxt-center\",\n    loadingState: loading\n  })), categories && __jsx(\"div\", {\n    className: \"jsx-3106214966\" + \" \" + \"cards row gutter-15\"\n  }, categories.map(function (category, key) {\n    return __jsx(\"div\", _extends({\n      key: key\n    }, {\n      className: \"jsx-3106214966\" + \" \" + \"col-6 col-lg-4 col-xl-3\"\n    }), __jsx(CategoryCard, {\n      category: category\n    }));\n  })), error && __jsx(\"p\", {\n    className: \"jsx-3106214966\"\n  }, \"Incapaz de cargar categor\\xEDas\")), __jsx(_JSXStyle, {\n    id: \"3106214966\"\n  }, []));\n}\n/* CategoriesPage.getInitialProps = async _ => {\n  return { }\n} */\n\n\nexport default CategoriesPage;\n\nvar CategoryCard = function CategoryCard(_ref2) {\n  var category = _ref2.category;\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2678929734\", [Color(WHITE).alpha(.075), category.image_url ? \"url(\".concat(category.image_url, \")\") : 'none', BLACK, BLACK, Color(BLACK).alpha(.1), Color(BLACK).fade(.6), BLACK, BLACK, BLACK, Color(BLACK).fade(.8), Color(BLACK).fade(.4)]]])\n  }, __jsx(CategoryLink, {\n    category: category\n  }, __jsx(\"a\", {\n    className: _JSXStyle.dynamic([[\"2678929734\", [Color(WHITE).alpha(.075), category.image_url ? \"url(\".concat(category.image_url, \")\") : 'none', BLACK, BLACK, Color(BLACK).alpha(.1), Color(BLACK).fade(.6), BLACK, BLACK, BLACK, Color(BLACK).fade(.8), Color(BLACK).fade(.4)]]]) + \" \" + \"category-card\"\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"2678929734\", [Color(WHITE).alpha(.075), category.image_url ? \"url(\".concat(category.image_url, \")\") : 'none', BLACK, BLACK, Color(BLACK).alpha(.1), Color(BLACK).fade(.6), BLACK, BLACK, BLACK, Color(BLACK).fade(.8), Color(BLACK).fade(.4)]]]) + \" \" + \"inner\"\n  }, category.name))), __jsx(_JSXStyle, {\n    id: \"2678929734\",\n    dynamic: [Color(WHITE).alpha(.075), category.image_url ? \"url(\".concat(category.image_url, \")\") : 'none', BLACK, BLACK, Color(BLACK).alpha(.1), Color(BLACK).fade(.6), BLACK, BLACK, BLACK, Color(BLACK).fade(.8), Color(BLACK).fade(.4)]\n  }, [\".category-card.__jsx-style-dynamic-selector{background-color:\".concat(Color(WHITE).alpha(.075), \";background-image:\").concat(category.image_url ? \"url(\".concat(category.image_url, \")\") : 'none', \";background-position:50% 50%;background-repeat:no-repeat;background-size:cover;color:var(--white);display:block;font-size:14px;margin-bottom:15px;position:relative;text-shadow:1px 1px 5px \").concat(BLACK, \",-1px -1px 5px \").concat(BLACK, \",1px 1px 5px \").concat(Color(BLACK).alpha(.1), \";-webkit-transition:text-shadow .2s;transition:text-shadow .2s;}\"), \".category-card.__jsx-style-dynamic-selector::before{content:'';display:block;padding-top:50%;}\", \".inner.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:\".concat(Color(BLACK).fade(.6), \";bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;left:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:0;overflow:hidden;position:absolute;right:0;top:0;-webkit-transition:background-color .2s;transition:background-color .2s;z-index:2;}\"), \".category-card.__jsx-style-dynamic-selector:focus,.category-card.__jsx-style-dynamic-selector:hover{text-shadow:1px 1px 5px \".concat(BLACK, \",-1px -1px 5px \").concat(BLACK, \",1px 1px 5px \").concat(BLACK, \";}\"), \".category-card.__jsx-style-dynamic-selector:focus .inner.__jsx-style-dynamic-selector,.category-card.__jsx-style-dynamic-selector:hover .inner.__jsx-style-dynamic-selector{background-color:\".concat(Color(BLACK).fade(.8), \";}\"), \"@media (min-width:768px){.category-card.__jsx-style-dynamic-selector{font-size:22px;}.inner.__jsx-style-dynamic-selector{background-color:\".concat(Color(BLACK).fade(.4), \";}}\")]));\n};","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/pages/categories.js"],"names":["Color","Head","useEffect","useState","Layout","Loading","CONFIG","api","CategoryLink","BLACK","WHITE","CategoriesPage","layoutProps","loading","setLoading","categories","setCategories","error","setError","_","fetchData","get","data","appName","map","category","key","CategoryCard","alpha","image_url","fade","name"],"mappings":"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","sourcesContent":["// other imports\nimport Color from 'color'\nimport Head from 'next/head'\nimport { useEffect, useState } from 'react'\n\n// app imports\nimport Layout from '../components/layout/Layout'\nimport Loading from '../components/Loading/Loading'\nimport { CONFIG } from '../config'\nimport api from '../services/api'\nimport CategoryLink from '../components/CategoryLink/CategoryLink'\nimport { BLACK, WHITE } from '../constants/colors'\n\nfunction CategoriesPage({ layoutProps }) {\n\n  const [loading,setLoading] = useState()\n  const [categories,setCategories] = useState()\n  const [error,setError] = useState()\n\n  useEffect(_ => {\n    async function fetchData() {\n      setLoading(true)\n      try {\n        const {data} = await api().get('/categories')\n        setCategories(data)\n      } catch(e) {\n        setError(true)\n      }\n      setLoading(false)\n    }\n    fetchData()\n  }, [])\n\n  return (\n    <Layout {...layoutProps}>\n      <Head>\n        <title>Categorías &lt; {CONFIG.appName}</title>\n      </Head>\n      <div className=\"container-fluid\">\n        { ! loading && (\n          <div className=\"text-center\">\n            <Loading className=\"tenxt-center\" loadingState={loading} />\n          </div>\n        )}\n        {categories && (\n          <div className=\"cards row gutter-15\">\n            {categories.map((category, key) => (\n              <div className=\"col-6 col-lg-4 col-xl-3\" {...{key}}>\n                <CategoryCard {...{category}} />\n              </div>\n            ))}\n          </div>\n        )}\n        {error && (\n          <p>Incapaz de cargar categorías</p>\n        )}\n      </div>\n      <style jsx>{`\n      `}</style>\n    </Layout>\n  )\n}\n\n/* CategoriesPage.getInitialProps = async _ => {\n  return { }\n} */\n\nexport default CategoriesPage\n\nconst CategoryCard = ({category}) => {\n  return (\n    <div>\n      <CategoryLink {...{category}}>\n        <a className=\"category-card\">\n          <span className=\"inner\">\n            {category.name}\n          </span>\n        </a>\n      </CategoryLink>\n      <style jsx>{`\n        .category-card {\n          background-color: ${Color(WHITE).alpha(.075)};\n          background-image: ${category.image_url ? `url(${category.image_url})` : 'none'};\n          background-position: 50% 50%;\n          background-repeat: no-repeat;\n          background-size: cover;\n          color: var(--white);\n          display: block;\n          font-size: 14px;\n          margin-bottom: 15px;\n          position: relative;\n          text-shadow: 1px 1px 5px ${BLACK}, -1px -1px 5px ${BLACK}, 1px 1px 5px ${Color(BLACK).alpha(.1)};\n          transition: text-shadow .2s;\n        }\n        .category-card::before {\n          content: '';\n          display: block;\n          padding-top: 50%;\n        }\n        .inner {\n          align-items: center;\n          background-color: ${Color(BLACK).fade(.6)};\n          bottom: 0;\n          display: flex;\n          left: 0;\n          justify-content: center;\n          outline: 0;\n          overflow: hidden;\n          position: absolute;\n          right: 0;\n          top: 0;\n          transition: background-color .2s;\n          z-index: 2;\n        }\n        .category-card:focus,\n        .category-card:hover {\n          text-shadow: 1px 1px 5px ${BLACK}, -1px -1px 5px ${BLACK}, 1px 1px 5px ${BLACK};\n        }\n        .category-card:focus .inner,\n        .category-card:hover .inner {\n          background-color: ${Color(BLACK).fade(.8)};\n        }\n        @media (min-width: 768px) {\n          .category-card {\n            font-size: 22px;\n          }\n          .inner {\n            background-color: ${Color(BLACK).fade(.4)};\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}