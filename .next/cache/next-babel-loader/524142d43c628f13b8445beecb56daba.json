{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// next imports\nimport Head from 'next/head';\nimport Router, { useRouter } from 'next/router'; // react imports\n\nimport { useEffect, useState, useContext } from 'react';\nimport nookies from 'nookies'; // app imports\n\nimport Layout from '../../components/layout/Layout';\nimport { CONFIG } from '../../config';\nimport withApi from '~/components/withApi';\nimport Loading from '~/components/Loading/Loading';\n\nconst CheckEmail = ({\n  layoutProps,\n  message\n}) => {\n  useEffect(_ => {\n    message = JSON.stringify(message);\n    nookies.set({}, 'flash_message', message, {\n      path: \"/\"\n    });\n    Router.push(\"/\");\n  }, []);\n  return __jsx(Layout, layoutProps, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-654964715\"\n  }, \"Verificaci\\xF3n de email < \", CONFIG.appName)), __jsx(\"div\", {\n    className: \"jsx-654964715\" + \" \" + \"container-fluid\"\n  }, __jsx(\"div\", {\n    className: \"jsx-654964715\" + \" \" + \"row\"\n  }, __jsx(\"div\", {\n    className: \"jsx-654964715\" + \" \" + \"col-md-10 offset-md-1\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-654964715\" + \" \" + \"h2\"\n  }, \"Verificaci\\xF3n de email\"), __jsx(Loading, {\n    loadingState: true\n  })))), __jsx(_JSXStyle, {\n    id: \"654964715\"\n  }, [\"header.jsx-654964715{padding-top:15px;}\", \".h2.jsx-654964715{margin-bottom:30px;}\", \"@media (min-width:768px){header.jsx-654964715{padding-top:30px;}}\"]));\n};\n\nCheckEmail.getInitialProps = async ctx => {\n  try {\n    const {\n      api,\n      query\n    } = ctx;\n    const verifyURL = query.apiurl;\n    var message = {};\n    var path = \"/\";\n    const {\n      status\n    } = await api.get(\"\", {\n      baseURL: decodeURI(verifyURL)\n    });\n    message = status == 200 ? {\n      success: \"Email verificado con éxito\"\n    } : {\n      error: \"Este correo electrónico no pudo ser verificado\"\n    };\n  } catch (e) {\n    message = {\n      info: \"Este enlace ha expirado\"\n    };\n  }\n\n  return {\n    message\n  };\n};\n\nexport default withApi(CheckEmail);","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/pages/user/verifyEmail.js"],"names":["Head","Router","useRouter","useEffect","useState","useContext","nookies","Layout","CONFIG","withApi","Loading","CheckEmail","layoutProps","message","_","JSON","stringify","set","path","push","appName","getInitialProps","ctx","api","query","verifyURL","apiurl","status","get","baseURL","decodeURI","success","error","e","info"],"mappings":";;;AAAA;AACA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,IAAiBC,SAAjB,QAAkC,aAAlC,C,CAEA;;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,OAAOC,OAAP,MAAoB,SAApB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,OAAP,MAAoB,8BAApB;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAAD,KAA8B;AAE/CV,EAAAA,SAAS,CAACW,CAAC,IAAI;AACXD,IAAAA,OAAO,GAAGE,IAAI,CAACC,SAAL,CAAeH,OAAf,CAAV;AACAP,IAAAA,OAAO,CAACW,GAAR,CAAY,EAAZ,EAAgB,eAAhB,EAAiCJ,OAAjC,EAA0C;AAAEK,MAAAA,IAAI,EAAE;AAAR,KAA1C;AACAjB,IAAAA,MAAM,CAACkB,IAAP,CAAY,GAAZ;AACH,GAJQ,EAIN,EAJM,CAAT;AAMA,SACE,MAAC,MAAD,EAAYP,WAAZ,EACE,MAAC,IAAD,QACE;AAAA;AAAA,oCAAmCJ,MAAM,CAACY,OAA1C,CADF,CADF,EAIE;AAAA,uCAAe;AAAf,KACE;AAAA,uCAAe;AAAf,KACE;AAAA,uCAAe;AAAf,KACE;AAAA,uCAAc;AAAd,gCADF,EAEE,MAAC,OAAD;AAAS,IAAA,YAAY,EAAE;AAAvB,IAFF,CADF,CADF,CAJF;AAAA;AAAA,iKADF;AA4BD,CApCD;;AAsCAT,UAAU,CAACU,eAAX,GAA6B,MAAMC,GAAN,IAAa;AACxC,MAAI;AACF,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,QAAiBF,GAAvB;AACA,UAAMG,SAAS,GAAGD,KAAK,CAACE,MAAxB;AACA,QAAIb,OAAO,GAAG,EAAd;AACA,QAAIK,IAAI,GAAG,GAAX;AAEA,UAAM;AAAES,MAAAA;AAAF,QAAa,MAAMJ,GAAG,CAACK,GAAJ,CAAQ,EAAR,EAAW;AAACC,MAAAA,OAAO,EAAEC,SAAS,CAACL,SAAD;AAAnB,KAAX,CAAzB;AACAZ,IAAAA,OAAO,GAAIc,MAAM,IAAI,GAAX,GACR;AAACI,MAAAA,OAAO,EAAE;AAAV,KADQ,GAGR;AAACC,MAAAA,KAAK,EAAE;AAAR,KAHF;AAKD,GAZD,CAYE,OAAOC,CAAP,EAAU;AACVpB,IAAAA,OAAO,GAAG;AAACqB,MAAAA,IAAI,EAAE;AAAP,KAAV;AACD;;AAED,SAAO;AAAErB,IAAAA;AAAF,GAAP;AACD,CAlBD;;AAoBA,eAAeJ,OAAO,CAACE,UAAD,CAAtB","sourcesContent":["// next imports\nimport Head from 'next/head'\nimport Router, { useRouter } from 'next/router'\n\n// react imports\nimport { useEffect, useState, useContext } from 'react'\nimport nookies from 'nookies'\n\n// app imports\nimport Layout from '../../components/layout/Layout'\nimport { CONFIG } from '../../config'\nimport withApi from '~/components/withApi'\nimport Loading from '~/components/Loading/Loading'\n\nconst CheckEmail = ({ layoutProps, message }) => {\n\n  useEffect(_ => {\n      message = JSON.stringify(message)\n      nookies.set({}, 'flash_message', message, { path: \"/\" })\n      Router.push(\"/\")\n  }, [])\n\n  return (\n    <Layout {...layoutProps}>\n      <Head>\n        <title>Verificación de email &lt; {CONFIG.appName}</title>\n      </Head>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1\">\n            <h1 className=\"h2\">Verificación de email</h1>\n            <Loading loadingState={true} />\n          </div>\n        </div>\n      </div>\n      <style jsx>{`\n        header {\n          padding-top: 15px;\n        }\n        .h2 {\n          margin-bottom: 30px;\n        }\n        @media (min-width: 768px) {\n          header {\n            padding-top: 30px;\n          }\n        }\n      `}</style>\n    </Layout>\n  );\n}\n\nCheckEmail.getInitialProps = async ctx => {\n  try {\n    const { api, query } = ctx\n    const verifyURL = query.apiurl\n    var message = {}\n    var path = \"/\"\n\n    const { status } = await api.get(\"\",{baseURL: decodeURI(verifyURL)})\n    message = (status == 200) ?\n      {success: \"Email verificado con éxito\"}\n    :\n      {error: \"Este correo electrónico no pudo ser verificado\"}\n\n  } catch (e) {\n    message = {info: \"Este enlace ha expirado\"}\n  }\n\n  return { message }\n}\n\nexport default withApi(CheckEmail)\n"]},"metadata":{},"sourceType":"module"}