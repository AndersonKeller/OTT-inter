{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\n * Loading example found at:\n * https://github.com/zeit/next.js/blob/canary/examples/with-loading/\n */\nimport 'nprogress/nprogress.css';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport 'shaka-player/dist/controls.css';\nimport React from 'react';\nimport NProgress from 'nprogress';\nimport * as Sentry from '@sentry/node';\nimport App from 'next/app';\nimport Router from 'next/router';\nimport Layout from '../components/layout/Layout';\nimport GlobalStyle from '~/styles';\nimport { AuthModalProvider } from '../contexts/AuthModalContext';\nimport { SearchProvider } from '../contexts/SearchContext';\nimport { ThemeProvider } from 'styled-components';\nimport { UserProvider } from '../contexts/UserContext';\nimport * as gtag from '~/lib/gtag'; // import CssBaseline from '@material-ui/core/CssBaseline'\n\nimport theme from '~/theme'; // import withBasicAuth from '~/basic-auth'\n\nimport 'netslider/dist/styles.min.css';\nimport \"~/styles/main.scss\";\nNProgress.configure({\n  showSpinner: false\n});\nvar isPoppingState = false;\nSentry.init({\n  dsn: process.env.SENTRY_DSN,\n  environment: process.env.TENANT + '_' + (\"development\" || 'testing')\n});\n\nvar MyApp = /*#__PURE__*/function (_App) {\n  _inherits(MyApp, _App);\n\n  var _super = _createSuper(MyApp);\n\n  function MyApp() {\n    _classCallCheck(this, MyApp);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MyApp, [{\n    key: \"routeChangeStart\",\n    value: function routeChangeStart(url) {\n      console.log(\"Loading \".concat(url, \"...\"));\n      NProgress.start();\n    }\n  }, {\n    key: \"routeChangeComplete\",\n    value: function routeChangeComplete(url) {\n      console.log(\"Loaded \".concat(url, \"!\"));\n      NProgress.done();\n\n      if (isPoppingState) {\n        isPoppingState = false;\n      } else {\n        window.scrollTo(0, 0);\n      }\n\n      gtag.pageview(url);\n    }\n  }, {\n    key: \"routeChangeError\",\n    value: function routeChangeError() {\n      NProgress.done();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Remove the server-side injected CSS.\n      var jssStyles = document.querySelector('#jss-server-side');\n\n      if (jssStyles) {\n        jssStyles.parentElement.removeChild(jssStyles);\n      }\n\n      Router.events.on('routeChangeStart', this.routeChangeStart);\n      Router.beforePopState(function (_ref) {\n        var url = _ref.url,\n            as = _ref.as,\n            options = _ref.options;\n        isPoppingState = true;\n        return true;\n      });\n      Router.events.on('routeChangeComplete', this.routeChangeComplete);\n      Router.events.on('routeChangeError', this.routeChangeError);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Router.events.off('routeChangeStart', this.routeChangeStart);\n      Router.events.off('routeChangeComplete', this.routeChangeComplete);\n      Router.events.off('routeChangeError', this.routeChangeError);\n    }\n  }, {\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, errorInfo) {\n      Sentry.withScope(function (scope) {\n        Object.keys(errorInfo).forEach(function (key) {\n          scope.setExtra(key, errorInfo[key]);\n        });\n        Sentry.captureException(error);\n      });\n\n      _get(_getPrototypeOf(MyApp.prototype), \"componentDidCatch\", this).call(this, error, errorInfo);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          Component = _this$props.Component,\n          layoutProps = _this$props.layoutProps,\n          pageProps = _this$props.pageProps;\n      return __jsx(ThemeProvider, {\n        theme: theme\n      }, __jsx(GlobalStyle, null), __jsx(UserProvider, null, __jsx(AuthModalProvider, null, __jsx(SearchProvider, null, __jsx(Component, _extends({\n        layoutProps: layoutProps\n      }, pageProps))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n        var Component, router, ctx, layoutPropsTasks, pagePropsTasks, _yield$Promise$all, _yield$Promise$all2, layoutProps, pageProps;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                Component = _ref2.Component, router = _ref2.router, ctx = _ref2.ctx;\n                layoutPropsTasks = {}, pagePropsTasks = {};\n\n                if (Layout.getInitialProps) {\n                  layoutPropsTasks = Layout.getInitialProps(ctx);\n                }\n\n                if (Component.getInitialProps) {\n                  pagePropsTasks = Component.getInitialProps(ctx);\n                }\n\n                _context.next = 6;\n                return Promise.all([layoutPropsTasks, pagePropsTasks]);\n\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n                layoutProps = _yield$Promise$all2[0];\n                pageProps = _yield$Promise$all2[1];\n                return _context.abrupt(\"return\", {\n                  layoutProps: layoutProps,\n                  pageProps: pageProps\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return MyApp;\n}(App);\n/* Enable pwd page protection while in development */\n// export default withBasicAuth(MyApp)\n\n\nexport default MyApp;","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/pages/_app.js"],"names":["React","NProgress","Sentry","App","Router","Layout","GlobalStyle","AuthModalProvider","SearchProvider","ThemeProvider","UserProvider","gtag","theme","configure","showSpinner","isPoppingState","init","dsn","process","env","SENTRY_DSN","environment","TENANT","MyApp","url","console","log","start","done","window","scrollTo","pageview","jssStyles","document","querySelector","parentElement","removeChild","events","on","routeChangeStart","beforePopState","as","options","routeChangeComplete","routeChangeError","off","error","errorInfo","withScope","scope","Object","keys","forEach","key","setExtra","captureException","props","Component","layoutProps","pageProps","router","ctx","layoutPropsTasks","pagePropsTasks","getInitialProps","Promise","all"],"mappings":"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","sourcesContent":["/*\n * Loading example found at:\n * https://github.com/zeit/next.js/blob/canary/examples/with-loading/\n */\n\nimport 'nprogress/nprogress.css'\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport 'shaka-player/dist/controls.css'\nimport React from 'react'\nimport NProgress from 'nprogress'\nimport * as Sentry from '@sentry/node'\nimport App from 'next/app'\nimport Router from 'next/router'\nimport Layout from '../components/layout/Layout'\nimport GlobalStyle from '~/styles'\nimport { AuthModalProvider } from '../contexts/AuthModalContext'\nimport { SearchProvider } from '../contexts/SearchContext'\nimport { ThemeProvider } from 'styled-components'\nimport { UserProvider } from '../contexts/UserContext'\nimport * as gtag from '~/lib/gtag'\n\n\n// import CssBaseline from '@material-ui/core/CssBaseline'\nimport theme from '~/theme'\n// import withBasicAuth from '~/basic-auth'\nimport 'netslider/dist/styles.min.css';\nimport \"~/styles/main.scss\"\n\nNProgress.configure({ showSpinner: false })\n\nlet isPoppingState = false\n\nSentry.init({\n  dsn: process.env.SENTRY_DSN,\n  environment: process.env.TENANT + '_' + (process.env.NODE_ENV || 'testing'),\n})\n\nclass MyApp extends App {\n\n  static async getInitialProps({ Component, router, ctx }) {\n    let layoutPropsTasks = { }, pagePropsTasks = { }\n\n    if (Layout.getInitialProps) {\n      layoutPropsTasks = Layout.getInitialProps(ctx)\n    }\n\n    if (Component.getInitialProps) {\n      pagePropsTasks = Component.getInitialProps(ctx)\n    }\n\n    const [ layoutProps, pageProps ] = await Promise.all([\n      layoutPropsTasks,\n      pagePropsTasks,\n    ])\n\n    return { layoutProps, pageProps }\n  }\n\n  routeChangeStart(url) {\n    console.log(`Loading ${url}...`)\n    NProgress.start()\n  }\n\n  routeChangeComplete(url) {\n    console.log(`Loaded ${url}!`)\n    NProgress.done()\n    if (isPoppingState) {\n      isPoppingState = false\n    } else {\n      window.scrollTo(0, 0)\n    }\n    gtag.pageview(url)\n  }\n\n  routeChangeError() {\n    NProgress.done()\n  }\n\n  componentDidMount() {\n    // Remove the server-side injected CSS.\n    const jssStyles = document.querySelector('#jss-server-side')\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles)\n    }\n    Router.events.on('routeChangeStart', this.routeChangeStart)\n    Router.beforePopState(({ url, as, options }) => {\n      isPoppingState = true\n      return true\n    })\n    Router.events.on('routeChangeComplete', this.routeChangeComplete)\n    Router.events.on('routeChangeError', this.routeChangeError)\n  }\n\n  componentWillUnmount() {\n    Router.events.off('routeChangeStart', this.routeChangeStart)\n    Router.events.off('routeChangeComplete', this.routeChangeComplete)\n    Router.events.off('routeChangeError', this.routeChangeError)\n  }\n\n  componentDidCatch(error, errorInfo) {\n    Sentry.withScope((scope) => {\n      Object.keys(errorInfo).forEach((key) => {\n        scope.setExtra(key, errorInfo[key])\n      })\n\n      Sentry.captureException(error)\n    })\n\n    super.componentDidCatch(error, errorInfo)\n  }\n\n  render() {\n    const { Component, layoutProps, pageProps } = this.props\n    return (\n      <ThemeProvider theme={theme}>\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n        {/* <CssBaseline /> */}\n        <GlobalStyle />\n        <UserProvider>\n          <AuthModalProvider>\n            <SearchProvider>\n              <Component layoutProps={layoutProps} {...pageProps} />\n            </SearchProvider>\n          </AuthModalProvider>\n        </UserProvider>\n      </ThemeProvider>\n    )\n  }\n}\n\n/* Enable pwd page protection while in development */\n// export default withBasicAuth(MyApp)\n\nexport default MyApp\n"]},"metadata":{},"sourceType":"module"}