{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport MediaLink from '../MediaLink/MediaLink';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport Category from '../../types/Category';\nimport Media from '../../types/Media';\nimport WishlistBtn from \"../../components/wishlist-btn\";\nimport { useContext, useState, useRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport Hls from \"hls.js\";\n\nvar MediaCard = function MediaCard(_ref) {\n  _s();\n\n  var _ref$category = _ref.category,\n      category = _ref$category === void 0 ? null : _ref$category,\n      className = _ref.className,\n      media = _ref.media,\n      wishlist = _ref.wishlist;\n\n  if (!media.thumbnail_url) {\n    media.thumbnail_url = '//placehold.jp/180x256.png';\n  }\n\n  var theme = useContext(ThemeContext);\n  var lightColor = theme.colors.texts;\n  var whiteColor = theme.colors.white;\n  var videoCustom = useRef();\n  var isPaid = media.is_paid;\n\n  var _useState = useState(false),\n      displayVideo = _useState[0],\n      setDisplayVideo = _useState[1];\n\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var hls, url;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              hls = new Hls();\n              url = \"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8\";\n              hls.loadSource(url);\n              hls.attachMedia(videoCustom.current);\n              hls.on(Hls.Events.MANIFEST_PARSED, function () {\n                videoCustom.current.play();\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  });\n\n  var handleMouseEnter = function handleMouseEnter() {\n    setTimeout(function () {\n      setDisplayVideo(true);\n      videoCustom.current.play();\n    }, 800);\n  };\n\n  var handleMouseLeave = function handleMouseLeave() {\n    setTimeout(function () {\n      setDisplayVideo(false);\n      console.log(videoCustom);\n    }, 500);\n  };\n\n  return __jsx(\"div\", {\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    className: _JSXStyle.dynamic([[\"3730064381\", [lightColor, whiteColor]]]) + \" \" + (className || \"\")\n  }, __jsx(MediaLink, {\n    category: category,\n    media: media\n  }, __jsx(\"a\", {\n    className: _JSXStyle.dynamic([[\"3730064381\", [lightColor, whiteColor]]]) + \" \" + \"media-card text-center\"\n  }, wishlist && __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3730064381\", [lightColor, whiteColor]]]) + \" \" + \"wish\"\n  }, __jsx(WishlistBtn, {\n    movieId: media.id,\n    inside: true\n  })), __jsx(\"img\", {\n    src: \"https://via.placeholder.com/235x135\",\n    className: _JSXStyle.dynamic([[\"3730064381\", [lightColor, whiteColor]]]) + \" \" + \"img-fluid\"\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3730064381\", [lightColor, whiteColor]]]) + \" \" + \"media-card-label\"\n  }, media.title), __jsx(\"video\", {\n    ref: videoCustom,\n    \"no-controls\": true,\n    muted: true,\n    autoPlay: true,\n    src: \"/static/file_example_MP4_480_1_5MG.mp4\",\n    style: {\n      display: displayVideo ? 'block' : 'none'\n    },\n    className: _JSXStyle.dynamic([[\"3730064381\", [lightColor, whiteColor]]])\n  }))), __jsx(_JSXStyle, {\n    id: \"3730064381\",\n    dynamic: [lightColor, whiteColor]\n  }, \"video.__jsx-style-dynamic-selector{margin:auto;position:absolute;top:0;border:0;right:0;left:0;bottom:0;width:100%;height:100%;}.media-card.__jsx-style-dynamic-selector{color:\".concat(lightColor, \";display:block;font-size:13px;line-height:1;outline:0;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color .2s;transition:color .2s;}.media-card.__jsx-style-dynamic-selector:focus,.media-card.__jsx-style-dynamic-selector:hover{color:\").concat(whiteColor, \";}.media-card.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{margin-bottom:10px;-webkit-transition:opacity .2s;transition:opacity .2s;will-change:opacity;}.media-card-label.__jsx-style-dynamic-selector{padding-right:5%;padding-left:5%;}.wish.__jsx-style-dynamic-selector{position:absolute;z-index:2;opacity:0;text-align:left;}.media-card.__jsx-style-dynamic-selector:focus .wish.__jsx-style-dynamic-selector,.media-card.__jsx-style-dynamic-selector:hover .wish.__jsx-style-dynamic-selector{opacity:1;}@media (min-width:768px){.media-card.__jsx-style-dynamic-selector{font-size:16px;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9jb21wb25lbnRzL01lZGlhQ2FyZC9NZWRpYUNhcmQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb0VrQixBQUd1QixBQVd1QixBQVVBLEFBR2hCLEFBS0YsQUFTQyxBQU9SLEFBSU8sVUFIbkIsRUE3Q29CLEdBaURsQixFQXBCZ0IsQ0FTTixDQWRhLFNBZWIsRUF0Q0osR0E2QlIsRUFuQmdCLEFBVWhCLENBbkJXLEVBc0NPLE9BckNSLElBU08sSUFSUixDQXFDVCxNQXBDVyxJQVFLLEtBUEgsSUFtQlMsS0FYVixFQVBFLFFBUVMsSUFQdkIsQ0FrQkEsNkNBVnVCLGtEQUN2QiIsImZpbGUiOiIvVXNlcnMvcmFmYWVsL1Byb2plY3RzL3NvbW9zZ2FkL2RhbGUvY29tcG9uZW50cy9NZWRpYUNhcmQvTWVkaWFDYXJkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1lZGlhTGluayBmcm9tICcuLi9NZWRpYUxpbmsvTWVkaWFMaW5rJ1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IENhdGVnb3J5IGZyb20gJy4uLy4uL3R5cGVzL0NhdGVnb3J5J1xuaW1wb3J0IE1lZGlhIGZyb20gJy4uLy4uL3R5cGVzL01lZGlhJ1xuaW1wb3J0IFdpc2hsaXN0QnRuIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3dpc2hsaXN0LWJ0blwiXG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcbmltcG9ydCBIbHMgZnJvbSBcImhscy5qc1wiO1xuXG5jb25zdCBNZWRpYUNhcmQgPSAoe1xuICBjYXRlZ29yeSA9IG51bGwsXG4gIGNsYXNzTmFtZSxcbiAgbWVkaWEsXG4gIHdpc2hsaXN0XG59KSA9PiB7XG4gIGlmICggISBtZWRpYS50aHVtYm5haWxfdXJsKSB7XG4gICAgbWVkaWEudGh1bWJuYWlsX3VybCA9ICcvL3BsYWNlaG9sZC5qcC8xODB4MjU2LnBuZydcbiAgfVxuICBjb25zdCB0aGVtZSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KVxuICBjb25zdCBsaWdodENvbG9yID0gdGhlbWUuY29sb3JzLnRleHRzXG4gIGNvbnN0IHdoaXRlQ29sb3IgPSB0aGVtZS5jb2xvcnMud2hpdGVcbiAgY29uc3QgdmlkZW9DdXN0b20gPSB1c2VSZWYoKVxuICBjb25zdCB7IGlzX3BhaWQ6IGlzUGFpZCB9ID0gbWVkaWFcbiAgbGV0IFtkaXNwbGF5VmlkZW8sIHNldERpc3BsYXlWaWRlb10gPSB1c2VTdGF0ZSggZmFsc2UgKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24oKSB7XG4gICAgKGFzeW5jICgpID0+IHtcblxuICAgICAgY29uc3QgaGxzID0gbmV3IEhscygpO1xuICAgICAgY29uc3QgdXJsID0gXCJodHRwczovL2JpdGRhc2gtYS5ha2FtYWloZC5uZXQvY29udGVudC9zaW50ZWwvaGxzL3BsYXlsaXN0Lm0zdThcIjtcblxuICAgICAgaGxzLmxvYWRTb3VyY2UodXJsKTtcbiAgICAgIGhscy5hdHRhY2hNZWRpYSh2aWRlb0N1c3RvbS5jdXJyZW50KTtcbiAgICAgIGhscy5vbihIbHMuRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgZnVuY3Rpb24oKSB7IHZpZGVvQ3VzdG9tLmN1cnJlbnQucGxheSgpOyB9KVxuXG4gICAgfSkoKTtcbiAgfSlcbiAgY29uc3QgaGFuZGxlTW91c2VFbnRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0RGlzcGxheVZpZGVvKHRydWUpXG4gICAgICB2aWRlb0N1c3RvbS5jdXJyZW50LnBsYXkoKTtcblxuICAgIH0sIDgwMClcbiAgfVxuICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXREaXNwbGF5VmlkZW8oZmFsc2UpXG4gICAgICBjb25zb2xlLmxvZyh2aWRlb0N1c3RvbSlcbiAgICB9LCA1MDApXG4gIH1cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHsuLi57Y2xhc3NOYW1lfX0gICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtoYW5kbGVNb3VzZUVudGVyfVxuICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVNb3VzZUxlYXZlfVxuICAgID5cbiAgICAgIDxNZWRpYUxpbmsgey4uLntjYXRlZ29yeSwgbWVkaWF9fT5cbiAgICAgICAgPGEgY2xhc3NOYW1lPVwibWVkaWEtY2FyZCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIHt3aXNobGlzdCAmJlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aXNoXCI+XG4gICAgICAgICAgICAgIDxXaXNobGlzdEJ0biBtb3ZpZUlkPXttZWRpYS5pZH0gaW5zaWRlPXt0cnVlfSAvPlxuICAgICAgICAgICAgPC9kaXY+fVxuICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwiaW1nLWZsdWlkXCIgc3JjPXtcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8yMzV4MTM1XCJ9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1jYXJkLWxhYmVsXCI+e21lZGlhLnRpdGxlfTwvZGl2PlxuICAgICAgICAgIDx2aWRlbyByZWY9e3ZpZGVvQ3VzdG9tfSBuby1jb250cm9scyBtdXRlZCBhdXRvUGxheT17dHJ1ZX0gc3JjPVwiL3N0YXRpYy9maWxlX2V4YW1wbGVfTVA0XzQ4MF8xXzVNRy5tcDRcIiBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogZGlzcGxheVZpZGVvID8gJ2Jsb2NrJyA6ICdub25lJyxcbiAgICAgICAgICB9fT48L3ZpZGVvPlxuICAgICAgICA8L2E+XG4gICAgICA8L01lZGlhTGluaz5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgdmlkZW8ge1xuICAgICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgLm1lZGlhLWNhcmQge1xuICAgICAgICAgIGNvbG9yOiAke2xpZ2h0Q29sb3J9O1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgICBsaW5lLWhlaWdodDogMTtcbiAgICAgICAgICBvdXRsaW5lOiAwO1xuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBjb2xvciAuMnM7XG4gICAgICAgIH1cbiAgICAgICAgLm1lZGlhLWNhcmQ6Zm9jdXMsXG4gICAgICAgIC5tZWRpYS1jYXJkOmhvdmVyIHtcbiAgICAgICAgICBjb2xvcjogJHt3aGl0ZUNvbG9yfTtcbiAgICAgICAgfVxuICAgICAgICAubWVkaWEtY2FyZCBpbWcge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMnM7XG4gICAgICAgICAgd2lsbC1jaGFuZ2U6IG9wYWNpdHk7XG4gICAgICAgIH1cbiAgICAgICAgLm1lZGlhLWNhcmQtbGFiZWwge1xuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDUlO1xuICAgICAgICAgIHBhZGRpbmctbGVmdDogNSU7XG4gICAgICAgIH1cbiAgICAgICAgLm1lZGlhLWNhcmQ6Zm9jdXMgaW1nLFxuICAgICAgICAubWVkaWEtY2FyZDpob3ZlciBpbWcge1xuICAgICAgICAgIC8vb3BhY2l0eTogLjc1O1xuICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIC53aXNoIHtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgei1pbmRleDogMjtcbiAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgLm1lZGlhLWNhcmQ6Zm9jdXMgLndpc2gsXG4gICAgICAgIC5tZWRpYS1jYXJkOmhvdmVyIC53aXNoIHtcbiAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB9XG4gICAgICAgIEBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xuICAgICAgICAgIC5tZWRpYS1jYXJkIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5NZWRpYUNhcmQuZGVmYXVsdFByb3BzID0ge1xuICBjYXRlZ29yeTogbnVsbCxcbiAgY2xhc3NOYW1lOiBudWxsLFxuICBtZWRpYTogbnVsbCxcbn1cblxuZXhwb3J0IGRlZmF1bHQgTWVkaWFDYXJkXG4iXX0= */\\n/*@ sourceURL=/Users/rafael/Projects/somosgad/dale/components/MediaCard/MediaCard.js */\")));\n};\n\n_s(MediaCard, \"iCoN9G2RFkRd12G1KPB4cjLyBGI=\");\n\n_c = MediaCard;\nMediaCard.defaultProps = {\n  category: null,\n  className: null,\n  media: null\n};\nexport default MediaCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MediaCard\");","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/components/MediaCard/MediaCard.js"],"names":["MediaLink","PropTypes","React","useEffect","Category","Media","WishlistBtn","useContext","useState","useRef","ThemeContext","Hls","MediaCard","category","className","media","wishlist","thumbnail_url","theme","lightColor","colors","texts","whiteColor","white","videoCustom","isPaid","is_paid","displayVideo","setDisplayVideo","hls","url","loadSource","attachMedia","current","on","Events","MANIFEST_PARSED","play","handleMouseEnter","setTimeout","handleMouseLeave","console","log","id","title","display","defaultProps"],"mappings":"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","sourcesContent":["import MediaLink from '../MediaLink/MediaLink'\nimport PropTypes from 'prop-types'\nimport React, { useEffect } from 'react'\nimport Category from '../../types/Category'\nimport Media from '../../types/Media'\nimport WishlistBtn from \"../../components/wishlist-btn\"\nimport { useContext, useState, useRef } from 'react'\nimport { ThemeContext } from 'styled-components'\nimport Hls from \"hls.js\";\n\nconst MediaCard = ({\n  category = null,\n  className,\n  media,\n  wishlist\n}) => {\n  if ( ! media.thumbnail_url) {\n    media.thumbnail_url = '//placehold.jp/180x256.png'\n  }\n  const theme = useContext(ThemeContext)\n  const lightColor = theme.colors.texts\n  const whiteColor = theme.colors.white\n  const videoCustom = useRef()\n  const { is_paid: isPaid } = media\n  let [displayVideo, setDisplayVideo] = useState( false );\n\n  useEffect(function() {\n    (async () => {\n\n      const hls = new Hls();\n      const url = \"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8\";\n\n      hls.loadSource(url);\n      hls.attachMedia(videoCustom.current);\n      hls.on(Hls.Events.MANIFEST_PARSED, function() { videoCustom.current.play(); })\n\n    })();\n  })\n  const handleMouseEnter = function() {\n    setTimeout(() => {\n      setDisplayVideo(true)\n      videoCustom.current.play();\n\n    }, 800)\n  }\n  const handleMouseLeave = function() {\n    setTimeout(() => {\n      setDisplayVideo(false)\n      console.log(videoCustom)\n    }, 500)\n  }\n  return (\n    <div {...{className}}             onMouseEnter={handleMouseEnter}\n         onMouseLeave={handleMouseLeave}\n    >\n      <MediaLink {...{category, media}}>\n        <a className=\"media-card text-center\">\n          {wishlist &&\n            <div className=\"wish\">\n              <WishlistBtn movieId={media.id} inside={true} />\n            </div>}\n          <img className=\"img-fluid\" src={\"https://via.placeholder.com/235x135\"} />\n          <div className=\"media-card-label\">{media.title}</div>\n          <video ref={videoCustom} no-controls muted autoPlay={true} src=\"/static/file_example_MP4_480_1_5MG.mp4\" style={{\n            display: displayVideo ? 'block' : 'none',\n          }}></video>\n        </a>\n      </MediaLink>\n      <style jsx>{`\n        video {\n          margin: auto;\n          position: absolute;\n          top: 0;\n          border: 0;\n          right: 0;\n          left: 0;\n          bottom: 0;\n          width: 100%;\n          height: 100%;\n        }\n        .media-card {\n          color: ${lightColor};\n          display: block;\n          font-size: 13px;\n          line-height: 1;\n          outline: 0;\n          text-decoration: none;\n          transition: color .2s;\n        }\n        .media-card:focus,\n        .media-card:hover {\n          color: ${whiteColor};\n        }\n        .media-card img {\n          margin-bottom: 10px;\n          transition: opacity .2s;\n          will-change: opacity;\n        }\n        .media-card-label {\n          padding-right: 5%;\n          padding-left: 5%;\n        }\n        .media-card:focus img,\n        .media-card:hover img {\n          //opacity: .75;\n       \n        }\n        .wish {\n          position: absolute;\n          z-index: 2;\n          opacity: 0;\n          text-align: left;\n        }\n        .media-card:focus .wish,\n        .media-card:hover .wish {\n          opacity: 1;\n        }\n        @media (min-width: 768px) {\n          .media-card {\n            font-size: 16px;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n\nMediaCard.defaultProps = {\n  category: null,\n  className: null,\n  media: null,\n}\n\nexport default MediaCard\n"]},"metadata":{},"sourceType":"module"}