{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Button from '../components/button';\nimport { useEffect, useState } from 'react';\nimport api from '../services/api';\n\nconst WishlistBtn = ({\n  block,\n  color,\n  inside,\n  movieId,\n  home\n}) => {\n  const InsideBtn = ({\n    icon,\n    size,\n    onClick\n  }) => {\n    return __jsx(React.Fragment, null, __jsx(\"button\", {\n      onClick: onClick,\n      className: \"jsx-1743738566\" + \" \" + `btn inside-btn`\n    }, __jsx(\"img\", {\n      height: size,\n      src: icon,\n      width: size,\n      className: \"jsx-1743738566\"\n    }), __jsx(\"span\", {\n      className: \"jsx-1743738566\"\n    }, \"Mi Lista\")), __jsx(_JSXStyle, {\n      id: \"1743738566\"\n    }, \".inside-btn.jsx-1743738566{z-index:3;width:65px;padding:2px 5px;margin:0px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:5px;color:black;background-color:white;}span.jsx-1743738566{margin-left:6px;font-size:8px;font-weight:bold;}.inside-btn.jsx-1743738566:hover{background-color:lightgray;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9jb21wb25lbnRzL3dpc2hsaXN0LWJ0bi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFlb0IsQUFHdUIsQUFVTSxBQUtXLFVBZGhCLE1BVUcsS0FURSxNQWNsQixHQUptQixPQVRQLFVBVVosQ0FUZSwwRUFDRixXQUNDLFlBQ1csdUJBQ3pCIiwiZmlsZSI6Ii9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9jb21wb25lbnRzL3dpc2hsaXN0LWJ0bi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCdXR0b24gZnJvbSAnLi4vY29tcG9uZW50cy9idXR0b24nXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgYXBpIGZyb20gJy4uL3NlcnZpY2VzL2FwaSdcblxuY29uc3QgV2lzaGxpc3RCdG4gPSAoeyBibG9jaywgY29sb3IsIGluc2lkZSwgbW92aWVJZCwgaG9tZSB9KSA9PiB7XG5cbiAgY29uc3QgSW5zaWRlQnRuID0gKHsgaWNvbiwgc2l6ZSwgb25DbGljayB9KSA9PiB7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e2BidG4gaW5zaWRlLWJ0bmB9IG9uQ2xpY2s9e29uQ2xpY2t9PlxuICAgICAgICAgIDxpbWcgaGVpZ2h0PXtzaXplfSBzcmM9e2ljb259IHdpZHRoPXtzaXplfSAvPlxuICAgICAgICAgIDxzcGFuPk1pIExpc3RhPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgLmluc2lkZS1idG4ge1xuICAgICAgICAgICAgei1pbmRleDogMztcbiAgICAgICAgICAgIHdpZHRoOiA2NXB4O1xuICAgICAgICAgICAgcGFkZGluZzogMnB4IDVweDtcbiAgICAgICAgICAgIG1hcmdpbjowcHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgbWFyZ2luOiA1cHg7XG4gICAgICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogNnB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiA4cHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmluc2lkZS1idG46aG92ZXIge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgPC8+XG4gICAgKVxuICB9XG5cbiAgY29uc3QgW3dpc2hsaXN0ZWQsIHNldFdpc2hsaXN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlID0gYXN5bmMgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdHJ5e1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkoKS5wb3N0KCcvd2lzaGxpc3QnLHtpZCA6IG1vdmllSWR9KVxuICAgICAgY29uc3Qge2F0dGFjaGVkLCBkZXRhY2hlZCB9ID0gcmVzcG9uc2UuZGF0YVxuICAgICAgY29uc3QgaW5MaXN0ID0gYXR0YWNoZWQuaW5jbHVkZXMobW92aWVJZCkgJiYgISBkZXRhY2hlZC5pbmNsdWRlcyhtb3ZpZUlkKVxuICAgICAgc2V0V2lzaGxpc3RlZChpbkxpc3QpXG4gICAgfWNhdGNoKGVycm9yKXtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHdpc2hsaXN0ID0gYXN5bmMgXyA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaSgpLmdldChgL3dpc2hsaXN0LyR7bW92aWVJZH1gKVxuICAgICAgc2V0V2lzaGxpc3RlZChPYmplY3Qua2V5cyhyZXMuZGF0YSkubGVuZ3RoID4gMClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCBfID0+IHsgd2lzaGxpc3QoKSB9LCBbXSlcblxuICByZXR1cm4gKFxuICAgIHdpc2hsaXN0ZWQgP1xuICAgICAgaW5zaWRlID9cbiAgICAgICAgPEluc2lkZUJ0biBpY29uPVwiL3N0YXRpYy9pY29ucy9yZW1vdmUuc3ZnXCIgc2l6ZT1cIjEwXCIgb25DbGljaz17aGFuZGxlVG9nZ2xlfSAvPlxuICAgICAgOlxuICAgICAgICA8QnV0dG9uIGJsb2NrPXtibG9ja30gaG9tZT17aG9tZX0gb25DbGljaz17aGFuZGxlVG9nZ2xlfT5cbiAgICAgICAgICA8aW1nIGhlaWdodD1cIjEzXCIgc3JjPVwiL3N0YXRpYy9pY29ucy9yZW1vdmUuc3ZnXCIgd2lkdGg9XCIxM1wiIC8+XG4gICAgICAgICAgPHNwYW4+TWkgTGlzdGE8L3NwYW4+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgIDpcbiAgICAgIGluc2lkZSA/XG4gICAgICAgIDxJbnNpZGVCdG4gaWNvbj1cIi9zdGF0aWMvaWNvbnMvYWRkLnN2Z1wiIHNpemU9XCIxMFwiICBvbkNsaWNrPXtoYW5kbGVUb2dnbGV9IC8+XG4gICAgICA6XG4gICAgICAgIDxCdXR0b24gYmxvY2s9e2Jsb2NrfSBob21lPXtob21lfSBjb2xvcj1cInNlY29uZGFyeVwiIG91dGxpbmUgdGV4dENvbG9yPXtjb2xvcn0gb25DbGljaz17aGFuZGxlVG9nZ2xlfT5cbiAgICAgICAgICA8aW1nIGhlaWdodD1cIjEzXCIgc3JjPVwiL3N0YXRpYy9pY29ucy9hZGQuc3ZnXCIgd2lkdGg9XCIxM1wiIC8+XG4gICAgICAgICAgPHNwYW4+TWkgTGlzdGE8L3NwYW4+XG4gICAgICAgIDwvQnV0dG9uPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFdpc2hsaXN0QnRuXG4iXX0= */\\n/*@ sourceURL=/Users/rafael/Projects/somosgad/dale/components/wishlist-btn.js */\"));\n  };\n\n  const {\n    0: wishlisted,\n    1: setWishlisted\n  } = useState(false);\n\n  const handleToggle = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await api().post('/wishlist', {\n        id: movieId\n      });\n      const {\n        attached,\n        detached\n      } = response.data;\n      const inList = attached.includes(movieId) && !detached.includes(movieId);\n      setWishlisted(inList);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const wishlist = async _ => {\n    try {\n      const res = await api().get(`/wishlist/${movieId}`);\n      setWishlisted(Object.keys(res.data).length > 0);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(_ => {\n    wishlist();\n  }, []);\n  return wishlisted ? inside ? __jsx(InsideBtn, {\n    icon: \"/static/icons/remove.svg\",\n    size: \"10\",\n    onClick: handleToggle\n  }) : __jsx(Button, {\n    block: block,\n    home: home,\n    onClick: handleToggle\n  }, __jsx(\"img\", {\n    height: \"13\",\n    src: \"/static/icons/remove.svg\",\n    width: \"13\"\n  }), __jsx(\"span\", null, \"Mi Lista\")) : inside ? __jsx(InsideBtn, {\n    icon: \"/static/icons/add.svg\",\n    size: \"10\",\n    onClick: handleToggle\n  }) : __jsx(Button, {\n    block: block,\n    home: home,\n    color: \"secondary\",\n    outline: true,\n    textColor: color,\n    onClick: handleToggle\n  }, __jsx(\"img\", {\n    height: \"13\",\n    src: \"/static/icons/add.svg\",\n    width: \"13\"\n  }), __jsx(\"span\", null, \"Mi Lista\"));\n};\n\nexport default WishlistBtn;","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/components/wishlist-btn.js"],"names":["Button","useEffect","useState","api","WishlistBtn","block","color","inside","movieId","home","InsideBtn","icon","size","onClick","wishlisted","setWishlisted","handleToggle","e","preventDefault","response","post","id","attached","detached","data","inList","includes","error","console","log","wishlist","_","res","get","Object","keys","length"],"mappings":"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","sourcesContent":["import Button from '../components/button'\nimport { useEffect, useState } from 'react'\nimport api from '../services/api'\n\nconst WishlistBtn = ({ block, color, inside, movieId, home }) => {\n\n  const InsideBtn = ({ icon, size, onClick }) => {\n\n    return (\n      <>\n        <button className={`btn inside-btn`} onClick={onClick}>\n          <img height={size} src={icon} width={size} />\n          <span>Mi Lista</span>\n        </button>\n\n        <style jsx>{`\n          .inside-btn {\n            z-index: 3;\n            width: 65px;\n            padding: 2px 5px;\n            margin:0px;\n            display: flex;\n            margin: 5px;\n            color: black;\n            background-color: white;\n          }\n          span {\n            margin-left: 6px;\n            font-size: 8px;\n            font-weight: bold;\n          }\n          .inside-btn:hover {\n            background-color: lightgray;\n          }\n        `}</style>\n      </>\n    )\n  }\n\n  const [wishlisted, setWishlisted] = useState(false)\n\n  const handleToggle = async e => {\n    e.preventDefault()\n    try{\n      const response = await api().post('/wishlist',{id : movieId})\n      const {attached, detached } = response.data\n      const inList = attached.includes(movieId) && ! detached.includes(movieId)\n      setWishlisted(inList)\n    }catch(error){\n      console.log(error)\n    }\n  }\n\n  const wishlist = async _ => {\n    try {\n      const res = await api().get(`/wishlist/${movieId}`)\n      setWishlisted(Object.keys(res.data).length > 0)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  useEffect( _ => { wishlist() }, [])\n\n  return (\n    wishlisted ?\n      inside ?\n        <InsideBtn icon=\"/static/icons/remove.svg\" size=\"10\" onClick={handleToggle} />\n      :\n        <Button block={block} home={home} onClick={handleToggle}>\n          <img height=\"13\" src=\"/static/icons/remove.svg\" width=\"13\" />\n          <span>Mi Lista</span>\n        </Button>\n    :\n      inside ?\n        <InsideBtn icon=\"/static/icons/add.svg\" size=\"10\"  onClick={handleToggle} />\n      :\n        <Button block={block} home={home} color=\"secondary\" outline textColor={color} onClick={handleToggle}>\n          <img height=\"13\" src=\"/static/icons/add.svg\" width=\"13\" />\n          <span>Mi Lista</span>\n        </Button>\n  )\n}\n\nexport default WishlistBtn\n"]},"metadata":{},"sourceType":"module"}