{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Color from 'color';\nimport Link from 'next/link';\nimport { useContext } from 'react';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport ActiveLink from '~/components/ActiveLink';\nimport Chevron from '~/components/icons/chevron';\nimport UserContext from '~/contexts/UserContext';\nimport { ThemeContext } from 'styled-components';\n\nconst DesktopMenu = ({\n  data: menus\n}) => {\n  function createMenuItem(menuItem) {\n    let as_href, href;\n\n    if (menuItem.link_type_id === 1) {\n      href = menuItem.link;\n    } else if (menuItem.link_type_id === 2) {\n      href = '/category/[slug]';\n      as_href = `/category/${menuItem.category && menuItem.category.slug}`;\n    }\n\n    return {\n      as: as_href,\n      href: href,\n      label: menuItem.name,\n      visibility: menuItem.private ? 'private' : 'public'\n    };\n  }\n\n  function isExternalLink(str) {\n    return str && (str.startsWith('//') || str.startsWith('http://') || str.startsWith('https://') || str.startsWith('www.'));\n  }\n\n  let menu = null;\n\n  if (menus) {\n    menu = [];\n    menus.map(menuItem => {\n      let dropdown;\n\n      if (menuItem.children && menuItem.link_type_id === 3) {\n        dropdown = [];\n        menuItem.children.map(item => {\n          const submenuItem = createMenuItem(item);\n          dropdown.push(submenuItem);\n        });\n      }\n\n      let myItem = createMenuItem(menuItem);\n      myItem = _objectSpread({\n        dropdown: dropdown\n      }, myItem);\n      menu.push(myItem);\n    });\n  }\n\n  const {\n    user\n  } = useContext(UserContext);\n  const theme = useContext(ThemeContext);\n  const backgroundColor = Color(theme.colors.background);\n  const submenuColor = Color(theme.colors.backgroundContrast).fade(.1).hsl().string();\n  const submenuHoverColor = Color(theme.colors.backgroundContrast).darken(.3).fade(.1).hsl().string();\n  const textsColor = theme.colors.texts;\n  return __jsx(\"ul\", {\n    className: _JSXStyle.dynamic([[\"3150880109\", [textsColor, backgroundColor, submenuHoverColor]]]) + \" \" + \"menu d-none d-md-flex\"\n  }, menu ? __jsx(React.Fragment, null, menu.map(({\n    as,\n    dropdown,\n    href,\n    label,\n    visibility\n  }, i) => {\n    return (!visibility || visibility === 'public' || visibility === 'publicOnly' && !user || visibility === 'private' && user) && __jsx(\"li\", {\n      key: i,\n      className: _JSXStyle.dynamic([[\"3150880109\", [textsColor, backgroundColor, submenuHoverColor]]])\n    }, dropdown && dropdown.length ? __jsx(Dropdown, null, __jsx(Dropdown.Toggle, {\n      id: `dropdown-custom-${i}`\n    }, label, __jsx(Chevron, {\n      alt: \"\",\n      className: \"chevron\",\n      dir: \"bottom\",\n      height: \"9\",\n      inline: true,\n      width: \"16\"\n    })), __jsx(Dropdown.Menu, null, dropdown.map(({\n      as: sub_as,\n      href: sub_href,\n      label: sub_label\n    }, key) => isExternalLink(sub_href) ? __jsx(Dropdown.Item, {\n      href: sub_href,\n      key: key,\n      target: \"_blank\"\n    }, sub_label) : __jsx(Link, {\n      as: sub_as,\n      href: sub_href,\n      key: key,\n      passHref: true\n    }, __jsx(Dropdown.Item, {\n      href: sub_as\n    }, sub_label))))) : isExternalLink(href) ? __jsx(\"a\", {\n      href: href,\n      target: \"_blank\",\n      className: _JSXStyle.dynamic([[\"3150880109\", [textsColor, backgroundColor, submenuHoverColor]]])\n    }, label) : __jsx(ActiveLink, {\n      as: as,\n      href: href != null && href != \"\" ? href : \"/\"\n    }, __jsx(\"a\", {\n      className: _JSXStyle.dynamic([[\"3150880109\", [textsColor, backgroundColor, submenuHoverColor]]])\n    }, label)));\n  })) : __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"3150880109\", [textsColor, backgroundColor, submenuHoverColor]]])\n  }, \"No se pueden cargar los men\\xFAs\"), __jsx(_JSXStyle, {\n    id: \"3150880109\",\n    dynamic: [textsColor, backgroundColor, submenuHoverColor]\n  }, `.menu.__jsx-style-dynamic-selector{display:none;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:0 auto 0 0;padding-left:0;}.menu.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.menu.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector,.menu.__jsx-style-dynamic-selector .dropdown-toggle{background-color:transparent;border:0;color:inherit;display:block;font-size:inherit;font-weight:inherit;padding:5px 10px;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color .2s;transition:color .2s;}.menu.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:focus,.menu.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:hover,.menu.__jsx-style-dynamic-selector a.active.__jsx-style-dynamic-selector,.menu.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector,.menu.__jsx-style-dynamic-selector .dropdown-toggle:focus,.menu.__jsx-style-dynamic-selector .dropdown-toggle:hover{background-color:transparent;box-shadow:none !important;color:#fff;cursor:pointer;}.menu.__jsx-style-dynamic-selector .dropdown-toggle::after{display:none;}.menu.__jsx-style-dynamic-selector .dropdown-toggle .chevron{display:inline-block;line-height:1;margin-left:10px;}.menu.__jsx-style-dynamic-selector .dropdown-toggle .chevron path{-webkit-transition:fill .2s;transition:fill .2s;}.menu.__jsx-style-dynamic-selector .dropdown-toggle:focus .chevron path,.menu.__jsx-style-dynamic-selector .dropdown-toggle:hover .chevron path{fill:var(--white);}.menu.__jsx-style-dynamic-selector .dropdown-menu{background-color:transparent;border:0;border-radius:0;color:inherit;font-size:inherit;left:50% !important;margin-top:22px;padding-top:0;padding-bottom:0;text-align:center;-webkit-transform:translate3d(-50%,32px,0) !important;-ms-transform:translate3d(-50%,32px,0) !important;transform:translate3d(-50%,32px,0) !important;}.menu.__jsx-style-dynamic-selector .dropdown-item{background-color:${backgroundColor};border:.1px solid transparent;box-shadow:0 0 1px var(--black);color:inherit;font-weight:inherit;padding:.33rem 1rem;-webkit-transition:background-color .2s,color .2s;transition:background-color .2s,color .2s;}.menu.__jsx-style-dynamic-selector .dropdown-item:focus,.menu.__jsx-style-dynamic-selector .dropdown-item:hover{background-color:${submenuHoverColor};}.menu.__jsx-style-dynamic-selector .dropdown-item:focus,.menu.__jsx-style-dynamic-selector .dropdown-item:hover,.menu.__jsx-style-dynamic-selector .dropdown-item.active{color:var(--white);}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9jb21wb25lbnRzL2xheW91dC9EZXNrdG9wTWVudS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnSG1CLEFBR3dCLEFBTUEsQUFJZ0IsQUFnQkEsQUFNaEIsQUFHUSxBQU1ELEFBSUYsQUFHVyxBQWFpQixBQVVBLEFBSzNCLGFBM0VXLEFBZ0NoQyxLQWFBLENBK0JBLEVBekNnQixRQXpCTCxBQWdCa0IsQUFzQmxCLE1BWlEsR0F6QkgsQUFzQ0UsUUFZYyxBQVVoQyxFQTlCQSxJQTdCZ0IsQUF5QmhCLEVBYWdCLEVBdkJILFVBZE8sQ0FlSCxDQXVCRyxNQTdDcEIsRUF3RGtDLE1BakNsQyxFQWZzQixFQXNDQSxrQkFyQ0gsRUFzQ0QsRUFVRixhQS9DTyxDQXNDUCxBQVVNLE1BL0RGLFFBc0RELE1BVUcsSUEvREwsT0FzREcsUUFyRHBCLENBK0Q2QyxTQWpEdEIsQUF3QzJCLGtEQXZDbEQsaUNBaURBLG1FQVRBIiwiZmlsZSI6Ii9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9jb21wb25lbnRzL2xheW91dC9EZXNrdG9wTWVudS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb2xvciBmcm9tICdjb2xvcidcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcbmltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBEcm9wZG93biBmcm9tICdyZWFjdC1ib290c3RyYXAvRHJvcGRvd24nXG5pbXBvcnQgQWN0aXZlTGluayBmcm9tICd+L2NvbXBvbmVudHMvQWN0aXZlTGluaydcbmltcG9ydCBDaGV2cm9uIGZyb20gJ34vY29tcG9uZW50cy9pY29ucy9jaGV2cm9uJ1xuaW1wb3J0IFVzZXJDb250ZXh0IGZyb20gJ34vY29udGV4dHMvVXNlckNvbnRleHQnXG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcblxuY29uc3QgRGVza3RvcE1lbnUgPSAoeyBkYXRhOiBtZW51cyB9KSA9PiB7XG5cbiAgZnVuY3Rpb24gY3JlYXRlTWVudUl0ZW0obWVudUl0ZW0pIHtcbiAgICBsZXQgYXNfaHJlZixcbiAgICAgIGhyZWZcbiAgICBpZiAobWVudUl0ZW0ubGlua190eXBlX2lkID09PSAxKSB7XG4gICAgICBocmVmID0gbWVudUl0ZW0ubGlua1xuICAgIH0gZWxzZSBpZiAobWVudUl0ZW0ubGlua190eXBlX2lkID09PSAyKSB7XG4gICAgICBocmVmID0gJy9jYXRlZ29yeS9bc2x1Z10nXG4gICAgICBhc19ocmVmID0gYC9jYXRlZ29yeS8keyBtZW51SXRlbS5jYXRlZ29yeSAmJiBtZW51SXRlbS5jYXRlZ29yeS5zbHVnIH1gXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBhczogYXNfaHJlZixcbiAgICAgIGhyZWY6IGhyZWYsXG4gICAgICBsYWJlbDogbWVudUl0ZW0ubmFtZSxcbiAgICAgIHZpc2liaWxpdHk6IG1lbnVJdGVtLnByaXZhdGUgPyAncHJpdmF0ZScgOiAncHVibGljJyxcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0V4dGVybmFsTGluayhzdHIpIHtcbiAgICByZXR1cm4gc3RyICYmIChzdHIuc3RhcnRzV2l0aCgnLy8nKSB8fFxuICAgICAgc3RyLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fFxuICAgICAgc3RyLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykgfHxcbiAgICAgIHN0ci5zdGFydHNXaXRoKCd3d3cuJykpO1xuICB9XG5cbiAgbGV0IG1lbnUgPSBudWxsXG4gIGlmIChtZW51cykge1xuICAgIG1lbnUgPSBbXVxuICAgIG1lbnVzLm1hcChtZW51SXRlbSA9PiB7XG4gICAgICBsZXQgZHJvcGRvd25cbiAgICAgIGlmIChtZW51SXRlbS5jaGlsZHJlbiAmJiBtZW51SXRlbS5saW5rX3R5cGVfaWQgPT09IDMpIHtcbiAgICAgICAgZHJvcGRvd24gPSBbXVxuICAgICAgICBtZW51SXRlbS5jaGlsZHJlbi5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3VibWVudUl0ZW0gPSBjcmVhdGVNZW51SXRlbShpdGVtKVxuICAgICAgICAgIGRyb3Bkb3duLnB1c2goc3VibWVudUl0ZW0pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBsZXQgbXlJdGVtID0gY3JlYXRlTWVudUl0ZW0obWVudUl0ZW0pXG4gICAgICBteUl0ZW0gPSB7XG4gICAgICAgIGRyb3Bkb3duOiBkcm9wZG93bixcbiAgICAgICAgLi4ubXlJdGVtLFxuICAgICAgfVxuICAgICAgbWVudS5wdXNoKG15SXRlbSlcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQ29udGV4dChVc2VyQ29udGV4dClcbiAgY29uc3QgdGhlbWUgPSB1c2VDb250ZXh0KFRoZW1lQ29udGV4dClcbiAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gQ29sb3IodGhlbWUuY29sb3JzLmJhY2tncm91bmQpXG4gIGNvbnN0IHN1Ym1lbnVDb2xvciA9IENvbG9yKHRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kQ29udHJhc3QpLmZhZGUoLjEpLmhzbCgpLnN0cmluZygpXG4gIGNvbnN0IHN1Ym1lbnVIb3ZlckNvbG9yID0gQ29sb3IodGhlbWUuY29sb3JzLmJhY2tncm91bmRDb250cmFzdCkuZGFya2VuKC4zKS5mYWRlKC4xKS5oc2woKS5zdHJpbmcoKVxuICBjb25zdCB0ZXh0c0NvbG9yID0gdGhlbWUuY29sb3JzLnRleHRzXG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibWVudSBkLW5vbmUgZC1tZC1mbGV4XCI+XG4gICAgICB7IG1lbnUgPyAoXG4gICAgICAgIDw+XG4gICAgICAgICAgeyBtZW51Lm1hcCgoeyBhcywgZHJvcGRvd24sIGhyZWYsIGxhYmVsLCB2aXNpYmlsaXR5IH0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoIXZpc2liaWxpdHkgfHxcbiAgICAgICAgICAgICAgdmlzaWJpbGl0eSA9PT0gJ3B1YmxpYycgfHxcbiAgICAgICAgICAgICAgdmlzaWJpbGl0eSA9PT0gJ3B1YmxpY09ubHknICYmICF1c2VyIHx8XG4gICAgICAgICAgICAgIHZpc2liaWxpdHkgPT09ICdwcml2YXRlJyAmJiB1c2VyKSAmJiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9eyBpIH0+XG4gICAgICAgICAgICAgICAgeyBkcm9wZG93biAmJiBkcm9wZG93bi5sZW5ndGggPyAoXG4gICAgICAgICAgICAgICAgICA8RHJvcGRvd24+XG4gICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bi5Ub2dnbGUgaWQ9eyBgZHJvcGRvd24tY3VzdG9tLSR7IGkgfWAgfT5cbiAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsIH1cbiAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvblxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoZXZyb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyPVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5saW5lXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjE2XCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duLlRvZ2dsZT5cbiAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duLk1lbnU+XG4gICAgICAgICAgICAgICAgICAgICAgeyBkcm9wZG93bi5tYXAoKHsgYXM6IHN1Yl9hcywgaHJlZjogc3ViX2hyZWYsIGxhYmVsOiBzdWJfbGFiZWwgfSwga2V5KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0V4dGVybmFsTGluayhzdWJfaHJlZikgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bi5JdGVtIGhyZWY9eyBzdWJfaHJlZiB9IGtleT17IGtleSB9IHRhcmdldD1cIl9ibGFua1wiPnsgc3ViX2xhYmVsIH08L0Ryb3Bkb3duLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBhcz17IHN1Yl9hcyB9IGhyZWY9eyBzdWJfaHJlZiB9IGtleT17IGtleSB9IHBhc3NIcmVmPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bi5JdGVtIGhyZWY9eyBzdWJfYXMgfT57IHN1Yl9sYWJlbCB9PC9Ecm9wZG93bi5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgKSkgfVxuICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duLk1lbnU+XG4gICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duPlxuICAgICAgICAgICAgICAgICkgOiBpc0V4dGVybmFsTGluayhocmVmKSA/IChcbiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9eyBocmVmIH0gdGFyZ2V0PVwiX2JsYW5rXCI+eyBsYWJlbCB9PC9hPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8QWN0aXZlTGluayBhcz17IGFzIH0gaHJlZj17IGhyZWYgIT0gbnVsbCAmJiBocmVmICE9IFwiXCIgPyBocmVmIDogXCIvXCIgfT5cbiAgICAgICAgICAgICAgICAgICAgPGE+eyBsYWJlbCB9PC9hPlxuICAgICAgICAgICAgICAgICAgPC9BY3RpdmVMaW5rPlxuICAgICAgICAgICAgICAgICkgfVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pIH1cbiAgICAgICAgPC8+XG4gICAgICApIDogKFxuICAgICAgICA8bGk+Tm8gc2UgcHVlZGVuIGNhcmdhciBsb3MgbWVuw7pzPC9saT5cbiAgICAgICkgfVxuICAgICAgPHN0eWxlIGpzeD57IGBcbiAgICAgICAgLm1lbnUge1xuICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvIDAgMDtcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDA7XG4gICAgICAgIH1cbiAgICAgICAgLm1lbnUgbGkge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIH1cbiAgICAgICAgLm1lbnUgYSxcbiAgICAgICAgLm1lbnUgOmdsb2JhbCguZHJvcGRvd24tdG9nZ2xlKSB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICAgIGNvbG9yOiBpbmhlcml0O1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgICAgICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcbiAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgLjJzO1xuICAgICAgICB9XG4gICAgICAgIC5tZW51IGE6Zm9jdXMsXG4gICAgICAgIC5tZW51IGE6aG92ZXIsXG4gICAgICAgIC5tZW51IGEuYWN0aXZlLFxuICAgICAgICAubWVudSBhLFxuICAgICAgICAubWVudSA6Z2xvYmFsKC5kcm9wZG93bi10b2dnbGUpOmZvY3VzLFxuICAgICAgICAubWVudSA6Z2xvYmFsKC5kcm9wZG93bi10b2dnbGUpOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB9XG4gICAgICAgIC5tZW51IDpnbG9iYWwoLmRyb3Bkb3duLXRvZ2dsZSk6OmFmdGVyIHtcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG4gICAgICAgIC5tZW51IDpnbG9iYWwoLmRyb3Bkb3duLXRvZ2dsZSkgOmdsb2JhbCguY2hldnJvbikge1xuICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICBsaW5lLWhlaWdodDogMTtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgICAgfVxuICAgICAgICAubWVudSA6Z2xvYmFsKC5kcm9wZG93bi10b2dnbGUpIDpnbG9iYWwoLmNoZXZyb24pIDpnbG9iYWwocGF0aCkge1xuICAgICAgICAgIC8vZmlsbDogJHsgdGV4dHNDb2xvciB9O1xuICAgICAgICAgIHRyYW5zaXRpb246IGZpbGwgLjJzO1xuICAgICAgICB9XG4gICAgICAgIC5tZW51IDpnbG9iYWwoLmRyb3Bkb3duLXRvZ2dsZSk6Zm9jdXMgOmdsb2JhbCguY2hldnJvbikgOmdsb2JhbChwYXRoKSxcbiAgICAgICAgLm1lbnUgOmdsb2JhbCguZHJvcGRvd24tdG9nZ2xlKTpob3ZlciA6Z2xvYmFsKC5jaGV2cm9uKSA6Z2xvYmFsKHBhdGgpIHtcbiAgICAgICAgICBmaWxsOiB2YXIoLS13aGl0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLm1lbnUgOmdsb2JhbCguZHJvcGRvd24tbWVudSkge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgICAgICAgIGNvbG9yOiBpbmhlcml0O1xuICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgICAgICAgICBsZWZ0OiA1MCUgIWltcG9ydGFudDtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAyMnB4O1xuICAgICAgICAgIHBhZGRpbmctdG9wOiAwO1xuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwO1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIDMycHgsIDApICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLm1lbnUgOmdsb2JhbCguZHJvcGRvd24taXRlbSkge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7IGJhY2tncm91bmRDb2xvciB9O1xuICAgICAgICAgIGJvcmRlcjogLjFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMXB4IHZhcigtLWJsYWNrKTtcbiAgICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcbiAgICAgICAgICBwYWRkaW5nOiAuMzNyZW0gMXJlbTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4ycywgY29sb3IgLjJzO1xuICAgICAgICB9XG4gICAgICAgIC5tZW51IDpnbG9iYWwoLmRyb3Bkb3duLWl0ZW0pOmZvY3VzLFxuICAgICAgICAubWVudSA6Z2xvYmFsKC5kcm9wZG93bi1pdGVtKTpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHsgc3VibWVudUhvdmVyQ29sb3IgfTtcbiAgICAgICAgfVxuICAgICAgICAubWVudSA6Z2xvYmFsKC5kcm9wZG93bi1pdGVtKTpmb2N1cyxcbiAgICAgICAgLm1lbnUgOmdsb2JhbCguZHJvcGRvd24taXRlbSk6aG92ZXIsXG4gICAgICAgIC5tZW51IDpnbG9iYWwoLmRyb3Bkb3duLWl0ZW0uYWN0aXZlKSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXdoaXRlKTtcbiAgICAgICAgfVxuICAgICAgYCB9PC9zdHlsZT5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IERlc2t0b3BNZW51XG4iXX0= */\n/*@ sourceURL=/Users/rafael/Projects/somosgad/dale/components/layout/DesktopMenu.js */`));\n};\n\nexport default DesktopMenu;","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/components/layout/DesktopMenu.js"],"names":["Color","Link","useContext","Dropdown","ActiveLink","Chevron","UserContext","ThemeContext","DesktopMenu","data","menus","createMenuItem","menuItem","as_href","href","link_type_id","link","category","slug","as","label","name","visibility","private","isExternalLink","str","startsWith","menu","map","dropdown","children","item","submenuItem","push","myItem","user","theme","backgroundColor","colors","background","submenuColor","backgroundContrast","fade","hsl","string","submenuHoverColor","darken","textsColor","texts","i","length","sub_as","sub_href","sub_label","key"],"mappings":"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","sourcesContent":["import Color from 'color'\nimport Link from 'next/link'\nimport { useContext } from 'react'\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport ActiveLink from '~/components/ActiveLink'\nimport Chevron from '~/components/icons/chevron'\nimport UserContext from '~/contexts/UserContext'\nimport { ThemeContext } from 'styled-components'\n\nconst DesktopMenu = ({ data: menus }) => {\n\n  function createMenuItem(menuItem) {\n    let as_href,\n      href\n    if (menuItem.link_type_id === 1) {\n      href = menuItem.link\n    } else if (menuItem.link_type_id === 2) {\n      href = '/category/[slug]'\n      as_href = `/category/${ menuItem.category && menuItem.category.slug }`\n    }\n    return {\n      as: as_href,\n      href: href,\n      label: menuItem.name,\n      visibility: menuItem.private ? 'private' : 'public',\n    }\n  }\n\n  function isExternalLink(str) {\n    return str && (str.startsWith('//') ||\n      str.startsWith('http://') ||\n      str.startsWith('https://') ||\n      str.startsWith('www.'));\n  }\n\n  let menu = null\n  if (menus) {\n    menu = []\n    menus.map(menuItem => {\n      let dropdown\n      if (menuItem.children && menuItem.link_type_id === 3) {\n        dropdown = []\n        menuItem.children.map(item => {\n          const submenuItem = createMenuItem(item)\n          dropdown.push(submenuItem)\n        })\n      }\n      let myItem = createMenuItem(menuItem)\n      myItem = {\n        dropdown: dropdown,\n        ...myItem,\n      }\n      menu.push(myItem)\n    });\n  }\n\n  const { user } = useContext(UserContext)\n  const theme = useContext(ThemeContext)\n  const backgroundColor = Color(theme.colors.background)\n  const submenuColor = Color(theme.colors.backgroundContrast).fade(.1).hsl().string()\n  const submenuHoverColor = Color(theme.colors.backgroundContrast).darken(.3).fade(.1).hsl().string()\n  const textsColor = theme.colors.texts\n\n  return (\n    <ul className=\"menu d-none d-md-flex\">\n      { menu ? (\n        <>\n          { menu.map(({ as, dropdown, href, label, visibility }, i) => {\n            return (!visibility ||\n              visibility === 'public' ||\n              visibility === 'publicOnly' && !user ||\n              visibility === 'private' && user) && (\n              <li key={ i }>\n                { dropdown && dropdown.length ? (\n                  <Dropdown>\n                    <Dropdown.Toggle id={ `dropdown-custom-${ i }` }>\n                      { label }\n                      <Chevron\n                        alt=\"\"\n                        className=\"chevron\"\n                        dir=\"bottom\"\n                        height=\"9\"\n                        inline\n                        width=\"16\"\n                      />\n                    </Dropdown.Toggle>\n                    <Dropdown.Menu>\n                      { dropdown.map(({ as: sub_as, href: sub_href, label: sub_label }, key) => (\n                        isExternalLink(sub_href) ? (\n                          <Dropdown.Item href={ sub_href } key={ key } target=\"_blank\">{ sub_label }</Dropdown.Item>\n                        ) : (\n                          <Link as={ sub_as } href={ sub_href } key={ key } passHref>\n                            <Dropdown.Item href={ sub_as }>{ sub_label }</Dropdown.Item>\n                          </Link>\n                        )\n                      )) }\n                    </Dropdown.Menu>\n                  </Dropdown>\n                ) : isExternalLink(href) ? (\n                  <a href={ href } target=\"_blank\">{ label }</a>\n                ) : (\n                  <ActiveLink as={ as } href={ href != null && href != \"\" ? href : \"/\" }>\n                    <a>{ label }</a>\n                  </ActiveLink>\n                ) }\n              </li>\n            )\n          }) }\n        </>\n      ) : (\n        <li>No se pueden cargar los men√∫s</li>\n      ) }\n      <style jsx>{ `\n        .menu {\n          display: none;\n          justify-content: space-between;\n          margin: 0 auto 0 0;\n          padding-left: 0;\n        }\n        .menu li {\n          display: flex;\n        }\n        .menu a,\n        .menu :global(.dropdown-toggle) {\n          background-color: transparent;\n          border: 0;\n          color: inherit;\n          display: block;\n          font-size: inherit;\n          font-weight: inherit;\n          padding: 5px 10px;\n          text-decoration: none;\n          transition: color .2s;\n        }\n        .menu a:focus,\n        .menu a:hover,\n        .menu a.active,\n        .menu a,\n        .menu :global(.dropdown-toggle):focus,\n        .menu :global(.dropdown-toggle):hover {\n          background-color: transparent;\n          box-shadow: none !important;\n          color: #fff;\n          cursor: pointer;\n        }\n        .menu :global(.dropdown-toggle)::after {\n          display: none;\n        }\n        .menu :global(.dropdown-toggle) :global(.chevron) {\n          display: inline-block;\n          line-height: 1;\n          margin-left: 10px;\n        }\n        .menu :global(.dropdown-toggle) :global(.chevron) :global(path) {\n          //fill: ${ textsColor };\n          transition: fill .2s;\n        }\n        .menu :global(.dropdown-toggle):focus :global(.chevron) :global(path),\n        .menu :global(.dropdown-toggle):hover :global(.chevron) :global(path) {\n          fill: var(--white);\n        }\n        .menu :global(.dropdown-menu) {\n          background-color: transparent;\n          border: 0;\n          border-radius: 0;\n          color: inherit;\n          font-size: inherit;\n          left: 50% !important;\n          margin-top: 22px;\n          padding-top: 0;\n          padding-bottom: 0;\n          text-align: center;\n          transform: translate3d(-50%, 32px, 0) !important;\n        }\n        .menu :global(.dropdown-item) {\n          background-color: ${ backgroundColor };\n          border: .1px solid transparent;\n          box-shadow: 0 0 1px var(--black);\n          color: inherit;\n          font-weight: inherit;\n          padding: .33rem 1rem;\n          transition: background-color .2s, color .2s;\n        }\n        .menu :global(.dropdown-item):focus,\n        .menu :global(.dropdown-item):hover {\n          background-color: ${ submenuHoverColor };\n        }\n        .menu :global(.dropdown-item):focus,\n        .menu :global(.dropdown-item):hover,\n        .menu :global(.dropdown-item.active) {\n          color: var(--white);\n        }\n      ` }</style>\n    </ul>\n  )\n}\n\nexport default DesktopMenu\n"]},"metadata":{},"sourceType":"module"}