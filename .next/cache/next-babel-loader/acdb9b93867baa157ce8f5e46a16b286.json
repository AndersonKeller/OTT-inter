{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// next imports\nimport Head from 'next/head'; // react imports\n\nimport { useEffect, useState, useContext } from 'react'; // app imports\n\nimport Layout from '../components/layout/Layout';\nimport { CONFIG } from '../config';\nimport api from '../services/api';\nimport Loading from '../components/Loading/Loading';\nimport MediaList from '../components/MediaList/MediaList';\nimport Button from '../components/button';\nimport UserContext from '../contexts/UserContext';\nimport Router from 'next/router'; // wishlist page\n\nconst WishlistPage = ({\n  layoutProps\n}) => {\n  const {\n    0: medias,\n    1: setMedias\n  } = useState();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: error,\n    1: setError\n  } = useState();\n  const {\n    user\n  } = useContext(UserContext);\n  /* temporarily handle user presence */\n\n  useEffect(_ => {\n    const timeout = setTimeout(_ => {\n      if (!user) {\n        Router.push('/login');\n      }\n    }, 1000);\n    return function cleanup() {\n      clearTimeout(timeout);\n    };\n  }, [user]);\n\n  const fetchData = async _ => {\n    setLoading(true);\n\n    try {\n      const {\n        data: medias\n      } = await api().get('/wishlist');\n      setMedias(medias);\n    } catch (e) {\n      setError(500);\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(_ => {\n    fetchData();\n  }, []);\n  return __jsx(Layout, layoutProps, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-373446342\"\n  }, \"Mi lista < \", CONFIG.appName)), __jsx(\"div\", {\n    className: \"jsx-373446342\" + \" \" + \"container-fluid\"\n  }, __jsx(\"div\", {\n    className: \"jsx-373446342\" + \" \" + \"row\"\n  }, __jsx(\"div\", {\n    className: \"jsx-373446342\" + \" \" + \"col-md-10 offset-md-1\"\n  }, __jsx(\"header\", {\n    className: \"jsx-373446342\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-373446342\" + \" \" + \"h2\"\n  }, \"Mi lista\")), __jsx(Loading, {\n    loadingState: loading\n  }), !loading && medias && medias.length === 0 && __jsx(\"div\", {\n    className: \"jsx-373446342\"\n  }, __jsx(\"div\", {\n    className: \"jsx-373446342\" + \" \" + \"info\"\n  }, __jsx(\"p\", {\n    className: \"jsx-373446342\"\n  }, \"A\\xFAn no hay videos en tu lista.\")), __jsx(Button, {\n    href: \"/movies\"\n  }, \"Agregar videos\")), !loading && error && !medias && __jsx(\"p\", {\n    className: \"jsx-373446342\"\n  }, error), !loading && !error && medias && medias.length >= 1 && __jsx(MediaList, {\n    medias,\n    wishlist: true\n  })))), __jsx(_JSXStyle, {\n    id: \"373446342\"\n  }, [\"header.jsx-373446342{padding-top:15px;}\", \".h2.jsx-373446342{margin-bottom:30px;}\", \".info.jsx-373446342{margin-bottom:30px;}\", \"@media (min-width:768px){header.jsx-373446342{padding-top:30px;}}\"]));\n};\n\nexport default WishlistPage;","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/pages/wishlist.js"],"names":["Head","useEffect","useState","useContext","Layout","CONFIG","api","Loading","MediaList","Button","UserContext","Router","WishlistPage","layoutProps","medias","setMedias","loading","setLoading","error","setError","user","_","timeout","setTimeout","push","cleanup","clearTimeout","fetchData","data","get","e","appName","length","wishlist"],"mappings":"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","sourcesContent":["// next imports\nimport Head from 'next/head'\n\n// react imports\nimport { useEffect, useState, useContext } from 'react'\n\n// app imports\nimport Layout from '../components/layout/Layout'\nimport { CONFIG } from '../config'\nimport api from '../services/api'\nimport Loading from '../components/Loading/Loading'\nimport MediaList from '../components/MediaList/MediaList'\nimport Button from '../components/button'\nimport UserContext from '../contexts/UserContext'\nimport Router from 'next/router'\n\n// wishlist page\nconst WishlistPage = ({layoutProps}) => {\n\n  const [medias, setMedias] = useState()\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState()\n  const {user} = useContext(UserContext)\n\n  /* temporarily handle user presence */\n  useEffect(_ => {\n    const timeout = setTimeout(_ => {\n      if ( ! user) {\n        Router.push('/login')\n      }\n    }, 1000)\n    return function cleanup() {\n      clearTimeout(timeout)\n    }\n  }, [user])\n\n  const fetchData = async _ => {\n    setLoading(true)\n    try {\n      const {data: medias} = await api().get('/wishlist')\n      setMedias(medias);\n    } catch (e) {\n      setError(500)\n    }\n    setLoading(false)\n  }\n\n  useEffect( _ => { fetchData() }, [])\n\n  return (\n    <Layout {...layoutProps}>\n      <Head>\n        <title>Mi lista &lt; {CONFIG.appName}</title>\n      </Head>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1\">\n\n            {/* heading */}\n            <header>\n              <h1 className=\"h2\">Mi lista</h1>\n            </header>\n\n            {/* loading */}\n            <Loading loadingState={loading} />\n\n            {/* empty msg */}\n            { ! loading && medias && medias.length === 0 && (\n              <div>\n                <div className=\"info\">\n                  <p>AÃºn no hay videos en tu lista.</p>\n                </div>\n                <Button href=\"/movies\">Agregar videos</Button>\n              </div>\n            ) }\n\n            {/* error msg */}\n            { ! loading && error && ! medias && (\n              <p>{error}</p>\n            ) }\n\n            {/* media list */}\n            { ! loading && ! error && medias && medias.length >= 1 && (\n              <MediaList {...{medias, wishlist: true}} />\n            ) }\n\n          </div>\n        </div>\n      </div>\n      <style jsx>{`\n        header {\n          padding-top: 15px;\n        }\n        .h2 {\n          margin-bottom: 30px;\n        }\n        .info {\n          margin-bottom: 30px;\n        }\n        @media (min-width: 768px) {\n          header {\n            padding-top: 30px;\n          }\n        }\n      `}</style>\n    </Layout>\n  );\n}\n\nexport default WishlistPage\n\n"]},"metadata":{},"sourceType":"module"}