{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useContext, useEffect, useState } from 'react';\nimport Button from '~/components/button';\nimport Player from '~/components/Player';\nimport UserContext from '~/contexts/UserContext';\nimport { IS_PRODUCTION } from '~/constants/constants';\nimport { AuthModalContext } from '~/contexts/AuthModalContext';\nimport { CONFIG } from '~/config';\nimport { ThemeContext } from 'styled-components';\nimport Color from 'color';\nexport default function BlockedPlayer({\n  image = '',\n  media\n}) {\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    is_paid: isPaid\n  } = media;\n  const {\n    0: showVideo,\n    1: setShowVideo\n  } = useState();\n  const autoPlay = IS_PRODUCTION;\n  const {\n    openAuthModal\n  } = useContext(AuthModalContext);\n  useEffect(_ => {\n    setShowVideo(!isPaid || isPaid && user);\n  }, [isPaid, user]);\n\n  const handleAuth = e => {\n    e.preventDefault();\n    openAuthModal('register');\n  };\n\n  const youtube_type_id = 3;\n  const youtube_link = media.movie_links.find(element => {\n    return element.movie_link_type_id === youtube_type_id;\n  });\n  const probaGratis = CONFIG.lang === 'es-CL' ? 'Prueba gratis' : 'Probá Gratis';\n\n  const handleLogin = e => {\n    e.preventDefault();\n    openAuthModal('login');\n  };\n\n  const alreadyRegistered = CONFIG.lang === 'es-CL' ? '¿Ya estás suscrito?' : '¿Ya eres suscriptor?';\n  const login = CONFIG.lang === 'es-CL' ? 'Inicia sesión' : 'Ház login';\n  const theme = useContext(ThemeContext);\n  const maskColor = Color(theme.colors.black).fade(.3).hsl().string();\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]]) + \" \" + \"player\"\n  }, showVideo ? media && media.movie_links && media.movie_links.length && !youtube_link ? __jsx(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]])\n  }, __jsx(Player, {\n    height: \"100%\",\n    media: media,\n    poster: image,\n    style: {\n      padding: '56.44% 0 0 0',\n      position: 'relative'\n    },\n    width: \"100%\"\n  })) : youtube_link ? __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]]) + \" \" + \"embed-responsive embed-responsive-16by9\"\n  }, __jsx(\"iframe\", {\n    allow: `accelerometer; ${autoPlay ? 'autoplay;' : ''} encrypted-media; gyroscope; picture-in-picture`,\n    allowFullScreen: true,\n    frameBorder: \"0\",\n    src: `${youtube_link.url}?${autoPlay ? 'autoplay=1' : ''}`,\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]]) + \" \" + `embed-responsive-item`\n  })) : \"Couldn't parse url\" : __jsx(React.Fragment, null, __jsx(\"img\", {\n    src: image,\n    width: \"822\",\n    height: \"464\",\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]]) + \" \" + \"img-fluid\"\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]]) + \" \" + \"block-msg text-center\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]]) + \" \" + \"text-block\"\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]])\n  }, __jsx(\"strong\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]])\n  }, \"Este contenido es exclusivo para los suscriptores\")), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]]) + \" \" + \"d-none d-md-block\"\n  }, __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]])\n  }, \"Ver los videos cuando y donde quieras.\"))), __jsx(Button, {\n    onClick: handleAuth\n  }, probaGratis), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]]) + \" \" + \"bold text-block\"\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]])\n  }, alreadyRegistered, ' ', __jsx(\"a\", {\n    href: \"/login\",\n    onClick: handleLogin,\n    className: _JSXStyle.dynamic([[\"3358548012\", [maskColor]]]) + \" \" + \"text-uppercase\"\n  }, login))))), __jsx(_JSXStyle, {\n    id: \"3358548012\",\n    dynamic: [maskColor]\n  }, [\".player.__jsx-style-dynamic-selector{overflow:hidden;position:relative;}\", `.block-msg.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:${maskColor};bottom:0;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-size:14px;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;content:'';display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;left:0;overflow:auto;padding:7.5%;position:absolute;right:0;top:0;z-index:2;width:100%;}`, \".text-block.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{margin-bottom:0;}\", \".text-block.__jsx-style-dynamic-selector small.__jsx-style-dynamic-selector{font-size:.9em;}\", \".text-block.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector{color:var(--white);-webkit-text-decoration:none;text-decoration:none;}\", \".text-block.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:focus,.text-block.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:hover{-webkit-text-decoration:underline;text-decoration:underline;}\", \"@media (min-width:768px){.player.__jsx-style-dynamic-selector{margin-bottom:0;}.block-msg.__jsx-style-dynamic-selector{font-size:22px;}.text-block.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector+p.__jsx-style-dynamic-selector{margin-top:10px;}}\"]));\n}","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/components/Player/BlockedPlayer.js"],"names":["useContext","useEffect","useState","Button","Player","UserContext","IS_PRODUCTION","AuthModalContext","CONFIG","ThemeContext","Color","BlockedPlayer","image","media","user","is_paid","isPaid","showVideo","setShowVideo","autoPlay","openAuthModal","_","handleAuth","e","preventDefault","youtube_type_id","youtube_link","movie_links","find","element","movie_link_type_id","probaGratis","lang","handleLogin","alreadyRegistered","login","theme","maskColor","colors","black","fade","hsl","string","length","position","padding","url"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from 'react'\nimport Button from '~/components/button'\nimport Player from '~/components/Player'\nimport UserContext from '~/contexts/UserContext'\nimport { IS_PRODUCTION } from '~/constants/constants'\nimport { AuthModalContext } from '~/contexts/AuthModalContext'\nimport { CONFIG } from '~/config'\nimport { ThemeContext } from 'styled-components'\nimport Color from 'color'\n\nexport default function BlockedPlayer({ image = '', media }) {\n  const { user } = useContext(UserContext)\n  const { is_paid: isPaid } = media\n  const [ showVideo, setShowVideo ] = useState()\n  const autoPlay = IS_PRODUCTION\n  const { openAuthModal } = useContext(AuthModalContext)\n\n  useEffect(_ => {\n    setShowVideo(!isPaid || isPaid && user)\n  }, [isPaid, user])\n\n  const handleAuth = e => {\n    e.preventDefault()\n    openAuthModal('register')\n  }\n\n  const youtube_type_id = 3\n  const youtube_link = media.movie_links.find(element => {\n    return element.movie_link_type_id === youtube_type_id\n  })\n\n  const probaGratis = CONFIG.lang === 'es-CL' ? 'Prueba gratis' : 'Probá Gratis'\n\n  const handleLogin = e => {\n    e.preventDefault()\n    openAuthModal('login')\n  }\n\n  const alreadyRegistered = CONFIG.lang === 'es-CL' ? '¿Ya estás suscrito?' : '¿Ya eres suscriptor?'\n\n  const login = CONFIG.lang === 'es-CL' ? 'Inicia sesión' : 'Ház login'\n\n  const theme = useContext(ThemeContext)\n  const maskColor = Color(theme.colors.black).fade(.3).hsl().string()\n\n  return (\n    <div className=\"player\">\n      { showVideo ? (\n        (media && media.movie_links && media.movie_links.length && ! youtube_link) ? (\n          <div style={{ position:'relative' }}>\n            <Player\n              height=\"100%\"\n              media={media}\n              poster={image}\n              style={{ padding: '56.44% 0 0 0', position: 'relative' }}\n              width=\"100%\"\n            />\n          </div>\n        ) : youtube_link ? (\n          <div className=\"embed-responsive embed-responsive-16by9\" >\n            <iframe\n              allow={`accelerometer; ${autoPlay ? 'autoplay;' : ''} encrypted-media; gyroscope; picture-in-picture`}\n              allowFullScreen\n              className={`embed-responsive-item`}\n              frameBorder=\"0\"\n              src={`${youtube_link.url}?${autoPlay ? 'autoplay=1' : ''}`}\n            ></iframe>\n          </div>\n        ) : (\n          \"Couldn't parse url\"\n        )\n      ) : (\n        <>\n          <img src={image} width=\"822\" height=\"464\" className=\"img-fluid\" />\n          <div className=\"block-msg text-center\">\n\n            <div className=\"text-block\">\n              <p><strong>Este contenido es exclusivo para los suscriptores</strong></p>\n              <p className=\"d-none d-md-block\"><small>Ver los videos cuando y donde quieras.</small></p>\n            </div>\n\n            <Button onClick={handleAuth}>{probaGratis}</Button>\n\n            <div className=\"bold text-block\">\n              <p>\n                {alreadyRegistered}\n                {' '}\n                <a className=\"text-uppercase\" href=\"/login\" onClick={handleLogin}>{login}</a>\n              </p>\n            </div>\n          </div>\n\n        </>\n      )}\n      <style jsx>{`\n        .player {\n          overflow: hidden;\n          position: relative;\n        }\n        .block-msg {\n          align-items: center;\n          background-color: ${maskColor};\n          bottom: 0;\n          flex-direction: column;\n          font-size: 14px;\n          justify-content: space-around;\n          content: '';\n          display: flex;\n          height: 100%;\n          left: 0;\n          overflow: auto;\n          padding: 7.5%;\n          position: absolute;\n          right: 0;\n          top: 0;\n          z-index: 2;\n          width: 100%;\n        }\n        .text-block p {\n          margin-bottom: 0;\n        }\n        .text-block small {\n          font-size: .9em;\n        }\n        .text-block a {\n          color: var(--white);\n          text-decoration: none;\n        }\n        .text-block a:focus,\n        .text-block a:hover {\n          text-decoration: underline;\n        }\n        @media (min-width: 768px) {\n          .player {\n            margin-bottom: 0;\n          }\n          .block-msg {\n            font-size: 22px;\n          }\n          .text-block p + p {\n            margin-top: 10px;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}