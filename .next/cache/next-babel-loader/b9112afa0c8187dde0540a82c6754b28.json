{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/asyncToGenerator\"));\n\nvar _react = require(\"react\");\n\nvar _nookies = _interopRequireDefault(require(\"nookies\"));\n\nvar _reactToastify = require(\"react-toastify\");\n\nvar _Header = _interopRequireDefault(require(\"./Header\"));\n\nvar _Footer = _interopRequireDefault(require(\"./Footer\"));\n\nvar _loadMenus = _interopRequireDefault(require(\"~/lib/load-menus\"));\n\nvar _AuthModal = _interopRequireDefault(require(\"./AuthModal/AuthModal\"));\n\nvar _error = _interopRequireDefault(require(\"~/pages/_error\"));\n\nvar _withApi = _interopRequireDefault(require(\"../withApi\"));\n\nvar _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nvar Layout = function Layout(_ref) {\n  _s();\n\n  var apiVersion = _ref.apiVersion,\n      children = _ref.children,\n      _ref$color = _ref.color,\n      layoutColor = _ref$color === void 0 ? 'black' : _ref$color,\n      errorCode = _ref.errorCode,\n      header = _ref.header,\n      menus = _ref.menus,\n      menusError = _ref.menusError,\n      _ref$paddingTop = _ref.paddingTop,\n      paddingTop = _ref$paddingTop === void 0 ? true : _ref$paddingTop;\n\n  if (errorCode) {\n    return __jsx(_error[\"default\"], {\n      statusCode: errorCode\n    });\n  }\n\n  if (header === 'closed') {\n    paddingTop = false;\n  }\n\n  var _nookies$get = _nookies[\"default\"].get({}, 'flash_message'),\n      flash_message = _nookies$get.flash_message;\n\n  (0, _react.useEffect)(function (_) {\n    if (flash_message) {\n      var messages = JSON.parse(flash_message);\n      console.log(messages);\n      if (messages.error) _reactToastify.toast.error(messages.error, {\n        delay: 500,\n        autoClose: 5000\n      });\n      if (messages.success) _reactToastify.toast.success(messages.success, {\n        delay: 500,\n        autoClose: 4000\n      });\n      if (messages.info) _reactToastify.toast.info(messages.info, {\n        delay: 500,\n        autoClose: 4000\n      });\n\n      _nookies[\"default\"].destroy({}, 'flash_message', {\n        path: '/'\n      });\n    }\n  }, [flash_message]);\n  return __jsx(React.Fragment, null, __jsx(_reactToastify.ToastContainer, {\n    newestOnTop: true\n  }), __jsx(_Header[\"default\"], {\n    closed: header === 'closed',\n    layoutColor: layoutColor,\n    menus: menusError ? null : menus\n  }), __jsx(\"main\", {\n    className: _JSXStyle.dynamic([[\"3141790652\", [layoutColor === 'white' ? 'black' : 'white', layoutColor === 'white' ? 'background-color: var(--white) !important;' : '']]]) + \" \" + ((!paddingTop ? 'no-padding' : '') || \"\")\n  }, children), __jsx(_Footer[\"default\"], {\n    apiVersion: apiVersion,\n    layoutColor: layoutColor\n  }), __jsx(_AuthModal[\"default\"], null), __jsx(_JSXStyle, {\n    id: \"3141790652\",\n    dynamic: [layoutColor === 'white' ? 'black' : 'white', layoutColor === 'white' ? 'background-color: var(--white) !important;' : '']\n  }, \":root{--color:var(--\".concat(layoutColor === 'white' ? 'black' : 'white', \");}body{\").concat(layoutColor === 'white' ? 'background-color: var(--white) !important;' : '', \");;}main{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding-top:var(--padding-top);}main.no-padding{padding-top:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9jb21wb25lbnRzL2xheW91dC9MYXlvdXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0V5QixBQUd1RCxBQUk5QyxBQUVjLEFBSUUsY0FDaEIsaUJBUEMsYUFIRCwyQkFNaUMsK0JBQ2pDIiwiZmlsZSI6Ii9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9jb21wb25lbnRzL2xheW91dC9MYXlvdXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBub29raWVzIGZyb20gJ25vb2tpZXMnXG5pbXBvcnQgeyB0b2FzdCwgVG9hc3RDb250YWluZXIgfSBmcm9tICdyZWFjdC10b2FzdGlmeSdcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9IZWFkZXInXG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vRm9vdGVyJ1xuaW1wb3J0IGxvYWRNZW51cyBmcm9tICd+L2xpYi9sb2FkLW1lbnVzJ1xuaW1wb3J0IEF1dGhNb2RhbCBmcm9tICcuL0F1dGhNb2RhbC9BdXRoTW9kYWwnXG5pbXBvcnQgQ3VzdG9tRXJyb3IgZnJvbSAnfi9wYWdlcy9fZXJyb3InXG5pbXBvcnQgd2l0aEFwaSBmcm9tICcuLi93aXRoQXBpJ1xuXG5jb25zdCBMYXlvdXQgPSAoe1xuICBhcGlWZXJzaW9uLFxuICBjaGlsZHJlbixcbiAgY29sb3I6IGxheW91dENvbG9yID0gJ2JsYWNrJyxcbiAgZXJyb3JDb2RlLFxuICBoZWFkZXIsXG4gIG1lbnVzLFxuICBtZW51c0Vycm9yLFxuICBwYWRkaW5nVG9wID0gdHJ1ZSxcbn0pID0+IHtcblxuICBpZiAoZXJyb3JDb2RlKSB7XG4gICAgcmV0dXJuIDxDdXN0b21FcnJvciBzdGF0dXNDb2RlPXtlcnJvckNvZGV9IC8+XG4gIH1cbiAgaWYgKGhlYWRlciA9PT0gJ2Nsb3NlZCcpIHtcbiAgICBwYWRkaW5nVG9wID0gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IHsgZmxhc2hfbWVzc2FnZSB9ID0gbm9va2llcy5nZXQoe30sICdmbGFzaF9tZXNzYWdlJylcblxuICB1c2VFZmZlY3QoXyA9PiB7XG4gICAgaWYgKGZsYXNoX21lc3NhZ2UpIHtcbiAgICAgIGxldCBtZXNzYWdlcyA9IEpTT04ucGFyc2UoZmxhc2hfbWVzc2FnZSlcbiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VzKVxuXG4gICAgICBpZihtZXNzYWdlcy5lcnJvcilcbiAgICAgICAgdG9hc3QuZXJyb3IobWVzc2FnZXMuZXJyb3IsIHtkZWxheTogNTAwLCBhdXRvQ2xvc2U6IDUwMDB9KVxuXG4gICAgICBpZihtZXNzYWdlcy5zdWNjZXNzKVxuICAgICAgICB0b2FzdC5zdWNjZXNzKG1lc3NhZ2VzLnN1Y2Nlc3MsIHtkZWxheTogNTAwLCBhdXRvQ2xvc2U6IDQwMDB9KVxuXG4gICAgICBpZihtZXNzYWdlcy5pbmZvKVxuICAgICAgICB0b2FzdC5pbmZvKG1lc3NhZ2VzLmluZm8sIHtkZWxheTogNTAwLCBhdXRvQ2xvc2U6IDQwMDB9KVxuXG4gICAgICBub29raWVzLmRlc3Ryb3koe30sICdmbGFzaF9tZXNzYWdlJywgeyBwYXRoOiAnLycgfSlcbiAgICB9XG4gIH0sIFtmbGFzaF9tZXNzYWdlXSlcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8VG9hc3RDb250YWluZXIgbmV3ZXN0T25Ub3AgLz5cblxuICAgICAgPEhlYWRlciB7Li4ue1xuICAgICAgICBjbG9zZWQ6IGhlYWRlciA9PT0gJ2Nsb3NlZCcsXG4gICAgICAgIGxheW91dENvbG9yLFxuICAgICAgICBtZW51czogbWVudXNFcnJvciA/IG51bGwgOiBtZW51cyxcbiAgICAgIH19IC8+XG5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT17ICEgcGFkZGluZ1RvcCA/ICduby1wYWRkaW5nJyA6ICcnfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9tYWluPlxuXG4gICAgICA8Rm9vdGVyIGFwaVZlcnNpb249e2FwaVZlcnNpb259IGxheW91dENvbG9yPXtsYXlvdXRDb2xvcn0gLz5cblxuICAgICAgPEF1dGhNb2RhbCAvPlxuXG4gICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxuICAgICAgICA6cm9vdCB7XG4gICAgICAgICAgLS1jb2xvcjogdmFyKC0tJHtsYXlvdXRDb2xvciA9PT0gJ3doaXRlJyA/ICdibGFjaycgOiAnd2hpdGUnfSk7XG4gICAgICAgIH1cbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgJHtsYXlvdXRDb2xvciA9PT0gJ3doaXRlJyA/ICdiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS13aGl0ZSkgIWltcG9ydGFudDsnIDogJyd9KTtcbiAgICAgICAgfVxuICAgICAgICBtYWluIHtcbiAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgcGFkZGluZy10b3A6IHZhcigtLXBhZGRpbmctdG9wKTtcbiAgICAgICAgfVxuICAgICAgICBtYWluLm5vLXBhZGRpbmcge1xuICAgICAgICAgIHBhZGRpbmctdG9wOiAwO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC8+XG4gICk7XG59XG5cbkxheW91dC5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyBjdHggPT4ge1xuICBjb25zdCB7IGFwaSB9ID0gY3R4XG4gIHRyeSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBsb2FkTWVudXMoY3R4KVxuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXBpLmdldCgndmVyc2lvbicpXG4gICAgY29uc3QgeyB2ZXJzaW9uOiBhcGlWZXJzaW9uIH0gPSBkYXRhXG4gICAgcmV0dXJuIHsgYXBpVmVyc2lvbiwgbWVudXMgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgICAgY29uc29sZS5sb2coYFRoZSByZXF1ZXN0IHdhcyBtYWRlIGFuZCB0aGUgc2VydmVyIHJlc3BvbmRlZCB3aXRoIGEgc3RhdHVzIGNvZGVcbiAgICAgIHRoYXQgZmFsbHMgb3V0IG9mIHRoZSByYW5nZSBvZiAyeHhgLCBlcnJvci5yZXNwb25zZS5zdGF0dXMpXG4gICAgICAvLyBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5oZWFkZXJzKVxuICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YSlcbiAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdUaGUgcmVxdWVzdCB3YXMgbWFkZSBidXQgbm8gcmVzcG9uc2Ugd2FzIHJlY2VpdmVkJylcbiAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yLnJlcXVlc3QpXG4gICAgICAvLyBgZXJyb3IucmVxdWVzdGAgaXMgYW4gaW5zdGFuY2Ugb2YgWE1MSHR0cFJlcXVlc3QgaW4gdGhlIGJyb3dzZXIgYW5kIGFuIGluc3RhbmNlIG9mXG4gICAgICAvLyBodHRwLkNsaWVudFJlcXVlc3QgaW4gbm9kZS5qc1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21ldGhpbmcgaGFwcGVuZWQgaW4gc2V0dGluZyB1cCB0aGUgcmVxdWVzdCB0aGF0IHRyaWdnZXJlZCBhbiBFcnJvclxuICAgICAgY29uc29sZS5sb2coJ0Vycm9yJywgZXJyb3IubWVzc2FnZSlcbiAgICB9XG4gICAgcmV0dXJuIHsgZXJyb3JDb2RlOiA1MDMgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhBcGkoTGF5b3V0KVxuIl19 */\\n/*@ sourceURL=/Users/rafael/Projects/somosgad/dale/components/layout/Layout.js */\")));\n};\n\n_s(Layout, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Layout;\n\nLayout.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(ctx) {\n    var api, menus, _yield$api$get, data, apiVersion;\n\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            api = ctx.api;\n            _context.prev = 1;\n            _context.next = 4;\n            return (0, _loadMenus[\"default\"])(ctx);\n\n          case 4:\n            menus = _context.sent;\n            _context.next = 7;\n            return api.get('version');\n\n          case 7:\n            _yield$api$get = _context.sent;\n            data = _yield$api$get.data;\n            apiVersion = data.version;\n            return _context.abrupt(\"return\", {\n              apiVersion: apiVersion,\n              menus: menus\n            });\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](1);\n\n            if (_context.t0.response) {\n              console.log(\"The request was made and the server responded with a status code\\n      that falls out of the range of 2xx\", _context.t0.response.status); // console.log(error.response.headers)\n              // console.log(error.response.data)\n            } else if (_context.t0.request) {\n              console.log('The request was made but no response was received'); // console.log(error.request)\n              // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n              // http.ClientRequest in node.js\n            } else {\n              // Something happened in setting up the request that triggered an Error\n              console.log('Error', _context.t0.message);\n            }\n\n            return _context.abrupt(\"return\", {\n              errorCode: 503\n            });\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 13]]);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar _default = _c2 = (0, _withApi[\"default\"])(Layout);\n\nexports[\"default\"] = _default;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Layout\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/components/layout/Layout.js"],"names":["Layout","apiVersion","children","color","layoutColor","errorCode","header","menus","menusError","paddingTop","nookies","get","flash_message","_","messages","JSON","parse","console","log","error","toast","delay","autoClose","success","info","destroy","path","closed","getInitialProps","ctx","api","data","version","response","status","request","message"],"mappings":"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","sourcesContent":["import { useEffect } from 'react'\nimport nookies from 'nookies'\nimport { toast, ToastContainer } from 'react-toastify'\nimport Header from './Header'\nimport Footer from './Footer'\nimport loadMenus from '~/lib/load-menus'\nimport AuthModal from './AuthModal/AuthModal'\nimport CustomError from '~/pages/_error'\nimport withApi from '../withApi'\n\nconst Layout = ({\n  apiVersion,\n  children,\n  color: layoutColor = 'black',\n  errorCode,\n  header,\n  menus,\n  menusError,\n  paddingTop = true,\n}) => {\n\n  if (errorCode) {\n    return <CustomError statusCode={errorCode} />\n  }\n  if (header === 'closed') {\n    paddingTop = false\n  }\n\n  const { flash_message } = nookies.get({}, 'flash_message')\n\n  useEffect(_ => {\n    if (flash_message) {\n      let messages = JSON.parse(flash_message)\n      console.log(messages)\n\n      if(messages.error)\n        toast.error(messages.error, {delay: 500, autoClose: 5000})\n\n      if(messages.success)\n        toast.success(messages.success, {delay: 500, autoClose: 4000})\n\n      if(messages.info)\n        toast.info(messages.info, {delay: 500, autoClose: 4000})\n\n      nookies.destroy({}, 'flash_message', { path: '/' })\n    }\n  }, [flash_message])\n\n  return (\n    <>\n      <ToastContainer newestOnTop />\n\n      <Header {...{\n        closed: header === 'closed',\n        layoutColor,\n        menus: menusError ? null : menus,\n      }} />\n\n      <main className={ ! paddingTop ? 'no-padding' : ''}>\n        {children}\n      </main>\n\n      <Footer apiVersion={apiVersion} layoutColor={layoutColor} />\n\n      <AuthModal />\n\n      <style jsx global>{`\n        :root {\n          --color: var(--${layoutColor === 'white' ? 'black' : 'white'});\n        }\n        body {\n          ${layoutColor === 'white' ? 'background-color: var(--white) !important;' : ''});\n        }\n        main {\n          flex-grow: 1;\n          padding-top: var(--padding-top);\n        }\n        main.no-padding {\n          padding-top: 0;\n        }\n      `}</style>\n    </>\n  );\n}\n\nLayout.getInitialProps = async ctx => {\n  const { api } = ctx\n  try {\n    const menus = await loadMenus(ctx)\n    const { data } = await api.get('version')\n    const { version: apiVersion } = data\n    return { apiVersion, menus }\n  } catch (error) {\n    if (error.response) {\n      console.log(`The request was made and the server responded with a status code\n      that falls out of the range of 2xx`, error.response.status)\n      // console.log(error.response.headers)\n      // console.log(error.response.data)\n    } else if (error.request) {\n      console.log('The request was made but no response was received')\n      // console.log(error.request)\n      // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n      // http.ClientRequest in node.js\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.log('Error', error.message)\n    }\n    return { errorCode: 503 }\n  }\n}\n\nexport default withApi(Layout)\n"]},"metadata":{},"sourceType":"script"}