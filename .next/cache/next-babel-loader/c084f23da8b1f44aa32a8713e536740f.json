{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Layout from '../../components/layout/Layout';\nimport { CONFIG } from '../../config';\nimport api from '../../services/api';\nimport MediaList from '../../components/MediaList/MediaList';\nimport CustomError from '../_error';\n\nvar Category = function Category(_ref) {\n  var category = _ref.category,\n      errorCode = _ref.errorCode,\n      layoutProps = _ref.layoutProps,\n      medias = _ref.medias;\n\n  if (errorCode) {\n    return __jsx(CustomError, {\n      statusCode: errorCode\n    });\n  }\n\n  return __jsx(Layout, _extends({\n    errorCode: errorCode\n  }, layoutProps), __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-654964715\"\n  }, category.name, \" < \", CONFIG.appName)), __jsx(\"div\", {\n    className: \"jsx-654964715\" + \" \" + \"container-fluid\"\n  }, __jsx(\"div\", {\n    className: \"jsx-654964715\" + \" \" + \"row\"\n  }, __jsx(\"div\", {\n    className: \"jsx-654964715\" + \" \" + \"col-md-10 offset-md-1\"\n  }, __jsx(\"header\", {\n    className: \"jsx-654964715\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-654964715\" + \" \" + \"h2\"\n  }, category.name)), medias.length ? __jsx(MediaList, {\n    category: category,\n    medias: medias\n  }) : __jsx(\"div\", {\n    className: \"jsx-654964715\"\n  }, __jsx(\"p\", {\n    className: \"jsx-654964715\"\n  }, \"No se encontraron registros.\"))))), __jsx(_JSXStyle, {\n    id: \"654964715\"\n  }, [\"header.jsx-654964715{padding-top:15px;}\", \".h2.jsx-654964715{margin-bottom:30px;}\", \"@media (min-width:768px){header.jsx-654964715{padding-top:30px;}}\"]));\n};\n\nCategory.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var slug, category, medias, errorCode, response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            slug = ctx.query.slug;\n            medias = [], errorCode = false;\n            _context.prev = 2;\n            _context.next = 5;\n            return api(ctx).get(\"/category/\".concat(slug));\n\n          case 5:\n            response = _context.sent;\n            category = response.data;\n            medias = category.movies;\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](2);\n            errorCode = 404;\n\n          case 13:\n            return _context.abrupt(\"return\", {\n              category: category,\n              errorCode: errorCode,\n              medias: medias\n            });\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 10]]);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default Category;","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/pages/category/[slug].js"],"names":["Head","Layout","CONFIG","api","MediaList","CustomError","Category","category","errorCode","layoutProps","medias","name","appName","length","getInitialProps","ctx","slug","query","get","response","data","movies"],"mappings":";;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AAEA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,WAAP,MAAwB,WAAxB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAAkD;AAAA,MAA/CC,QAA+C,QAA/CA,QAA+C;AAAA,MAArCC,SAAqC,QAArCA,SAAqC;AAAA,MAA1BC,WAA0B,QAA1BA,WAA0B;AAAA,MAAbC,MAAa,QAAbA,MAAa;;AAEjE,MAAIF,SAAJ,EAAe;AACb,WAAO,MAAC,WAAD;AAAa,MAAA,UAAU,EAAEA;AAAzB,MAAP;AACD;;AAED,SACE,MAAC,MAAD;AAAQ,IAAA,SAAS,EAAEA;AAAnB,KAAkCC,WAAlC,GACE,MAAC,IAAD,QACE;AAAA;AAAA,KAAQF,QAAQ,CAACI,IAAjB,SAA6BT,MAAM,CAACU,OAApC,CADF,CADF,EAIE;AAAA,uCAAe;AAAf,KACE;AAAA,uCAAe;AAAf,KACE;AAAA,uCAAe;AAAf,KAEE;AAAA;AAAA,KACE;AAAA,uCAAc;AAAd,KAAoBL,QAAQ,CAACI,IAA7B,CADF,CAFF,EAKID,MAAM,CAACG,MAAP,GACA,MAAC,SAAD,EAAe;AAACN,IAAAA,QAAQ,EAARA,QAAD;AAAWG,IAAAA,MAAM,EAANA;AAAX,GAAf,CADA,GAGA;AAAA;AAAA,KACE;AAAA;AAAA,oCADF,CARJ,CADF,CADF,CAJF;AAAA;AAAA,iKADF;AAsCD,CA5CD;;AA8CAJ,QAAQ,CAACQ,eAAT;AAAA,uEAA2B,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBC,YAAAA,IADiB,GACRD,GAAG,CAACE,KADI,CACjBD,IADiB;AAEXN,YAAAA,MAFW,GAEF,EAFE,EAEEF,SAFF,GAEc,KAFd;AAAA;AAAA;AAAA,mBAIAL,GAAG,CAACY,GAAD,CAAH,CAASG,GAAT,qBAA0BF,IAA1B,EAJA;;AAAA;AAIjBG,YAAAA,QAJiB;AAKvBZ,YAAAA,QAAQ,GAAGY,QAAQ,CAACC,IAApB;AACAV,YAAAA,MAAM,GAAGH,QAAQ,CAACc,MAAlB;AANuB;AAAA;;AAAA;AAAA;AAAA;AAQvBb,YAAAA,SAAS,GAAG,GAAZ;;AARuB;AAAA,6CAUlB;AAAED,cAAAA,QAAQ,EAARA,QAAF;AAAYC,cAAAA,SAAS,EAATA,SAAZ;AAAuBE,cAAAA,MAAM,EAANA;AAAvB,aAVkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAAA;AAAA;AAAA;AAAA;;AAaA,eAAeJ,QAAf","sourcesContent":["import Head from 'next/head'\n\nimport Layout from '../../components/layout/Layout'\nimport { CONFIG } from '../../config'\nimport api from '../../services/api'\nimport MediaList from '../../components/MediaList/MediaList'\nimport CustomError from '../_error'\n\nconst Category = ({ category, errorCode, layoutProps, medias }) => {\n\n  if (errorCode) {\n    return <CustomError statusCode={errorCode} />\n  }\n\n  return (\n    <Layout errorCode={errorCode} {...layoutProps}>\n      <Head>\n        <title>{category.name} &lt; {CONFIG.appName}</title>\n      </Head>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1\">\n\n            <header>\n              <h1 className=\"h2\">{category.name}</h1>\n            </header>\n            { medias.length ? (\n              <MediaList {...{category, medias}} />\n            ) : (\n              <div>\n                <p>No se encontraron registros.</p>\n              </div>\n            )}\n\n          </div>\n        </div>\n      </div>\n      <style jsx>{`\n        header {\n          padding-top: 15px;\n        }\n        .h2 {\n          margin-bottom: 30px;\n        }\n        @media (min-width: 768px) {\n          header {\n            padding-top: 30px;\n          }\n        }\n      `}</style>\n    </Layout>\n  );\n}\n\nCategory.getInitialProps = async ctx => {\n  const { slug } = ctx.query;\n  let category, medias = [], errorCode = false\n  try {\n    const response = await api(ctx).get(`/category/${slug}`)\n    category = response.data\n    medias = category.movies\n  } catch (error) {\n    errorCode = 404\n  }\n  return { category, errorCode, medias }\n}\n\nexport default Category\n"]},"metadata":{},"sourceType":"module"}