{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// next imports\nimport Head from 'next/head'; // react imports\n\nimport { useEffect, useState, useContext } from 'react'; // app imports\n\nimport Layout from '../components/layout/Layout';\nimport { CONFIG } from '../config';\nimport api from '../services/api';\nimport Loading from '../components/Loading/Loading';\nimport MediaList from '../components/MediaList/MediaList';\nimport SearchContext from '../contexts/SearchContext'; // movies page\n\nconst MoviesPage = ({\n  layoutProps\n}) => {\n  const {\n    0: medias,\n    1: setMedias\n  } = useState();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n  const {\n    search,\n    setSearch\n  } = useContext(SearchContext);\n\n  const handleSearch = e => {// Implementar Dwebounce to SearchField\n    // Instalar pacote Lodash _\n  };\n\n  useEffect(_ => {\n    const fetchData = async _ => {\n      try {\n        setLoading(true);\n        const {\n          data: medias\n        } = await api().get(search ? `/search/${search}` : '/movies');\n        setMedias(medias);\n        setLoading(false);\n      } catch (e) {\n        setError(500);\n      }\n    };\n\n    fetchData();\n  }, [search]);\n  const title = search ? `Búsqueda para \"${search}\"` : 'Búsqueda';\n  return __jsx(Layout, layoutProps, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-4144089027\"\n  }, title, \" < \", CONFIG.appName)), __jsx(\"div\", {\n    className: \"jsx-4144089027\" + \" \" + \"container-fluid\"\n  }, __jsx(\"div\", {\n    className: \"jsx-4144089027\" + \" \" + \"row\"\n  }, __jsx(\"div\", {\n    className: \"jsx-4144089027\" + \" \" + \"col-md-10 offset-md-1\"\n  }, __jsx(\"header\", {\n    className: \"jsx-4144089027\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-4144089027\" + \" \" + \"h2\"\n  }, \"Videos\", __jsx(\"input\", {\n    type: \"search\",\n    placeholder: \"Buscar\",\n    onChange: e => setSearch(e.target.value),\n    value: search,\n    className: \"jsx-4144089027\" + \" \" + \"form-control\"\n  })), error ? __jsx(\"h1\", {\n    className: \"jsx-4144089027\" + \" \" + \"h6\"\n  }, error, \" | Incapaz de buscar\") : search && !loading && __jsx(\"h1\", {\n    className: \"jsx-4144089027\" + \" \" + \"h4\"\n  }, medias.length, \" resultados para \\\"\", search, \"\\\"\")), __jsx(Loading, {\n    loadingState: loading\n  }), !loading && __jsx(MediaList, {\n    medias\n  })))), __jsx(_JSXStyle, {\n    id: \"4144089027\"\n  }, [\"header.jsx-4144089027{padding-top:15px;}\", \".h2.jsx-4144089027{margin-bottom:30px;}\", \"@media (min-width:768px){header.jsx-4144089027{padding-top:30px;}}\", \"input[type=search].jsx-4144089027{padding:0px 10px;margin-left:30px;width:40vw;font-size:12px;-webkit-transition:ease-in-out 0.7s;transition:ease-in-out 0.7s;box-shadow:0 0 0 0.1rem var(--primary);}\", \".form-control.jsx-4144089027{background-color:transparent;border:0;display:inline-block;color:#fff;font-family:inherit;font-size:inherit;font-weight:inherit;outline:0;padding:0;vertical-align:middle;width:95px;}\", \".form-control.jsx-4144089027::-webkit-input-placeholder{color:var(--light-gray);}\", \".form-control.jsx-4144089027::-moz-placeholder{color:var(--light-gray);}\", \".form-control.jsx-4144089027:-ms-input-placeholder{color:var(--light-gray);}\", \".form-control.jsx-4144089027::placeholder{color:var(--light-gray);}\"]));\n};\n\nexport default MoviesPage;","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/pages/movies.js"],"names":["Head","useEffect","useState","useContext","Layout","CONFIG","api","Loading","MediaList","SearchContext","MoviesPage","layoutProps","medias","setMedias","loading","setLoading","error","setError","search","setSearch","handleSearch","e","_","fetchData","data","get","title","appName","target","value","length"],"mappings":";;;AAAA;AACA,OAAOA,IAAP,MAAiB,WAAjB,C,CAEA;;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,SAAP,MAAsB,mCAAtB;AACA,OAAOC,aAAP,MAA0B,2BAA1B,C,CAEA;;AACA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmB;AAEpC,QAAM;AAAA,OAACC,MAAD;AAAA,OAASC;AAAT,MAAsBX,QAAQ,EAApC;AACA,QAAM;AAAA,OAACY,OAAD;AAAA,OAAUC;AAAV,MAAwBb,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM;AAAA,OAACc,KAAD;AAAA,OAAQC;AAAR,MAAoBf,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM;AAAEgB,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAwBhB,UAAU,CAACM,aAAD,CAAxC;;AAEA,QAAMW,YAAY,GAAGC,CAAC,IAAI,CACxB;AACA;AACD,GAHD;;AAKApB,EAAAA,SAAS,CAACqB,CAAC,IAAI;AACb,UAAMC,SAAS,GAAG,MAAMD,CAAN,IAAW;AAC3B,UAAI;AACFP,QAAAA,UAAU,CAAC,IAAD,CAAV;AACA,cAAM;AAACS,UAAAA,IAAI,EAAEZ;AAAP,YAAiB,MAAMN,GAAG,GAAGmB,GAAN,CAAUP,MAAM,GAAI,WAAUA,MAAO,EAArB,GAAyB,SAAzC,CAA7B;AACAL,QAAAA,SAAS,CAACD,MAAD,CAAT;AACAG,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OALD,CAKE,OAAOM,CAAP,EAAU;AACVJ,QAAAA,QAAQ,CAAC,GAAD,CAAR;AACD;AACF,KATD;;AAUAM,IAAAA,SAAS;AACV,GAZQ,EAYN,CAACL,MAAD,CAZM,CAAT;AAcA,QAAMQ,KAAK,GAAGR,MAAM,GAAI,kBAAiBA,MAAO,GAA5B,GAAiC,UAArD;AAEA,SACE,MAAC,MAAD,EAAYP,WAAZ,EACE,MAAC,IAAD,QACE;AAAA;AAAA,KAAQe,KAAR,SAAqBrB,MAAM,CAACsB,OAA5B,CADF,CADF,EAIE;AAAA,wCAAe;AAAf,KACE;AAAA,wCAAe;AAAf,KACE;AAAA,wCAAe;AAAf,KACE;AAAA;AAAA,KACE;AAAA,wCAAc;AAAd,eACE;AAC2B,IAAA,IAAI,EAAC,QADhC;AACyC,IAAA,WAAW,EAAC,QADrD;AAEE,IAAA,QAAQ,EAAEN,CAAC,IAAIF,SAAS,CAACE,CAAC,CAACO,MAAF,CAASC,KAAV,CAF1B;AAE4C,IAAA,KAAK,EAAEX,MAFnD;AAAA,wCACY;AADZ,IADF,CADF,EAOGF,KAAK,GACJ;AAAA,wCAAc;AAAd,KAAoBA,KAApB,yBADI,GAEFE,MAAM,IAAI,CAACJ,OAAX,IACF;AAAA,wCAAc;AAAd,KAAoBF,MAAM,CAACkB,MAA3B,yBAAqDZ,MAArD,OAVJ,CADF,EAcE,MAAC,OAAD;AAAS,IAAA,YAAY,EAAEJ;AAAvB,IAdF,EAeI,CAAEA,OAAF,IACA,MAAC,SAAD,EAAe;AAACF,IAAAA;AAAD,GAAf,CAhBJ,CADF,CADF,CAJF;AAAA;AAAA,63BADF;AAoED,CAhGD;;AAkGA,eAAeF,UAAf","sourcesContent":["// next imports\nimport Head from 'next/head'\n\n// react imports\nimport { useEffect, useState, useContext } from 'react'\n\n// app imports\nimport Layout from '../components/layout/Layout'\nimport { CONFIG } from '../config'\nimport api from '../services/api'\nimport Loading from '../components/Loading/Loading'\nimport MediaList from '../components/MediaList/MediaList'\nimport SearchContext from '../contexts/SearchContext'\n\n// movies page\nconst MoviesPage = ({layoutProps}) => {\n\n  const [medias, setMedias] = useState();\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(false)\n  const { search, setSearch } = useContext(SearchContext)\n\n  const handleSearch = e => {\n    // Implementar Dwebounce to SearchField\n    // Instalar pacote Lodash _\n  }\n\n  useEffect(_ => {\n    const fetchData = async _ => {\n      try {\n        setLoading(true)\n        const {data: medias} = await api().get(search ? `/search/${search}` : '/movies')\n        setMedias(medias)\n        setLoading(false)\n      } catch (e) {\n        setError(500)\n      }\n    }\n    fetchData()\n  }, [search])\n\n  const title = search ? `Búsqueda para \"${search}\"` : 'Búsqueda'\n\n  return (\n    <Layout {...layoutProps}>\n      <Head>\n        <title>{title} &lt; {CONFIG.appName}</title>\n      </Head>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1\">\n            <header>\n              <h1 className=\"h2\">Videos\n                <input\n                  className=\"form-control\" type=\"search\" placeholder=\"Buscar\"\n                  onChange={e => setSearch(e.target.value)} value={search}\n                />\n              </h1>\n              {error ? (\n                <h1 className=\"h6\">{error} | Incapaz de buscar</h1>\n              ) : search && !loading && (\n                <h1 className=\"h4\">{medias.length} resultados para \"{search}\"</h1>\n              )}\n            </header>\n            <Loading loadingState={loading} />\n            { ! loading && (\n              <MediaList {...{medias}} />\n            )}\n\n          </div>\n        </div>\n      </div>\n      <style jsx>{`\n        header {\n          padding-top: 15px;\n        }\n        .h2 {\n          margin-bottom: 30px;\n        }\n        @media (min-width: 768px) {\n          header {\n            padding-top: 30px;\n          }\n        }\n        input[type=search] {\n          padding: 0px 10px;\n          margin-left: 30px;\n          width: 40vw;\n          font-size: 12px;\n          transition: ease-in-out 0.7s;\n          box-shadow: 0 0 0 0.1rem var(--primary);\n        }\n        .form-control {\n          background-color: transparent;\n          border: 0;\n          display: inline-block;\n          color: #fff;\n          font-family: inherit;\n          font-size: inherit;\n          font-weight: inherit;\n          outline: 0;\n          padding: 0;\n          vertical-align: middle;\n          width: 95px;\n        }\n        .form-control::placeholder {\n          color: var(--light-gray);\n        }\n      `}</style>\n    </Layout>\n  );\n}\n\nexport default MoviesPage\n\n"]},"metadata":{},"sourceType":"module"}