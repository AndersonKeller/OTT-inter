{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport { useEffect, useState, useContext } from 'react';\nimport { Card, Table } from 'react-bootstrap';\nimport { ThemeContext } from 'styled-components';\nimport { PackageRadio } from '~/components/Packages';\nimport withAuth from '~/components/withAuth';\nimport Layout from '~/components/layout/Layout';\nimport { CONFIG } from '~/config';\n\nvar PaymentsPage = function PaymentsPage(_ref) {\n  _s();\n\n  var api = _ref.api,\n      layoutProps = _ref.layoutProps,\n      packages = _ref.packages,\n      user = _ref.user;\n\n  var _useState = useState({}),\n      plan = _useState[0],\n      setPlan = _useState[1];\n\n  var _useState2 = useState({}),\n      subscription = _useState2[0],\n      setSubscription = _useState2[1];\n\n  var _useState3 = useState([]),\n      orders = _useState3[0],\n      setOrders = _useState3[1];\n\n  useEffect(function (_) {\n    (function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_) {\n        var _yield$api$get, _yield$api$get$data, package_id, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return api.get('subscription');\n\n              case 3:\n                _yield$api$get = _context.sent;\n                _yield$api$get$data = _yield$api$get.data;\n                package_id = _yield$api$get$data.package_id;\n                data = _objectWithoutProperties(_yield$api$get$data, [\"package_id\"]);\n                console.log(data);\n                setSubscription(data);\n\n                if (package_id) {\n                  setPlan(packages.items.find(function (item) {\n                    return item.id == package_id;\n                  }));\n                } else {\n                  setPlan(packages.items.find(function (item) {\n                    return item.amount == 0;\n                  }));\n                }\n\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 12]]);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    })()();\n  }, []);\n  useEffect(function (_) {\n    (function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_) {\n        var _yield$api$get2, data;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return api.get('cash-orders');\n\n              case 3:\n                _yield$api$get2 = _context2.sent;\n                data = _yield$api$get2.data;\n                setOrders(data);\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 8]]);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    })()();\n  }, []);\n  var theme = useContext(ThemeContext);\n  var backgroundColor = theme.colors.backgroundContrast;\n  return __jsx(Layout, layoutProps, __jsx(Head, null, __jsx(\"title\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Pagos < \", CONFIG.appName, \" \")), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"payments-wrapper\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"container\"\n  }, __jsx(\"h3\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"title\"\n  }, \"Pagos\"), __jsx(Card, {\n    bg: \"dark\",\n    text: \"white\"\n  }, __jsx(Card.Body, null, __jsx(Card.Title, null, \"Tu plan\"), __jsx(Card.Text, null, \"Todo el contenido de \", CONFIG.appName, \" por \", plan.name, \".\"), __jsx(\"div\", {\n    style: {\n      fontSize: '13px',\n      lineHeight: '0.7rem',\n      padding: 0\n    },\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"col-5 col-md-2 text-center\"\n  }, __jsx(PackageRadio, {\n    readOnly: true,\n    package_id: plan.id,\n    plan: plan\n  }))), __jsx(Card.Footer, {\n    style: {\n      fontSize: '12px',\n      lineHeight: 1\n    }\n  }, \"Pr\\xF3xima factura: \", subscription.ends_at && subscription.ends_at.split(' ')[0])), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"mobile-table\"\n  }, orders.map(function (order) {\n    return __jsx(\"div\", {\n      key: order.id,\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]]) + \" \" + \"mobile-row\"\n    }, __jsx(\"dl\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(\"dt\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, \"Fecha\"), __jsx(\"dd\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(Link, {\n      href: \"receipt\"\n    }, __jsx(\"a\", {\n      target: \"_blank\",\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, order.paid_at && order.paid_at.split(' ')[0])))), __jsx(\"dl\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(\"dt\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, \"Descripci\\xF3n\"), __jsx(\"dd\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, CONFIG.appName)), __jsx(\"dl\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(\"dt\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, \"Periodo\"), __jsx(\"dd\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, order.paid_at && order.paid_at.split(' ')[0], \"-\")), __jsx(\"dl\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(\"dt\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, \"Medio de Pago\"), __jsx(\"dd\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(Link, {\n      href: \"receipt\"\n    }, __jsx(\"a\", {\n      target: \"_blank\",\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, order.download_link)))), __jsx(\"dl\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(\"dt\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, \"Total\"), __jsx(\"dd\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, order.value)));\n  })), __jsx(Table, {\n    className: \"desktop-table\",\n    hover: true,\n    variant: \"dark\",\n    size: \"sm\"\n  }, __jsx(\"thead\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"tr\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"#\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Fecha\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Descripci\\xF3n\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Periodo\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Medio de Pago\"), __jsx(\"th\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, \"Total\"))), __jsx(\"tbody\", {\n    className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n  }, orders.map(function (order) {\n    return __jsx(\"tr\", {\n      key: order.id,\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(\"td\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, order.id), __jsx(\"td\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(Link, {\n      href: \"receipt\"\n    }, __jsx(\"a\", {\n      target: \"_blank\",\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, order.paid_at && order.paid_at.split(' ')[0]))), __jsx(\"td\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, CONFIG.appName), __jsx(\"td\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, order.paid_at && order.paid_at.split(' ')[0], \"-\"), __jsx(\"td\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, __jsx(Link, {\n      href: \"receipt\"\n    }, __jsx(\"a\", {\n      target: \"_blank\",\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, order.download_link))), __jsx(\"td\", {\n      className: _JSXStyle.dynamic([[\"556766073\", [backgroundColor]]])\n    }, order.value));\n  }))))), __jsx(_JSXStyle, {\n    id: \"556766073\",\n    dynamic: [backgroundColor]\n  }, \".payments-wrapper .bg-dark{background-color:\".concat(backgroundColor, \" !important;}td>a{color:var(--gray);line-height:1.5;-webkit-text-decoration:underline;text-decoration:underline;}dd>a{color:var(--primary);}td>a:hover{color:var(--primary-hover);}dd>a:hover{-webkit-text-decoration:underline;text-decoration:underline;color:var(--primary-hover);}h3{margin-bottom:25px;}.table{margin-top:15px;}.table-dark{background:transparent;}.table-sm{font-size:16px;}.card-text{font-size:14px;}.table-dark.table-hover tbody tr:hover{background-color:var(--primary-alpha);}.mobile-table{font-size:16px;margin-top:40px;margin-bottom:20px;display:none;}.mobile-row{border-top:1px solid white;}dl:first-child{margin-top:15px;}dl{margin-bottom:0.5rem;}dt,dd{font-weight:300;display:inline;}dd{float:right;}@media only screen and (max-width:767px){.mobile-table{display:inherit;}.table{display:none;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9wYWdlcy91c2VyL3BheW1lbnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtKeUIsQUFHb0UsQUFNdkMsQUFLRyxBQUdNLEFBR0QsQUFJUCxBQUdILEFBR08sQUFHUixBQUdBLEFBR3VCLEFBR3ZCLEFBTVksQUFHWCxBQUdLLEFBR0wsQUFJTCxBQUlPLEFBR0gsWUFOakIsQ0FPRSxFQW5DRixBQUdBLEFBTWtCLENBZmxCLEFBd0JBLEFBTWlCLEFBUWYsRUF4RGdCLENBZWxCLEVBVkEsQUF3Q0EsRUF4QkEsSUFiQSxBQStCQSxJQUxxQixBQWVyQixHQWhENEIsSUE2QjVCLFlBS2UsT0F0Q2YsR0FjNkIsR0F5QjdCLHdCQXhCQSxPQVZBIiwiZmlsZSI6Ii9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9wYWdlcy91c2VyL3BheW1lbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJ1xuaW1wb3J0IExpbmsgICBmcm9tICduZXh0L2xpbmsnXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDYXJkLCBUYWJsZSB9IGZyb20gJ3JlYWN0LWJvb3RzdHJhcCdcbmltcG9ydCB7IFRoZW1lQ29udGV4dCB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuaW1wb3J0IHsgUGFja2FnZVJhZGlvIH0gZnJvbSAnfi9jb21wb25lbnRzL1BhY2thZ2VzJ1xuaW1wb3J0IHdpdGhBdXRoICAgICAgICAgZnJvbSAnfi9jb21wb25lbnRzL3dpdGhBdXRoJ1xuaW1wb3J0IExheW91dCAgICAgICAgICAgZnJvbSAnfi9jb21wb25lbnRzL2xheW91dC9MYXlvdXQnXG5pbXBvcnQgeyBDT05GSUcgfSAgICAgICBmcm9tICd+L2NvbmZpZydcblxuY29uc3QgUGF5bWVudHNQYWdlID0gKHsgYXBpLCBsYXlvdXRQcm9wcywgcGFja2FnZXMsIHVzZXIgfSkgPT4ge1xuXG4gIGNvbnN0IFsgcGxhbiwgc2V0UGxhbiBdID0gdXNlU3RhdGUoe30pXG4gIGNvbnN0IFsgc3Vic2NyaXB0aW9uLCBzZXRTdWJzY3JpcHRpb24gXSA9IHVzZVN0YXRlKHt9KVxuICBjb25zdCBbIG9yZGVycywgc2V0T3JkZXJzIF0gPSB1c2VTdGF0ZShbXSlcblxuICB1c2VFZmZlY3QoXyA9PiB7XG4gICAgKGFzeW5jIF8gPT4ge1xuICAgICAgdHJ5e1xuICAgICAgICBjb25zdCB7IGRhdGE6IHtwYWNrYWdlX2lkLCAuLi5kYXRhfSB9ID0gYXdhaXQgYXBpLmdldCgnc3Vic2NyaXB0aW9uJylcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcbiAgICAgICAgc2V0U3Vic2NyaXB0aW9uKGRhdGEpXG5cbiAgICAgICAgaWYocGFja2FnZV9pZCl7XG4gICAgICAgICAgc2V0UGxhbihwYWNrYWdlcy5pdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PSBwYWNrYWdlX2lkKSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgc2V0UGxhbihwYWNrYWdlcy5pdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5hbW91bnQgPT0gMCkpXG4gICAgICAgIH1cbiAgICAgIH1jYXRjaChlcnJvcil7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgfVxuICAgIH0pKClcbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KF8gPT4ge1xuICAgIChhc3luYyBfID0+IHtcbiAgICAgIHRyeXtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBhcGkuZ2V0KCdjYXNoLW9yZGVycycpXG4gICAgICAgIHNldE9yZGVycyhkYXRhKVxuICAgICAgfWNhdGNoKGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICB9XG4gICAgfSkoKVxuICB9LCBbXSlcblxuICBjb25zdCB0aGVtZSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KVxuICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS5jb2xvcnMuYmFja2dyb3VuZENvbnRyYXN0XG5cbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0IHsgLi4ubGF5b3V0UHJvcHMgfT5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+UGFnb3MgJmx0OyB7Q09ORklHLmFwcE5hbWV9IDwvdGl0bGU+XG4gICAgICA8L0hlYWQ+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBheW1lbnRzLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGl0bGVcIj5QYWdvczwvaDM+XG4gICAgICAgICAgPENhcmQgYmc9XCJkYXJrXCIgdGV4dD1cIndoaXRlXCI+XG4gICAgICAgICAgICA8Q2FyZC5Cb2R5PlxuICAgICAgICAgICAgICA8Q2FyZC5UaXRsZT5UdSBwbGFuPC9DYXJkLlRpdGxlPlxuICAgICAgICAgICAgICA8Q2FyZC5UZXh0PlRvZG8gZWwgY29udGVuaWRvIGRlIHtDT05GSUcuYXBwTmFtZX0gcG9yIHtwbGFuLm5hbWV9LjwvQ2FyZC5UZXh0PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC01IGNvbC1tZC0yIHRleHQtY2VudGVyXCIgc3R5bGU9e3tmb250U2l6ZTogJzEzcHgnLCBsaW5lSGVpZ2h0OiAnMC43cmVtJywgcGFkZGluZzogMH19PlxuICAgICAgICAgICAgICAgIDxQYWNrYWdlUmFkaW9cbiAgICAgICAgICAgICAgICAgIHJlYWRPbmx5XG4gICAgICAgICAgICAgICAgICBwYWNrYWdlX2lkPXtwbGFuLmlkfVxuICAgICAgICAgICAgICAgICAgcGxhbj17cGxhbn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQ2FyZC5Cb2R5PlxuICAgICAgICAgICAgPENhcmQuRm9vdGVyIHN0eWxlPXt7Zm9udFNpemU6ICcxMnB4JywgbGluZUhlaWdodDogMX19PlxuICAgICAgICAgICAgICBQcsOzeGltYSBmYWN0dXJhOiB7c3Vic2NyaXB0aW9uLmVuZHNfYXQgJiYgc3Vic2NyaXB0aW9uLmVuZHNfYXQuc3BsaXQoJyAnKVswXX1cbiAgICAgICAgICAgIDwvQ2FyZC5Gb290ZXI+XG4gICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9iaWxlLXRhYmxlXCI+XG4gICAgICAgICAgICB7b3JkZXJzLm1hcChvcmRlciA9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vYmlsZS1yb3dcIiBrZXk9e29yZGVyLmlkfT5cbiAgICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgICA8ZHQ+RmVjaGE8L2R0PlxuICAgICAgICAgICAgICAgICAgPGRkPjxMaW5rIGhyZWY9XCJyZWNlaXB0XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCI+e29yZGVyLnBhaWRfYXQgJiYgb3JkZXIucGFpZF9hdC5zcGxpdCgnICcpWzBdfTwvYT48L0xpbms+PC9kZD5cbiAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICAgIDxkdD5EZXNjcmlwY2nDs248L2R0PlxuICAgICAgICAgICAgICAgICAgPGRkPntDT05GSUcuYXBwTmFtZX08L2RkPlxuICAgICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgICAgPGRsPlxuICAgICAgICAgICAgICAgICAgPGR0PlBlcmlvZG88L2R0PlxuICAgICAgICAgICAgICAgICAgPGRkPntvcmRlci5wYWlkX2F0ICYmIG9yZGVyLnBhaWRfYXQuc3BsaXQoJyAnKVswXX0tPC9kZD5cbiAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICAgIDxkdD5NZWRpbyBkZSBQYWdvPC9kdD5cbiAgICAgICAgICAgICAgICAgIDxkZD48TGluayBocmVmPVwicmVjZWlwdFwiPjxhIHRhcmdldD1cIl9ibGFua1wiPntvcmRlci5kb3dubG9hZF9saW5rfTwvYT48L0xpbms+PC9kZD5cbiAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICAgIDxkdD5Ub3RhbDwvZHQ+XG4gICAgICAgICAgICAgICAgICA8ZGQ+e29yZGVyLnZhbHVlfTwvZGQ+XG4gICAgICAgICAgICAgICAgPC9kbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwibW9iaWxlLXJvd1wiPlxuICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgPGR0PkZlY2hhPC9kdD5cbiAgICAgICAgICAgICAgICA8ZGQ+PExpbmsgaHJlZj1cInJlY2VpcHRcIj48YSB0YXJnZXQ9XCJfYmxhbmtcIj4wOS8wMS8yMDIwPC9hPjwvTGluaz48L2RkPlxuICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgPGR0PkRlc2NyaXBjacOzbjwvZHQ+XG4gICAgICAgICAgICAgICAgPGRkPntDT05GSUcuYXBwTmFtZX08L2RkPlxuICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgPGR0PlBlcmlvZG88L2R0PlxuICAgICAgICAgICAgICAgIDxkZD4wOS8wMS8yMDIw4oCUMDgvMDIvMjAyMDwvZGQ+XG4gICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICA8ZHQ+TWVkaW8gZGUgUGFnbzwvZHQ+XG4gICAgICAgICAgICAgICAgPGRkPlZJU0Eg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKIgMTYyNzwvZGQ+XG4gICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICA8ZHQ+VG90YWw8L2R0PlxuICAgICAgICAgICAgICAgIDxkZD4kOTksMDA8L2RkPlxuICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgPC9kaXY+ICovfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxUYWJsZSBjbGFzc05hbWU9XCJkZXNrdG9wLXRhYmxlXCIgaG92ZXIgdmFyaWFudD1cImRhcmtcIiBzaXplPVwic21cIj5cbiAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0aD4jPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+RmVjaGE8L3RoPlxuICAgICAgICAgICAgICAgIDx0aD5EZXNjcmlwY2nDs248L3RoPlxuICAgICAgICAgICAgICAgIDx0aD5QZXJpb2RvPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+TWVkaW8gZGUgUGFnbzwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPlRvdGFsPC90aD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgIHtvcmRlcnMubWFwKG9yZGVyID0+XG4gICAgICAgICAgICAgICAgPHRyIGtleT17b3JkZXIuaWR9PlxuICAgICAgICAgICAgICAgICAgPHRkPntvcmRlci5pZH08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPjxMaW5rIGhyZWY9XCJyZWNlaXB0XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCI+e29yZGVyLnBhaWRfYXQgJiYgb3JkZXIucGFpZF9hdC5zcGxpdCgnICcpWzBdfTwvYT48L0xpbms+PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD57Q09ORklHLmFwcE5hbWV9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD57b3JkZXIucGFpZF9hdCAmJiBvcmRlci5wYWlkX2F0LnNwbGl0KCcgJylbMF19LTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+PExpbmsgaHJlZj1cInJlY2VpcHRcIj48YSB0YXJnZXQ9XCJfYmxhbmtcIj57b3JkZXIuZG93bmxvYWRfbGlua308L2E+PC9MaW5rPjwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+e29yZGVyLnZhbHVlfTwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgPC9UYWJsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxzdHlsZSBnbG9iYWwganN4PntgXG4gICAgICAgIC5wYXltZW50cy13cmFwcGVyIC5iZy1kYXJrIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2JhY2tncm91bmRDb2xvcn0gIWltcG9ydGFudDtcbiAgICAgICAgICAvKiBJdCdzIGFwcGVhcmluZyBhIGNvbXBpbGVyIGVycm9yIGhlcmUgb24gZGV2IGF0IFdpbmRvd3MsXG4gICAgICAgICAgYnV0IGFwcGFyZW50bHkgaXQgaGFzIGFscmVhZHkgYmVlbiByZXNvbHZlZCBpbiBuZXdlciB2ZXJzaW9ucyBvZiBuZXh0IGFuZCBzdHlsZWQtanN4OlxuICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS96ZWl0L25leHQuanMvaXNzdWVzLzkwNjUgKi9cbiAgICAgICAgfVxuICAgICAgICB0ZCA+IGEgIHtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tZ3JheSk7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgfVxuICAgICAgICBkZCA+IGEge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcbiAgICAgICAgfVxuICAgICAgICB0ZCA+IGE6aG92ZXIge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWhvdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBkZCA+IGE6aG92ZXIge1xuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWhvdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBoMyB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjVweDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlLWRhcmsge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIC50YWJsZS1zbSB7XG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIC5jYXJkLXRleHQge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUtZGFyay50YWJsZS1ob3ZlciB0Ym9keSB0cjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1hbHBoYSk7XG4gICAgICAgIH1cbiAgICAgICAgLm1vYmlsZS10YWJsZSB7XG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgIG1hcmdpbi10b3A6IDQwcHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG4gICAgICAgIC5tb2JpbGUtcm93IHtcbiAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgd2hpdGU7XG4gICAgICAgIH1cbiAgICAgICAgZGw6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICAgIH1cbiAgICAgICAgZGwge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICAgICAgfVxuICAgICAgICBkdCwgZGQge1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgICAgICB9XG4gICAgICAgIGRkIHtcbiAgICAgICAgICBmbG9hdDpyaWdodDtcbiAgICAgICAgfVxuICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2N3B4KSB7XG4gICAgICAgICAgLm1vYmlsZS10YWJsZSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmhlcml0O1xuICAgICAgICAgIH1cbiAgICAgICAgICAudGFibGUge1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBgfTwvc3R5bGU+XG4gIDwvTGF5b3V0PlxuKX1cblxuUGF5bWVudHNQYWdlLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jICh7IGFwaSwgdXNlciB9KSA9PiB7XG4gIGxldCBwYWNrYWdlc1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXBpLmdldCgncGFja2FnZXMnKVxuICAgIHBhY2thZ2VzID0geyBpdGVtczogZGF0YSB9XG4gIH0gY2F0Y2goZXJyb3IpIHtcbiAgICBwYWNrYWdlcyA9IHsgZXJyb3IgfVxuICB9XG4gIHJldHVybiB7IHBhY2thZ2VzLCB1c2VyIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aEF1dGgoUGF5bWVudHNQYWdlKTtcbiJdfQ== */\\n/*@ sourceURL=/Users/rafael/Projects/somosgad/dale/pages/user/payments.js */\")));\n};\n\n_s(PaymentsPage, \"/DsFIx1EEmArEP6XuKnxQriqFC4=\");\n\n_c = PaymentsPage;\n\nPaymentsPage.getInitialProps = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref4) {\n    var api, user, packages, _yield$api$get3, data;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            api = _ref4.api, user = _ref4.user;\n            _context3.prev = 1;\n            _context3.next = 4;\n            return api.get('packages');\n\n          case 4:\n            _yield$api$get3 = _context3.sent;\n            data = _yield$api$get3.data;\n            packages = {\n              items: data\n            };\n            _context3.next = 12;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](1);\n            packages = {\n              error: _context3.t0\n            };\n\n          case 12:\n            return _context3.abrupt(\"return\", {\n              packages: packages,\n              user: user\n            });\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 9]]);\n  }));\n\n  return function (_x3) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nexport default _c2 = withAuth(PaymentsPage);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PaymentsPage\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/pages/user/payments.js"],"names":["Head","Link","useEffect","useState","useContext","Card","Table","ThemeContext","PackageRadio","withAuth","Layout","CONFIG","PaymentsPage","api","layoutProps","packages","user","plan","setPlan","subscription","setSubscription","orders","setOrders","_","get","data","package_id","console","log","items","find","item","id","amount","theme","backgroundColor","colors","backgroundContrast","appName","name","fontSize","lineHeight","padding","ends_at","split","map","order","paid_at","download_link","value","getInitialProps","error"],"mappings":"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","sourcesContent":["import Head from 'next/head'\nimport Link   from 'next/link'\nimport { useEffect, useState, useContext } from 'react'\nimport { Card, Table } from 'react-bootstrap'\nimport { ThemeContext } from 'styled-components'\nimport { PackageRadio } from '~/components/Packages'\nimport withAuth         from '~/components/withAuth'\nimport Layout           from '~/components/layout/Layout'\nimport { CONFIG }       from '~/config'\n\nconst PaymentsPage = ({ api, layoutProps, packages, user }) => {\n\n  const [ plan, setPlan ] = useState({})\n  const [ subscription, setSubscription ] = useState({})\n  const [ orders, setOrders ] = useState([])\n\n  useEffect(_ => {\n    (async _ => {\n      try{\n        const { data: {package_id, ...data} } = await api.get('subscription')\n        console.log(data)\n        setSubscription(data)\n\n        if(package_id){\n          setPlan(packages.items.find(item => item.id == package_id))\n        }else{\n          setPlan(packages.items.find(item => item.amount == 0))\n        }\n      }catch(error){\n        console.log(error)\n      }\n    })()\n  }, [])\n\n  useEffect(_ => {\n    (async _ => {\n      try{\n        const { data } = await api.get('cash-orders')\n        setOrders(data)\n      }catch(error){\n        console.log(error)\n      }\n    })()\n  }, [])\n\n  const theme = useContext(ThemeContext)\n  const backgroundColor = theme.colors.backgroundContrast\n\n  return (\n    <Layout { ...layoutProps }>\n      <Head>\n        <title>Pagos &lt; {CONFIG.appName} </title>\n      </Head>\n      <div className=\"payments-wrapper\">\n        <div className=\"container\">\n          <h3 className=\"title\">Pagos</h3>\n          <Card bg=\"dark\" text=\"white\">\n            <Card.Body>\n              <Card.Title>Tu plan</Card.Title>\n              <Card.Text>Todo el contenido de {CONFIG.appName} por {plan.name}.</Card.Text>\n              <div className=\"col-5 col-md-2 text-center\" style={{fontSize: '13px', lineHeight: '0.7rem', padding: 0}}>\n                <PackageRadio\n                  readOnly\n                  package_id={plan.id}\n                  plan={plan}\n                />\n              </div>\n            </Card.Body>\n            <Card.Footer style={{fontSize: '12px', lineHeight: 1}}>\n              Próxima factura: {subscription.ends_at && subscription.ends_at.split(' ')[0]}\n            </Card.Footer>\n          </Card>\n          <div className=\"mobile-table\">\n            {orders.map(order =>\n              <div className=\"mobile-row\" key={order.id}>\n                <dl>\n                  <dt>Fecha</dt>\n                  <dd><Link href=\"receipt\"><a target=\"_blank\">{order.paid_at && order.paid_at.split(' ')[0]}</a></Link></dd>\n                </dl>\n                <dl>\n                  <dt>Descripción</dt>\n                  <dd>{CONFIG.appName}</dd>\n                </dl>\n                <dl>\n                  <dt>Periodo</dt>\n                  <dd>{order.paid_at && order.paid_at.split(' ')[0]}-</dd>\n                </dl>\n                <dl>\n                  <dt>Medio de Pago</dt>\n                  <dd><Link href=\"receipt\"><a target=\"_blank\">{order.download_link}</a></Link></dd>\n                </dl>\n                <dl>\n                  <dt>Total</dt>\n                  <dd>{order.value}</dd>\n                </dl>\n              </div>\n            )}\n            {/* <div className=\"mobile-row\">\n              <dl>\n                <dt>Fecha</dt>\n                <dd><Link href=\"receipt\"><a target=\"_blank\">09/01/2020</a></Link></dd>\n              </dl>\n              <dl>\n                <dt>Descripción</dt>\n                <dd>{CONFIG.appName}</dd>\n              </dl>\n              <dl>\n                <dt>Periodo</dt>\n                <dd>09/01/2020—08/02/2020</dd>\n              </dl>\n              <dl>\n                <dt>Medio de Pago</dt>\n                <dd>VISA •••• •••• •••• 1627</dd>\n              </dl>\n              <dl>\n                <dt>Total</dt>\n                <dd>$99,00</dd>\n              </dl>\n            </div> */}\n          </div>\n          <Table className=\"desktop-table\" hover variant=\"dark\" size=\"sm\">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Fecha</th>\n                <th>Descripción</th>\n                <th>Periodo</th>\n                <th>Medio de Pago</th>\n                <th>Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              {orders.map(order =>\n                <tr key={order.id}>\n                  <td>{order.id}</td>\n                  <td><Link href=\"receipt\"><a target=\"_blank\">{order.paid_at && order.paid_at.split(' ')[0]}</a></Link></td>\n                  <td>{CONFIG.appName}</td>\n                  <td>{order.paid_at && order.paid_at.split(' ')[0]}-</td>\n                  <td><Link href=\"receipt\"><a target=\"_blank\">{order.download_link}</a></Link></td>\n                  <td>{order.value}</td>\n                </tr>\n              )}\n            </tbody>\n          </Table>\n        </div>\n      </div>\n      <style global jsx>{`\n        .payments-wrapper .bg-dark {\n          background-color: ${backgroundColor} !important;\n          /* It's appearing a compiler error here on dev at Windows,\n          but apparently it has already been resolved in newer versions of next and styled-jsx:\n          https://github.com/zeit/next.js/issues/9065 */\n        }\n        td > a  {\n          color: var(--gray);\n          line-height: 1.5;\n          text-decoration: underline;\n        }\n        dd > a {\n          color: var(--primary);\n        }\n        td > a:hover {\n          color: var(--primary-hover);\n        }\n        dd > a:hover {\n          text-decoration: underline;\n          color: var(--primary-hover);\n        }\n        h3 {\n          margin-bottom: 25px;\n        }\n        .table {\n          margin-top: 15px;\n        }\n        .table-dark {\n          background: transparent;\n        }\n        .table-sm {\n          font-size: 16px;\n        }\n        .card-text {\n          font-size: 14px;\n        }\n        .table-dark.table-hover tbody tr:hover {\n          background-color: var(--primary-alpha);\n        }\n        .mobile-table {\n          font-size: 16px;\n          margin-top: 40px;\n          margin-bottom: 20px;\n          display: none;\n        }\n        .mobile-row {\n          border-top: 1px solid white;\n        }\n        dl:first-child {\n          margin-top: 15px;\n        }\n        dl {\n          margin-bottom: 0.5rem;\n        }\n        dt, dd {\n          font-weight: 300;\n          display: inline;\n        }\n        dd {\n          float:right;\n        }\n        @media only screen and (max-width: 767px) {\n          .mobile-table {\n            display: inherit;\n          }\n          .table {\n            display: none;\n          }\n        }\n    `}</style>\n  </Layout>\n)}\n\nPaymentsPage.getInitialProps = async ({ api, user }) => {\n  let packages\n  try {\n    const { data } = await api.get('packages')\n    packages = { items: data }\n  } catch(error) {\n    packages = { error }\n  }\n  return { packages, user }\n}\n\nexport default withAuth(PaymentsPage);\n"]},"metadata":{},"sourceType":"module"}