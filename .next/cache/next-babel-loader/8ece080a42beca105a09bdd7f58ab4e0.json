{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// next imports\nimport Head from 'next/head'; // react imports\n\nimport { useEffect, useState, useContext } from 'react'; // app imports\n\nimport Layout from '../components/layout/Layout';\nimport { CONFIG } from '../config';\nimport api from '../services/api';\nimport Loading from '../components/Loading/Loading';\nimport MediaList from '../components/MediaList/MediaList';\nimport Button from '../components/button';\nimport UserContext from '../contexts/UserContext';\nimport Router from 'next/router'; // wishlist page\n\nvar WishlistPage = function WishlistPage(_ref) {\n  _s();\n\n  var layoutProps = _ref.layoutProps;\n\n  var _useState = useState(),\n      medias = _useState[0],\n      setMedias = _useState[1];\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n  /* temporarily handle user presence */\n\n\n  useEffect(function (_) {\n    var timeout = setTimeout(function (_) {\n      if (!user) {\n        Router.push('/login');\n      }\n    }, 1000);\n    return function cleanup() {\n      clearTimeout(timeout);\n    };\n  }, [user]);\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_) {\n      var _yield$api$get, _medias;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return api().get('/wishlist');\n\n            case 4:\n              _yield$api$get = _context.sent;\n              _medias = _yield$api$get.data;\n              setMedias(_medias);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              setError(500);\n\n            case 12:\n              setLoading(false);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    }));\n\n    return function fetchData(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function (_) {\n    fetchData();\n  }, []);\n  return __jsx(Layout, layoutProps, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-373446342\"\n  }, \"Mi lista < \", CONFIG.appName)), __jsx(\"div\", {\n    className: \"jsx-373446342\" + \" \" + \"container-fluid\"\n  }, __jsx(\"div\", {\n    className: \"jsx-373446342\" + \" \" + \"row\"\n  }, __jsx(\"div\", {\n    className: \"jsx-373446342\" + \" \" + \"col-md-10 offset-md-1\"\n  }, __jsx(\"header\", {\n    className: \"jsx-373446342\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-373446342\" + \" \" + \"h2\"\n  }, \"Mi lista\")), __jsx(Loading, {\n    loadingState: loading\n  }), !loading && medias && medias.length === 0 && __jsx(\"div\", {\n    className: \"jsx-373446342\"\n  }, __jsx(\"div\", {\n    className: \"jsx-373446342\" + \" \" + \"info\"\n  }, __jsx(\"p\", {\n    className: \"jsx-373446342\"\n  }, \"A\\xFAn no hay videos en tu lista.\")), __jsx(Button, {\n    href: \"/movies\"\n  }, \"Agregar videos\")), !loading && error && !medias && __jsx(\"p\", {\n    className: \"jsx-373446342\"\n  }, error), !loading && !error && medias && medias.length >= 1 && __jsx(MediaList, {\n    medias: medias,\n    wishlist: true\n  })))), __jsx(_JSXStyle, {\n    id: \"373446342\"\n  }, \"header.jsx-373446342{padding-top:15px;}.h2.jsx-373446342{margin-bottom:30px;}.info.jsx-373446342{margin-bottom:30px;}@media (min-width:768px){header.jsx-373446342{padding-top:30px;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWZhZWwvUHJvamVjdHMvc29tb3NnYWQvZGFsZS9wYWdlcy93aXNobGlzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5RmtCLEFBRzRCLEFBR0UsQUFHQSxBQUlBLGlCQVRyQixBQVVFLEVBUEYsQUFHQSIsImZpbGUiOiIvVXNlcnMvcmFmYWVsL1Byb2plY3RzL3NvbW9zZ2FkL2RhbGUvcGFnZXMvd2lzaGxpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuZXh0IGltcG9ydHNcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCdcblxuLy8gcmVhY3QgaW1wb3J0c1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuXG4vLyBhcHAgaW1wb3J0c1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL2xheW91dC9MYXlvdXQnXG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuLi9jb25maWcnXG5pbXBvcnQgYXBpIGZyb20gJy4uL3NlcnZpY2VzL2FwaSdcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4uL2NvbXBvbmVudHMvTG9hZGluZy9Mb2FkaW5nJ1xuaW1wb3J0IE1lZGlhTGlzdCBmcm9tICcuLi9jb21wb25lbnRzL01lZGlhTGlzdC9NZWRpYUxpc3QnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2NvbXBvbmVudHMvYnV0dG9uJ1xuaW1wb3J0IFVzZXJDb250ZXh0IGZyb20gJy4uL2NvbnRleHRzL1VzZXJDb250ZXh0J1xuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcidcblxuLy8gd2lzaGxpc3QgcGFnZVxuY29uc3QgV2lzaGxpc3RQYWdlID0gKHtsYXlvdXRQcm9wc30pID0+IHtcblxuICBjb25zdCBbbWVkaWFzLCBzZXRNZWRpYXNdID0gdXNlU3RhdGUoKVxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKClcbiAgY29uc3Qge3VzZXJ9ID0gdXNlQ29udGV4dChVc2VyQ29udGV4dClcblxuICAvKiB0ZW1wb3JhcmlseSBoYW5kbGUgdXNlciBwcmVzZW5jZSAqL1xuICB1c2VFZmZlY3QoXyA9PiB7XG4gICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoXyA9PiB7XG4gICAgICBpZiAoICEgdXNlcikge1xuICAgICAgICBSb3V0ZXIucHVzaCgnL2xvZ2luJylcbiAgICAgIH1cbiAgICB9LCAxMDAwKVxuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgfVxuICB9LCBbdXNlcl0pXG5cbiAgY29uc3QgZmV0Y2hEYXRhID0gYXN5bmMgXyA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7ZGF0YTogbWVkaWFzfSA9IGF3YWl0IGFwaSgpLmdldCgnL3dpc2hsaXN0JylcbiAgICAgIHNldE1lZGlhcyhtZWRpYXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNldEVycm9yKDUwMClcbiAgICB9XG4gICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgfVxuXG4gIHVzZUVmZmVjdCggXyA9PiB7IGZldGNoRGF0YSgpIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPExheW91dCB7Li4ubGF5b3V0UHJvcHN9PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5NaSBsaXN0YSAmbHQ7IHtDT05GSUcuYXBwTmFtZX08L3RpdGxlPlxuICAgICAgPC9IZWFkPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItZmx1aWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMCBvZmZzZXQtbWQtMVwiPlxuXG4gICAgICAgICAgICB7LyogaGVhZGluZyAqL31cbiAgICAgICAgICAgIDxoZWFkZXI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJoMlwiPk1pIGxpc3RhPC9oMT5cbiAgICAgICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgICAgICB7LyogbG9hZGluZyAqL31cbiAgICAgICAgICAgIDxMb2FkaW5nIGxvYWRpbmdTdGF0ZT17bG9hZGluZ30gLz5cblxuICAgICAgICAgICAgey8qIGVtcHR5IG1zZyAqL31cbiAgICAgICAgICAgIHsgISBsb2FkaW5nICYmIG1lZGlhcyAmJiBtZWRpYXMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm9cIj5cbiAgICAgICAgICAgICAgICAgIDxwPkHDum4gbm8gaGF5IHZpZGVvcyBlbiB0dSBsaXN0YS48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBocmVmPVwiL21vdmllc1wiPkFncmVnYXIgdmlkZW9zPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSB9XG5cbiAgICAgICAgICAgIHsvKiBlcnJvciBtc2cgKi99XG4gICAgICAgICAgICB7ICEgbG9hZGluZyAmJiBlcnJvciAmJiAhIG1lZGlhcyAmJiAoXG4gICAgICAgICAgICAgIDxwPntlcnJvcn08L3A+XG4gICAgICAgICAgICApIH1cblxuICAgICAgICAgICAgey8qIG1lZGlhIGxpc3QgKi99XG4gICAgICAgICAgICB7ICEgbG9hZGluZyAmJiAhIGVycm9yICYmIG1lZGlhcyAmJiBtZWRpYXMubGVuZ3RoID49IDEgJiYgKFxuICAgICAgICAgICAgICA8TWVkaWFMaXN0IHsuLi57bWVkaWFzLCB3aXNobGlzdDogdHJ1ZX19IC8+XG4gICAgICAgICAgICApIH1cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICBoZWFkZXIge1xuICAgICAgICAgIHBhZGRpbmctdG9wOiAxNXB4O1xuICAgICAgICB9XG4gICAgICAgIC5oMiB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgfVxuICAgICAgICAuaW5mbyB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgfVxuICAgICAgICBAbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgICAgICAgICBoZWFkZXIge1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDMwcHg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdpc2hsaXN0UGFnZVxuXG4iXX0= */\\n/*@ sourceURL=/Users/rafael/Projects/somosgad/dale/pages/wishlist.js */\"));\n};\n\n_s(WishlistPage, \"rIVO4HtE3FX/b2Rx9Qlk6lkJWXU=\");\n\n_c = WishlistPage;\nexport default WishlistPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"WishlistPage\");","map":{"version":3,"sources":["/Users/rafael/Projects/somosgad/dale/pages/wishlist.js"],"names":["Head","useEffect","useState","useContext","Layout","CONFIG","api","Loading","MediaList","Button","UserContext","Router","WishlistPage","layoutProps","medias","setMedias","loading","setLoading","error","setError","user","_","timeout","setTimeout","push","cleanup","clearTimeout","fetchData","get","data","appName","length","wishlist"],"mappings":"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","sourcesContent":["// next imports\nimport Head from 'next/head'\n\n// react imports\nimport { useEffect, useState, useContext } from 'react'\n\n// app imports\nimport Layout from '../components/layout/Layout'\nimport { CONFIG } from '../config'\nimport api from '../services/api'\nimport Loading from '../components/Loading/Loading'\nimport MediaList from '../components/MediaList/MediaList'\nimport Button from '../components/button'\nimport UserContext from '../contexts/UserContext'\nimport Router from 'next/router'\n\n// wishlist page\nconst WishlistPage = ({layoutProps}) => {\n\n  const [medias, setMedias] = useState()\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState()\n  const {user} = useContext(UserContext)\n\n  /* temporarily handle user presence */\n  useEffect(_ => {\n    const timeout = setTimeout(_ => {\n      if ( ! user) {\n        Router.push('/login')\n      }\n    }, 1000)\n    return function cleanup() {\n      clearTimeout(timeout)\n    }\n  }, [user])\n\n  const fetchData = async _ => {\n    setLoading(true)\n    try {\n      const {data: medias} = await api().get('/wishlist')\n      setMedias(medias);\n    } catch (e) {\n      setError(500)\n    }\n    setLoading(false)\n  }\n\n  useEffect( _ => { fetchData() }, [])\n\n  return (\n    <Layout {...layoutProps}>\n      <Head>\n        <title>Mi lista &lt; {CONFIG.appName}</title>\n      </Head>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1\">\n\n            {/* heading */}\n            <header>\n              <h1 className=\"h2\">Mi lista</h1>\n            </header>\n\n            {/* loading */}\n            <Loading loadingState={loading} />\n\n            {/* empty msg */}\n            { ! loading && medias && medias.length === 0 && (\n              <div>\n                <div className=\"info\">\n                  <p>Aún no hay videos en tu lista.</p>\n                </div>\n                <Button href=\"/movies\">Agregar videos</Button>\n              </div>\n            ) }\n\n            {/* error msg */}\n            { ! loading && error && ! medias && (\n              <p>{error}</p>\n            ) }\n\n            {/* media list */}\n            { ! loading && ! error && medias && medias.length >= 1 && (\n              <MediaList {...{medias, wishlist: true}} />\n            ) }\n\n          </div>\n        </div>\n      </div>\n      <style jsx>{`\n        header {\n          padding-top: 15px;\n        }\n        .h2 {\n          margin-bottom: 30px;\n        }\n        .info {\n          margin-bottom: 30px;\n        }\n        @media (min-width: 768px) {\n          header {\n            padding-top: 30px;\n          }\n        }\n      `}</style>\n    </Layout>\n  );\n}\n\nexport default WishlistPage\n\n"]},"metadata":{},"sourceType":"module"}